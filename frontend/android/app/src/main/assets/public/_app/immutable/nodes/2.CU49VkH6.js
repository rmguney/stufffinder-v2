import{s as Re,e as _,B as ue,a as B,m as ye,c as k,b as g,C as de,f as d,g as N,p as me,l as a,a2 as Ke,i as y,h as f,v as ie,y as Ue,k as qe,o as _t,a4 as xt,E as Lt,t as re,d as ne,j as Le,r as yt,w as Ze,q as We,n as ce,a3 as Me,S as et}from"../chunks/C6oXrJZt.js";import{S as kt,i as wt,c as $e,a as Te,m as De,t as Y,g as Be,b as le,e as Ne,d as Ve,h as tt}from"../chunks/Zi_cIJN_.js";import{s as lt}from"../chunks/Dc3-eSL_.js";import{e as ze,a as rt}from"../chunks/CP0-fytT.js";import{P as Et}from"../chunks/D9Ne88k6.js";import{t as Ct,i as At,a as $t}from"../chunks/CG5NajwC.js";import{B as Ie}from"../chunks/C7UUfNEJ.js";import{w as Tt}from"../chunks/CTHOJFrz.js";function nt(r,e,t){const l=r.slice();return l[51]=e[t],l}function at(r,e,t){const l=r.slice();return l[57]=e[t],l}function Dt(r,e,t){const l=r.slice();return l[54]=e[t],l[56]=t,l}function st(r,e,t){const l=r.slice();return l[60]=e[t],l}function ot(r){var x;let e,t=r[1]!=="ALL"?`${r[1]==="SOLVED"?"Resolved":"Unresolved"} posts`:"All posts",l,n,o=r[2]!=="ALL"?`${((x=r[10][r[2]])==null?void 0:x.label)||r[2]}`:"All tags",s,i,u=r[0]==="comments"?"Popularity":r[0]==="recent"?"Recent":"A-Z",p;return{c(){e=_("div"),l=re(t),n=re(" 路 "),s=re(o),i=re(" 路 Sort: "),p=re(u),this.h()},l(b){e=k(b,"DIV",{class:!0});var h=g(e);l=ne(h,t),n=ne(h," 路 "),s=ne(h,o),i=ne(h," 路 Sort: "),p=ne(h,u),h.forEach(d),this.h()},h(){a(e,"class","ml-1.5 text-xs text-neutral-500 dark:text-neutral-400")},m(b,h){y(b,e,h),f(e,l),f(e,n),f(e,s),f(e,i),f(e,p)},p(b,h){var v;h[0]&2&&t!==(t=b[1]!=="ALL"?`${b[1]==="SOLVED"?"Resolved":"Unresolved"} posts`:"All posts")&&Le(l,t),h[0]&1028&&o!==(o=b[2]!=="ALL"?`${((v=b[10][b[2]])==null?void 0:v.label)||b[2]}`:"All tags")&&Le(s,o),h[0]&1&&u!==(u=b[0]==="comments"?"Popularity":b[0]==="recent"?"Recent":"A-Z")&&Le(p,u)},d(b){b&&d(e)}}}function it(r){let e,t,l,n="Filter by:",o,s,i,u="All",p,x,b=r[9].length+"",h,v,V,T,O,Z=`<svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5 mx-1.5 -ml-0.5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd"></path></svg>
            Resolved`,P,M,J,I,j=`<svg xmlns="http://www.w3.org/2000/svg" class="h-3.5 w-3.5 mx-1 -ml-0.5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-3a1 1 0 00-.867.5 1 1 0 11-1.731-1A3 3 0 0113 8a3.001 3.001 0 01-2 2.83V11a1 1 0 11-2 0v-1a1 1 0 011-1 1 1 0 100-2zm0 8a1 1 0 100-2 1 1 000 2z" clip-rule="evenodd"></path></svg>
          Unresolved`,se,C,S,L,K="Sort by:",D,U,R,F,ge,fe,_e,he,pe,H,q,Ee,be,ve,W,z,Se,X,c,w,G,ee,te,ke,we,m=r[8].length>0&&ut(r);function E(A,$){return A[1]==="ALL"&&A[2]==="ALL"?St:Vt}let oe=E(r),Q=oe(r);return{c(){e=_("div"),t=_("div"),l=_("span"),l.textContent=n,o=B(),s=_("button"),i=_("span"),i.textContent=u,p=B(),x=_("span"),h=re(b),V=B(),T=_("button"),O=_("span"),O.innerHTML=Z,M=B(),J=_("button"),I=_("span"),I.innerHTML=j,C=B(),S=_("div"),L=_("span"),L.textContent=K,D=B(),U=_("button"),R=ue("svg"),F=ue("path"),ge=re(`\r
          Popularity`),_e=B(),he=_("button"),pe=ue("svg"),H=ue("path"),q=re(`\r
          A-Z`),be=B(),ve=_("button"),W=ue("svg"),z=ue("path"),Se=re(`\r
        \r
          Recent`),c=B(),m&&m.c(),w=B(),G=_("div"),Q.c(),this.h()},l(A){e=k(A,"DIV",{class:!0});var $=g(e);t=k($,"DIV",{class:!0});var ae=g(t);l=k(ae,"SPAN",{class:!0,"data-svelte-h":!0}),me(l)!=="svelte-vialpd"&&(l.textContent=n),o=N(ae),s=k(ae,"BUTTON",{class:!0});var xe=g(s);i=k(xe,"SPAN",{class:!0,"data-svelte-h":!0}),me(i)!=="svelte-qvlo3f"&&(i.textContent=u),p=N(xe),x=k(xe,"SPAN",{class:!0});var Ce=g(x);h=ne(Ce,b),Ce.forEach(d),xe.forEach(d),V=N(ae),T=k(ae,"BUTTON",{class:!0});var Pe=g(T);O=k(Pe,"SPAN",{class:!0,"data-svelte-h":!0}),me(O)!=="svelte-1qaqb64"&&(O.innerHTML=Z),Pe.forEach(d),M=N(ae),J=k(ae,"BUTTON",{class:!0});var Xe=g(J);I=k(Xe,"SPAN",{class:!0,"data-svelte-h":!0}),me(I)!=="svelte-lu1qa2"&&(I.innerHTML=j),Xe.forEach(d),ae.forEach(d),C=N($),S=k($,"DIV",{class:!0});var Ae=g(S);L=k(Ae,"SPAN",{class:!0,"data-svelte-h":!0}),me(L)!=="svelte-9xln4b"&&(L.textContent=K),D=N(Ae),U=k(Ae,"BUTTON",{class:!0});var Oe=g(U);R=de(Oe,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var Ge=g(R);F=de(Ge,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(F).forEach(d),Ge.forEach(d),ge=ne(Oe,`\r
          Popularity`),Oe.forEach(d),_e=N(Ae),he=k(Ae,"BUTTON",{class:!0});var Fe=g(he);pe=de(Fe,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var Qe=g(pe);H=de(Qe,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(H).forEach(d),Qe.forEach(d),q=ne(Fe,`\r
          A-Z`),Fe.forEach(d),be=N(Ae),ve=k(Ae,"BUTTON",{class:!0});var He=g(ve);W=de(He,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var Ye=g(W);z=de(Ye,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(z).forEach(d),Ye.forEach(d),Se=ne(He,`\r
        \r
          Recent`),He.forEach(d),Ae.forEach(d),c=N($),m&&m.l($),w=N($),G=k($,"DIV",{class:!0});var Je=g(G);Q.l(Je),Je.forEach(d),$.forEach(d),this.h()},h(){a(l,"class","text-sm font-medium text-neutral-600 dark:text-neutral-400"),a(i,"class","flex items-center"),a(x,"class","ml-1.5 px-1.5 py-0.5 text-xs rounded-full bg-white/20 dark:bg-black/20 flex items-center"),a(s,"class",v="inline-flex items-center px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium border transition-colors "+(r[1]==="ALL"?"bg-neutral-800 dark:bg-neutral-200 text-white dark:text-neutral-900 border-neutral-700 dark:border-neutral-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-700")),a(O,"class","inline-flex items-center"),a(T,"class",P="inline-flex items-center px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium "+(r[1]==="SOLVED"?"bg-emerald-600 text-white":"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 border border-emerald-100 dark:border-emerald-800/40 hover:bg-emerald-100 dark:hover:bg-emerald-900/30")),a(I,"class","inline-flex items-center"),a(J,"class",se="inline-flex items-center px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium "+(r[1]==="UNSOLVED"?"bg-rose-600 text-white":"bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-300 border border-rose-100 dark:border-rose-800/40 hover:bg-rose-100 dark:hover:bg-rose-900/30")),a(t,"class","flex flex-wrap items-center gap-1.5 sm:gap-2 mb-3 sm:mb-4"),a(L,"class","text-sm font-medium text-neutral-600 dark:text-neutral-400"),a(F,"fill-rule","evenodd"),a(F,"d","M18 5v8a2 2 0 01-2 2h-5l-5 4v-4H4a2 2 0 01-2-2V5a2 2 0 012-2h12a2 2 0 012 2zM7 8H5v2h2V8zm2 0h2v2H9V8zm6 0h-2v2h2V8z"),a(F,"clip-rule","evenodd"),a(R,"xmlns","http://www.w3.org/2000/svg"),a(R,"class","h-3 w-3 mr-1"),a(R,"viewBox","0 0 20 20"),a(R,"fill","currentColor"),a(U,"class",fe="inline-flex items-center px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium border transition-colors "+(r[0]==="comments"?"bg-neutral-800 dark:bg-neutral-200 text-white dark:text-neutral-900 border-neutral-700 dark:border-neutral-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-700")),a(H,"fill-rule","evenodd"),a(H,"d","M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z"),a(H,"clip-rule","evenodd"),a(pe,"xmlns","http://www.w3.org/2000/svg"),a(pe,"class","h-3 w-3 mr-1"),a(pe,"viewBox","0 0 20 20"),a(pe,"fill","currentColor"),a(he,"class",Ee="inline-flex items-center px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium border transition-colors "+(r[0]==="alphabetical"?"bg-neutral-800 dark:bg-neutral-200 text-white dark:text-neutral-900 border-neutral-700 dark:border-neutral-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-700")),a(z,"stroke-linecap","round"),a(z,"stroke-linejoin","round"),a(z,"d","M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"),a(W,"xmlns","http://www.w3.org/2000/svg"),a(W,"fill","none"),a(W,"viewBox","0 0 24 24"),a(W,"stroke-width","3"),a(W,"stroke","currentColor"),a(W,"class","size-3 mr-1"),a(ve,"class",X="inline-flex items-center px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium border transition-colors "+(r[0]==="recent"?"bg-neutral-800 dark:bg-neutral-200 text-white dark:text-neutral-900 border-neutral-700 dark:border-neutral-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-700")),a(S,"class","flex flex-wrap items-center gap-1.5 sm:gap-2 mb-3 sm:mb-4"),a(G,"class","pt-2 border-t border-neutral-200 dark:border-neutral-700 text-xs text-neutral-600 dark:text-neutral-400"),a(e,"class","p-3 sm:p-4")},m(A,$){y(A,e,$),f(e,t),f(t,l),f(t,o),f(t,s),f(s,i),f(s,p),f(s,x),f(x,h),f(t,V),f(t,T),f(T,O),f(t,M),f(t,J),f(J,I),f(e,C),f(e,S),f(S,L),f(S,D),f(S,U),f(U,R),f(R,F),f(U,ge),f(S,_e),f(S,he),f(he,pe),f(pe,H),f(he,q),f(S,be),f(S,ve),f(ve,W),f(W,z),f(ve,Se),f(e,c),m&&m.m(e,null),f(e,w),f(e,G),Q.m(G,null),te=!0,ke||(we=[ie(s,"click",r[27]),ie(T,"click",r[28]),ie(J,"click",r[29]),ie(U,"click",r[30]),ie(he,"click",r[31]),ie(ve,"click",r[32]),ie(e,"introstart",r[24]),ie(e,"outrostart",r[24]),ie(e,"introend",r[25]),ie(e,"outroend",r[25])],ke=!0)},p(A,$){(!te||$[0]&512)&&b!==(b=A[9].length+"")&&Le(h,b),(!te||$[0]&2&&v!==(v="inline-flex items-center px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium border transition-colors "+(A[1]==="ALL"?"bg-neutral-800 dark:bg-neutral-200 text-white dark:text-neutral-900 border-neutral-700 dark:border-neutral-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-700")))&&a(s,"class",v),(!te||$[0]&2&&P!==(P="inline-flex items-center px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium "+(A[1]==="SOLVED"?"bg-emerald-600 text-white":"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-300 border border-emerald-100 dark:border-emerald-800/40 hover:bg-emerald-100 dark:hover:bg-emerald-900/30")))&&a(T,"class",P),(!te||$[0]&2&&se!==(se="inline-flex items-center px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium "+(A[1]==="UNSOLVED"?"bg-rose-600 text-white":"bg-rose-50 dark:bg-rose-900/20 text-rose-700 dark:text-rose-300 border border-rose-100 dark:border-rose-800/40 hover:bg-rose-100 dark:hover:bg-rose-900/30")))&&a(J,"class",se),(!te||$[0]&1&&fe!==(fe="inline-flex items-center px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium border transition-colors "+(A[0]==="comments"?"bg-neutral-800 dark:bg-neutral-200 text-white dark:text-neutral-900 border-neutral-700 dark:border-neutral-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-700")))&&a(U,"class",fe),(!te||$[0]&1&&Ee!==(Ee="inline-flex items-center px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium border transition-colors "+(A[0]==="alphabetical"?"bg-neutral-800 dark:bg-neutral-200 text-white dark:text-neutral-900 border-neutral-700 dark:border-neutral-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-700")))&&a(he,"class",Ee),(!te||$[0]&1&&X!==(X="inline-flex items-center px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium border transition-colors "+(A[0]==="recent"?"bg-neutral-800 dark:bg-neutral-200 text-white dark:text-neutral-900 border-neutral-700 dark:border-neutral-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-700")))&&a(ve,"class",X),A[8].length>0?m?m.p(A,$):(m=ut(A),m.c(),m.m(e,w)):m&&(m.d(1),m=null),oe===(oe=E(A))&&Q?Q.p(A,$):(Q.d(1),Q=oe(A),Q&&(Q.c(),Q.m(G,null)))},i(A){te||(A&&yt(()=>{te&&(ee||(ee=tt(e,lt,{duration:300,easing:rt},!0)),ee.run(1))}),te=!0)},o(A){A&&(ee||(ee=tt(e,lt,{duration:300,easing:rt},!1)),ee.run(0)),te=!1},d(A){A&&d(e),m&&m.d(),Q.d(),A&&ee&&ee.end(),ke=!1,Ze(we)}}}function ut(r){let e,t,l,n="Tags:",o,s,i,u,p,x,b,h,v,V="All Tags",T,O,Z,P,M,J,I,j=r[3]&&dt(r),se=ze(r[6]),C=[];for(let L=0;L<se.length;L+=1)C[L]=ct(st(r,se,L));let S=r[6].length===0&&r[3]&&ht();return{c(){e=_("div"),t=_("div"),l=_("span"),l.textContent=n,o=B(),s=_("div"),i=_("input"),u=B(),j&&j.c(),p=B(),x=_("div"),b=_("div"),h=_("button"),v=_("span"),v.textContent=V,O=B();for(let L=0;L<C.length;L+=1)C[L].c();Z=B(),S&&S.c(),P=B(),M=_("div"),this.h()},l(L){e=k(L,"DIV",{class:!0});var K=g(e);t=k(K,"DIV",{class:!0});var D=g(t);l=k(D,"SPAN",{class:!0,"data-svelte-h":!0}),me(l)!=="svelte-1gtst55"&&(l.textContent=n),o=N(D),s=k(D,"DIV",{class:!0});var U=g(s);i=k(U,"INPUT",{type:!0,placeholder:!0,class:!0}),u=N(U),j&&j.l(U),U.forEach(d),D.forEach(d),p=N(K),x=k(K,"DIV",{class:!0});var R=g(x);b=k(R,"DIV",{class:!0});var F=g(b);h=k(F,"BUTTON",{class:!0});var ge=g(h);v=k(ge,"SPAN",{class:!0,"data-svelte-h":!0}),me(v)!=="svelte-1kmx07u"&&(v.textContent=V),ge.forEach(d),O=N(F);for(let fe=0;fe<C.length;fe+=1)C[fe].l(F);Z=N(F),S&&S.l(F),F.forEach(d),P=N(R),M=k(R,"DIV",{class:!0}),g(M).forEach(d),R.forEach(d),K.forEach(d),this.h()},h(){a(l,"class","text-sm font-medium text-neutral-600 dark:text-neutral-400"),a(i,"type","text"),a(i,"placeholder","Search tags..."),a(i,"class","px-2.5 py-0.5 sm:py-1 text-xs border border-neutral-200 dark:border-neutral-700 rounded-full w-28 sm:w-32 focus:outline-none focus:ring-2 focus:ring-teal-500/30 bg-white dark:bg-neutral-900"),a(s,"class","relative"),a(t,"class","flex flex-wrap items-center gap-1.5 sm:gap-2 mb-2"),a(v,"class","flex items-center"),a(h,"class",T="inline-flex items-center whitespace-nowrap px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium border transition-colors flex-shrink-0 "+(r[2]==="ALL"?"bg-neutral-800 dark:bg-neutral-200 text-white dark:text-neutral-900 border-neutral-700 dark:border-neutral-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-700")),a(b,"class","overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-neutral-300 dark:scrollbar-thumb-neutral-700 flex gap-1.5 sm:gap-2 items-center svelte-1h98zjz"),a(M,"class","absolute right-0 top-0 bottom-0 w-8 bg-gradient-to-l from-white dark:from-neutral-950 to-transparent pointer-events-none"),a(x,"class","relative"),a(e,"class","mb-3 sm:mb-4")},m(L,K){y(L,e,K),f(e,t),f(t,l),f(t,o),f(t,s),f(s,i),We(i,r[3]),f(s,u),j&&j.m(s,null),f(e,p),f(e,x),f(x,b),f(b,h),f(h,v),f(b,O);for(let D=0;D<C.length;D+=1)C[D]&&C[D].m(b,null);f(b,Z),S&&S.m(b,null),f(x,P),f(x,M),J||(I=[ie(i,"input",r[33]),ie(h,"click",r[35])],J=!0)},p(L,K){if(K[0]&8&&i.value!==L[3]&&We(i,L[3]),L[3]?j?j.p(L,K):(j=dt(L),j.c(),j.m(s,null)):j&&(j.d(1),j=null),K[0]&4&&T!==(T="inline-flex items-center whitespace-nowrap px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium border transition-colors flex-shrink-0 "+(L[2]==="ALL"?"bg-neutral-800 dark:bg-neutral-200 text-white dark:text-neutral-900 border-neutral-700 dark:border-neutral-300":"bg-neutral-100 dark:bg-neutral-800 text-neutral-700 dark:text-neutral-300 border-neutral-200 dark:border-neutral-700 hover:bg-neutral-200 dark:hover:bg-neutral-700"))&&a(h,"class",T),K[0]&3146820){se=ze(L[6]);let D;for(D=0;D<se.length;D+=1){const U=st(L,se,D);C[D]?C[D].p(U,K):(C[D]=ct(U),C[D].c(),C[D].m(b,Z))}for(;D<C.length;D+=1)C[D].d(1);C.length=se.length}L[6].length===0&&L[3]?S||(S=ht(),S.c(),S.m(b,null)):S&&(S.d(1),S=null)},d(L){L&&d(e),j&&j.d(),Ue(C,L),S&&S.d(),J=!1,Ze(I)}}}function dt(r){let e,t='<svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z" clip-rule="evenodd"></path></svg>',l,n;return{c(){e=_("button"),e.innerHTML=t,this.h()},l(o){e=k(o,"BUTTON",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-38gwsb"&&(e.innerHTML=t),this.h()},h(){a(e,"class","absolute right-2 top-1/2 transform -translate-y-1/2 text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300")},m(o,s){y(o,e,s),l||(n=ie(e,"click",r[34]),l=!0)},p:ce,d(o){o&&d(e),l=!1,n()}}}function ft(r){let e,t,l=r[10][r[60]].label+"",n,o,s,i;function u(){return r[36](r[60])}function p(...x){return r[37](r[60],...x)}return{c(){e=_("button"),t=_("span"),n=re(l),this.h()},l(x){e=k(x,"BUTTON",{class:!0});var b=g(e);t=k(b,"SPAN",{});var h=g(t);n=ne(h,l),h.forEach(d),b.forEach(d),this.h()},h(){a(e,"class",o="inline-flex items-center whitespace-nowrap px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium border transition-colors flex-shrink-0 "+(r[2]===r[60]?"bg-blue-600 text-white border-blue-700":"bg-neutral-100 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-700 border-neutral-200 dark:border-neutral-700"))},m(x,b){y(x,e,b),f(e,t),f(t,n),s||(i=[ie(e,"click",u),ie(e,"mouseenter",p),ie(e,"mouseleave",r[21])],s=!0)},p(x,b){r=x,b[0]&1088&&l!==(l=r[10][r[60]].label+"")&&Le(n,l),b[0]&68&&o!==(o="inline-flex items-center whitespace-nowrap px-2 py-0.5 sm:py-1 rounded-full text-xs font-medium border transition-colors flex-shrink-0 "+(r[2]===r[60]?"bg-blue-600 text-white border-blue-700":"bg-neutral-100 dark:bg-neutral-800 text-neutral-800 dark:text-neutral-300 hover:bg-neutral-200 dark:hover:bg-neutral-700 border-neutral-200 dark:border-neutral-700"))&&a(e,"class",o)},d(x){x&&d(e),s=!1,Ze(i)}}}function ct(r){let e,t=r[10][r[60]]&&ft(r);return{c(){t&&t.c(),e=ye()},l(l){t&&t.l(l),e=ye()},m(l,n){t&&t.m(l,n),y(l,e,n)},p(l,n){l[10][l[60]]?t?t.p(l,n):(t=ft(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},d(l){l&&d(e),t&&t.d(l)}}}function ht(r){let e,t="No matching tags found";return{c(){e=_("span"),e.textContent=t,this.h()},l(l){e=k(l,"SPAN",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-qcm0gk"&&(e.textContent=t),this.h()},h(){a(e,"class","text-xs text-neutral-500 italic")},m(l,n){y(l,e,n)},d(l){l&&d(e)}}}function Vt(r){let e,t=r[7].length+"",l,n,o=r[9].length+"",s,i,u,p="Clear filters",x,b;return{c(){e=re("Showing "),l=re(t),n=re(" of "),s=re(o),i=re(` posts\r
          `),u=_("button"),u.textContent=p,this.h()},l(h){e=ne(h,"Showing "),l=ne(h,t),n=ne(h," of "),s=ne(h,o),i=ne(h,` posts\r
          `),u=k(h,"BUTTON",{class:!0,"data-svelte-h":!0}),me(u)!=="svelte-wga9k7"&&(u.textContent=p),this.h()},h(){a(u,"class","ml-2 text-teal-600 dark:text-teal-500 hover:underline")},m(h,v){y(h,e,v),y(h,l,v),y(h,n,v),y(h,s,v),y(h,i,v),y(h,u,v),x||(b=ie(u,"click",r[38]),x=!0)},p(h,v){v[0]&128&&t!==(t=h[7].length+"")&&Le(l,t),v[0]&512&&o!==(o=h[9].length+"")&&Le(s,o)},d(h){h&&(d(e),d(l),d(n),d(s),d(i),d(u)),x=!1,b()}}}function St(r){let e;return{c(){e=re("Showing all posts")},l(t){e=ne(t,"Showing all posts")},m(t,l){y(t,e,l)},p:ce,d(t){t&&d(e)}}}function zt(r){let e,t,l,n;const o=[Pt,Nt],s=[];function i(u,p){return u[1]!=="ALL"||u[2]!=="ALL"?0:1}return t=i(r),l=s[t]=o[t](r),{c(){e=_("div"),l.c(),this.h()},l(u){e=k(u,"DIV",{class:!0});var p=g(e);l.l(p),p.forEach(d),this.h()},h(){a(e,"class","w-full text-center py-8")},m(u,p){y(u,e,p),s[t].m(e,null),n=!0},p(u,p){let x=t;t=i(u),t===x?s[t].p(u,p):(Be(),le(s[x],1,1,()=>{s[x]=null}),Ne(),l=s[t],l?l.p(u,p):(l=s[t]=o[t](u),l.c()),Y(l,1),l.m(e,null))},i(u){n||(Y(l),n=!0)},o(u){le(l),n=!1},d(u){u&&d(e),s[t].d()}}}function It(r){let e,t,l=ze(r[5]),n=[];for(let s=0;s<l.length;s+=1)n[s]=pt(at(r,l,s));const o=s=>le(n[s],1,1,()=>{n[s]=null});return{c(){for(let s=0;s<n.length;s+=1)n[s].c();e=ye()},l(s){for(let i=0;i<n.length;i+=1)n[i].l(s);e=ye()},m(s,i){for(let u=0;u<n.length;u+=1)n[u]&&n[u].m(s,i);y(s,e,i),t=!0},p(s,i){if(i[0]&32){l=ze(s[5]);let u;for(u=0;u<l.length;u+=1){const p=at(s,l,u);n[u]?(n[u].p(p,i),Y(n[u],1)):(n[u]=pt(p),n[u].c(),Y(n[u],1),n[u].m(e.parentNode,e))}for(Be(),u=l.length;u<n.length;u+=1)o(u);Ne()}},i(s){if(!t){for(let i=0;i<l.length;i+=1)Y(n[i]);t=!0}},o(s){n=n.filter(Boolean);for(let i=0;i<n.length;i+=1)le(n[i]);t=!1},d(s){s&&d(e),Ue(n,s)}}}function Bt(r){let e,t=ze(Array(je)),l=[];for(let n=0;n<t.length;n+=1)l[n]=jt(Dt(r,t,n));return{c(){for(let n=0;n<l.length;n+=1)l[n].c();e=ye()},l(n){for(let o=0;o<l.length;o+=1)l[o].l(n);e=ye()},m(n,o){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(n,o);y(n,e,o)},p:ce,i:ce,o:ce,d(n){n&&d(e),Ue(l,n)}}}function Nt(r){let e,t="No posts found. Check back later!";return{c(){e=_("p"),e.textContent=t},l(l){e=k(l,"P",{"data-svelte-h":!0}),me(e)!=="svelte-1c2ia9a"&&(e.textContent=t)},m(l,n){y(l,e,n)},p:ce,i:ce,o:ce,d(l){l&&d(e)}}}function Pt(r){let e,t="No posts match your current filters.",l,n,o;return n=new Ie({props:{variant:"outline",class:"mt-4",$$slots:{default:[Mt]},$$scope:{ctx:r}}}),n.$on("click",r[39]),{c(){e=_("p"),e.textContent=t,l=B(),$e(n.$$.fragment)},l(s){e=k(s,"P",{"data-svelte-h":!0}),me(e)!=="svelte-1tv6c9s"&&(e.textContent=t),l=N(s),Te(n.$$.fragment,s)},m(s,i){y(s,e,i),y(s,l,i),De(n,s,i),o=!0},p(s,i){const u={};i[2]&2&&(u.$$scope={dirty:i,ctx:s}),n.$set(u)},i(s){o||(Y(n.$$.fragment,s),o=!0)},o(s){le(n.$$.fragment,s),o=!1},d(s){s&&(d(e),d(l)),Ve(n,s)}}}function Mt(r){let e;return{c(){e=re("Clear Filters")},l(t){e=ne(t,"Clear Filters")},m(t,l){y(t,e,l)},d(t){t&&d(e)}}}function mt(r){let e,t,l,n,o,s;return l=new Et({props:{id:r[57].id,title:r[57].title,description:r[57].description||"",tags:r[57].tags||[],imageSrc:r[57].mysteryObjectImageUrl?r[57].mysteryObjectImageUrl:"",mediaFiles:r[57].mediaFiles||[],postedBy:r[57].author,createdAt:r[57].createdAt,updatedAt:r[57].updatedAt,upvotes:r[57].upvotesCount||0,downvotes:r[57].downvotesCount||0,commentCount:r[57].commentCount||0,userUpvoted:r[57].userUpvoted||!1,userDownvoted:r[57].userDownvoted||!1,solved:r[57].solved,mysteryObject:r[57].mysteryObject||null,variant:"thumb"}}),{c(){e=_("div"),t=_("a"),$e(l.$$.fragment),o=B(),this.h()},l(i){e=k(i,"DIV",{class:!0});var u=g(e);t=k(u,"A",{href:!0});var p=g(t);Te(l.$$.fragment,p),p.forEach(d),o=N(u),u.forEach(d),this.h()},h(){a(t,"href",n=`/thread/${r[57].id}`),a(e,"class","w-full lg:w-[calc(33.333%-1rem)]")},m(i,u){y(i,e,u),f(e,t),De(l,t,null),f(e,o),s=!0},p(i,u){const p={};u[0]&32&&(p.id=i[57].id),u[0]&32&&(p.title=i[57].title),u[0]&32&&(p.description=i[57].description||""),u[0]&32&&(p.tags=i[57].tags||[]),u[0]&32&&(p.imageSrc=i[57].mysteryObjectImageUrl?i[57].mysteryObjectImageUrl:""),u[0]&32&&(p.mediaFiles=i[57].mediaFiles||[]),u[0]&32&&(p.postedBy=i[57].author),u[0]&32&&(p.createdAt=i[57].createdAt),u[0]&32&&(p.updatedAt=i[57].updatedAt),u[0]&32&&(p.upvotes=i[57].upvotesCount||0),u[0]&32&&(p.downvotes=i[57].downvotesCount||0),u[0]&32&&(p.commentCount=i[57].commentCount||0),u[0]&32&&(p.userUpvoted=i[57].userUpvoted||!1),u[0]&32&&(p.userDownvoted=i[57].userDownvoted||!1),u[0]&32&&(p.solved=i[57].solved),u[0]&32&&(p.mysteryObject=i[57].mysteryObject||null),l.$set(p),(!s||u[0]&32&&n!==(n=`/thread/${i[57].id}`))&&a(t,"href",n)},i(i){s||(Y(l.$$.fragment,i),s=!0)},o(i){le(l.$$.fragment,i),s=!1},d(i){i&&d(e),Ve(l)}}}function pt(r){let e=r[57].id,t,l,n=mt(r);return{c(){n.c(),t=ye()},l(o){n.l(o),t=ye()},m(o,s){n.m(o,s),y(o,t,s),l=!0},p(o,s){s[0]&32&&Re(e,e=o[57].id)?(Be(),le(n,1,1,ce),Ne(),n=mt(o),n.c(),Y(n,1),n.m(t.parentNode,t)):n.p(o,s)},i(o){l||(Y(n),l=!0)},o(o){le(n),l=!1},d(o){o&&d(t),n.d(o)}}}function jt(r){let e,t='<div class="bg-white dark:bg-neutral-950 shadow-sm border border-neutral-200 dark:border-neutral-800 rounded-md overflow-hidden animate-pulse svelte-1h98zjz"><div class="w-full aspect-[4/3] bg-neutral-200 dark:bg-neutral-800"></div> <div class="p-4"><div class="h-5 bg-neutral-200 dark:bg-neutral-800 rounded w-3/4 mb-3"></div> <div class="h-4 bg-neutral-200 dark:bg-neutral-800 rounded w-full mb-3"></div> <div class="flex flex-wrap gap-1.5 mb-3"><div class="h-5 w-16 bg-neutral-200 dark:bg-neutral-800 rounded-full"></div> <div class="h-5 w-12 bg-neutral-200 dark:bg-neutral-800 rounded-full"></div></div> <div class="pt-3 border-t border-neutral-200 dark:border-neutral-700 flex justify-between"><div class="h-4 w-24 bg-neutral-200 dark:bg-neutral-800 rounded"></div> <div class="h-4 w-16 bg-neutral-200 dark:bg-neutral-800 rounded"></div></div></div></div> ';return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=k(l,"DIV",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-1bdeukg"&&(e.innerHTML=t),this.h()},h(){a(e,"class","w-full lg:w-[calc(33.333%-1rem)]")},m(l,n){y(l,e,n)},p:ce,d(l){l&&d(e)}}}function Ut(r){let e,t;return{c(){e=ue("svg"),t=ue("path"),this.h()},l(l){e=de(l,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var n=g(e);t=de(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(t).forEach(d),n.forEach(d),this.h()},h(){a(t,"fill-rule","evenodd"),a(t,"d","M15.707 15.707a1 1 0 01-1.414 0l-5-5a1 1 0 010-1.414l5-5a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"),a(t,"clip-rule","evenodd"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"class","h-4 w-4"),a(e,"viewBox","0 0 20 20"),a(e,"fill","currentColor")},m(l,n){y(l,e,n),f(e,t)},p:ce,d(l){l&&d(e)}}}function Ot(r){let e,t;return{c(){e=ue("svg"),t=ue("path"),this.h()},l(l){e=de(l,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var n=g(e);t=de(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(t).forEach(d),n.forEach(d),this.h()},h(){a(t,"fill-rule","evenodd"),a(t,"d","M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z"),a(t,"clip-rule","evenodd"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"class","h-4 w-4"),a(e,"viewBox","0 0 20 20"),a(e,"fill","currentColor")},m(l,n){y(l,e,n),f(e,t)},p:ce,d(l){l&&d(e)}}}function Ft(r){let e=r[51]+"",t,l;return{c(){t=re(e),l=B()},l(n){t=ne(n,e),l=N(n)},m(n,o){y(n,t,o),y(n,l,o)},p(n,o){o[0]&131088&&e!==(e=n[51]+"")&&Le(t,e)},d(n){n&&(d(t),d(l))}}}function bt(r){let e,t;function l(){return r[42](r[51])}return e=new Ie({props:{variant:r[51]===r[4]?"default":"outline",size:"sm",class:"h-8 w-8 p-0 "+(r[51]===r[4]?"bg-teal-600 hover:bg-teal-700 text-white":"")+" rounded-md",disabled:r[17]===0,$$slots:{default:[Ft]},$$scope:{ctx:r}}}),e.$on("click",l),{c(){$e(e.$$.fragment)},l(n){Te(e.$$.fragment,n)},m(n,o){De(e,n,o),t=!0},p(n,o){r=n;const s={};o[0]&131088&&(s.variant=r[51]===r[4]?"default":"outline"),o[0]&131088&&(s.class="h-8 w-8 p-0 "+(r[51]===r[4]?"bg-teal-600 hover:bg-teal-700 text-white":"")+" rounded-md"),o[0]&131072&&(s.disabled=r[17]===0),o[0]&131088|o[2]&2&&(s.$$scope={dirty:o,ctx:r}),e.$set(s)},i(n){t||(Y(e.$$.fragment,n),t=!0)},o(n){le(e.$$.fragment,n),t=!1},d(n){Ve(e,n)}}}function Ht(r){let e,t;return{c(){e=ue("svg"),t=ue("path"),this.h()},l(l){e=de(l,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var n=g(e);t=de(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(t).forEach(d),n.forEach(d),this.h()},h(){a(t,"fill-rule","evenodd"),a(t,"d","M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z"),a(t,"clip-rule","evenodd"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"class","h-4 w-4"),a(e,"viewBox","0 0 20 20"),a(e,"fill","currentColor")},m(l,n){y(l,e,n),f(e,t)},p:ce,d(l){l&&d(e)}}}function qt(r){let e,t;return{c(){e=ue("svg"),t=ue("path"),this.h()},l(l){e=de(l,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var n=g(e);t=de(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(t).forEach(d),n.forEach(d),this.h()},h(){a(t,"fill-rule","evenodd"),a(t,"d","M4.293 15.707a1 1 0 010-1.414L8.586 10 4.293 6.707a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0zM10.293 15.707a1 1 0 010-1.414L14.586 10l-4.293-3.293a1 1 0 011.414-1.414l5 5a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0z"),a(t,"clip-rule","evenodd"),a(e,"xmlns","http://www.w3.org/2000/svg"),a(e,"class","h-4 w-4"),a(e,"viewBox","0 0 20 20"),a(e,"fill","currentColor")},m(l,n){y(l,e,n),f(e,t)},p:ce,d(l){l&&d(e)}}}function vt(r){let e,t,l,n=r[12].label+"",o,s,i,u,p=(r[12].description||"No description available")+"",x;function b(V,T){if(V[13])return Zt;if(V[14])return Rt}let h=b(r),v=h&&h(r);return{c(){e=_("div"),t=_("div"),l=_("div"),o=re(n),s=B(),v&&v.c(),i=B(),u=_("p"),x=re(p),this.h()},l(V){e=k(V,"DIV",{class:!0,style:!0});var T=g(e);t=k(T,"DIV",{class:!0});var O=g(t);l=k(O,"DIV",{class:!0});var Z=g(l);o=ne(Z,n),Z.forEach(d),s=N(O),v&&v.l(O),i=N(O),u=k(O,"P",{class:!0});var P=g(u);x=ne(P,p),P.forEach(d),O.forEach(d),T.forEach(d),this.h()},h(){a(l,"class","font-medium text-sm mb-1"),a(u,"class","text-xs text-neutral-600 dark:text-neutral-400"),a(t,"class","p-3"),a(e,"class","fixed z-50 max-w-xs bg-white dark:bg-neutral-900 shadow-lg rounded-md border border-neutral-200 dark:border-neutral-700 animate-in fade-in zoom-in-95 duration-100 svelte-1h98zjz"),Me(e,"left",r[16].x+"px"),Me(e,"top",r[16].y+"px"),Me(e,"transform","translateX(-50%)")},m(V,T){y(V,e,T),f(e,t),f(t,l),f(l,o),f(t,s),v&&v.m(t,null),f(t,i),f(t,u),f(u,x)},p(V,T){T[0]&4096&&n!==(n=V[12].label+"")&&Le(o,n),h===(h=b(V))&&v?v.p(V,T):(v&&v.d(1),v=h&&h(V),v&&(v.c(),v.m(t,i))),T[0]&4096&&p!==(p=(V[12].description||"No description available")+"")&&Le(x,p),T[0]&65536&&Me(e,"left",V[16].x+"px"),T[0]&65536&&Me(e,"top",V[16].y+"px")},d(V){V&&d(e),v&&v.d()}}}function Rt(r){let e,t,l;return{c(){e=_("img"),this.h()},l(n){e=k(n,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){et(e.src,t=r[14])||a(e,"src",t),a(e,"alt",l=r[12].label),a(e,"class","max-h-40 w-full object-contain mb-2 rounded-md")},m(n,o){y(n,e,o)},p(n,o){o[0]&16384&&!et(e.src,t=n[14])&&a(e,"src",t),o[0]&4096&&l!==(l=n[12].label)&&a(e,"alt",l)},d(n){n&&d(e)}}}function Zt(r){let e,t='<div class="animate-spin h-5 w-5 border-2 border-neutral-300 border-t-teal-600 rounded-full"></div>';return{c(){e=_("div"),e.innerHTML=t,this.h()},l(l){e=k(l,"DIV",{class:!0,"data-svelte-h":!0}),me(e)!=="svelte-10fpon7"&&(e.innerHTML=t),this.h()},h(){a(e,"class","h-12 w-full flex items-center justify-center")},m(l,n){y(l,e,n)},p:ce,d(l){l&&d(e)}}}function Xt(r){let e,t,l,n,o,s,i,u="Filter & Sort",p,x,b,h,v,V,T,O,Z,P,M,J,I,j,se,C,S,L,K,D,U,R,F,ge,fe,_e,he,pe,H=!r[11]&&ot(r),q=r[11]&&it(r);const Ee=[Bt,It,zt],be=[];function ve(c,w){return c[18]?0:c[5].length>0?1:2}P=ve(r),M=be[P]=Ee[P](r),C=new Ie({props:{variant:"outline",size:"sm",class:"h-8 w-8 p-0 rounded-md",disabled:r[4]===1||r[17]===0,$$slots:{default:[Ut]},$$scope:{ctx:r}}}),C.$on("click",r[40]),L=new Ie({props:{variant:"outline",size:"sm",class:"h-8 w-8 p-0 rounded-md",disabled:r[4]===1||r[17]===0,$$slots:{default:[Ot]},$$scope:{ctx:r}}}),L.$on("click",r[41]);let W=ze(r[17]>0?gt(r[4],r[17]):[1]),z=[];for(let c=0;c<W.length;c+=1)z[c]=bt(nt(r,W,c));const Se=c=>le(z[c],1,1,()=>{z[c]=null});U=new Ie({props:{variant:"outline",size:"sm",class:"h-8 w-8 p-0 rounded-md",disabled:r[4]===r[17]||r[17]<=1,$$slots:{default:[Ht]},$$scope:{ctx:r}}}),U.$on("click",r[43]),F=new Ie({props:{variant:"outline",size:"sm",class:"h-8 w-8 p-0 rounded-md",disabled:r[4]===r[17]||r[17]<=1,$$slots:{default:[qt]},$$scope:{ctx:r}}}),F.$on("click",r[44]);let X=r[15]&&r[12]&&vt(r);return{c(){e=_("div"),t=_("div"),l=_("div"),n=ue("svg"),o=ue("path"),s=B(),i=_("h3"),i.textContent=u,p=B(),H&&H.c(),x=B(),b=_("div"),h=ue("svg"),v=ue("path"),T=B(),q&&q.c(),O=B(),Z=_("div"),M.c(),J=B(),I=_("div"),j=_("div"),se=B(),$e(C.$$.fragment),S=B(),$e(L.$$.fragment),K=B();for(let c=0;c<z.length;c+=1)z[c].c();D=B(),$e(U.$$.fragment),R=B(),$e(F.$$.fragment),ge=B(),X&&X.c(),fe=ye(),this.h()},l(c){e=k(c,"DIV",{class:!0});var w=g(e);t=k(w,"DIV",{class:!0});var G=g(t);l=k(G,"DIV",{class:!0});var ee=g(l);n=de(ee,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var te=g(n);o=de(te,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),g(o).forEach(d),te.forEach(d),s=N(ee),i=k(ee,"H3",{class:!0,"data-svelte-h":!0}),me(i)!=="svelte-1kyd2p6"&&(i.textContent=u),p=N(ee),H&&H.l(ee),ee.forEach(d),x=N(G),b=k(G,"DIV",{class:!0});var ke=g(b);h=de(ke,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0});var we=g(h);v=de(we,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),g(v).forEach(d),we.forEach(d),ke.forEach(d),G.forEach(d),T=N(w),q&&q.l(w),w.forEach(d),O=N(c),Z=k(c,"DIV",{class:!0});var m=g(Z);M.l(m),m.forEach(d),J=N(c),I=k(c,"DIV",{class:!0});var E=g(I);j=k(E,"DIV",{class:!0}),g(j).forEach(d),se=N(E),Te(C.$$.fragment,E),S=N(E),Te(L.$$.fragment,E),K=N(E);for(let oe=0;oe<z.length;oe+=1)z[oe].l(E);D=N(E),Te(U.$$.fragment,E),R=N(E),Te(F.$$.fragment,E),E.forEach(d),ge=N(c),X&&X.l(c),fe=ye(),this.h()},h(){a(o,"stroke-linecap","round"),a(o,"stroke-linejoin","round"),a(o,"stroke-width","2"),a(o,"d","M3 4a1 1 0 011-1h16a1 1 0 011 1v2.586a1 1 0 01-.293.707l-6.414 6.414a1 1 0 00-.293.707V17l-4 4v-6.586a1 1 0 00-.293-.707L3.293 7.293A1 1 0 013 6.586V4z"),a(n,"xmlns","http://www.w3.org/2000/svg"),a(n,"class","h-4 w-4 text-neutral-600 dark:text-neutral-400"),a(n,"fill","none"),a(n,"viewBox","0 0 24 24"),a(n,"stroke","currentColor"),a(i,"class","font-medium text-sm text-neutral-800 dark:text-neutral-200"),a(l,"class","flex items-center gap-1.5 sm:gap-2"),a(v,"fill-rule","evenodd"),a(v,"d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"),a(v,"clip-rule","evenodd"),a(h,"xmlns","http://www.w3.org/2000/svg"),a(h,"class",V=Ke(`h-4 w-4 transition-transform duration-300 ${r[11]?"rotate-180":"rotate-0"}`)+" svelte-1h98zjz"),a(h,"viewBox","0 0 20 20"),a(h,"fill","currentColor"),a(b,"class","text-neutral-500 dark:text-neutral-400"),a(t,"class","p-2.5 sm:p-3 flex items-center justify-between border-b border-neutral-100 dark:border-neutral-800 cursor-pointer"),a(e,"class","w-full bg-white dark:bg-neutral-950 shadow-sm rounded-md border border-neutral-200 dark:border-neutral-800 mb-4"),a(Z,"class","flex flex-col lg:flex-wrap lg:flex-row justify-center gap-4 lg:gap-6"),a(j,"class","flex items-center gap-1"),a(I,"class","flex justify-center mt-8 mb-4")},m(c,w){y(c,e,w),f(e,t),f(t,l),f(l,n),f(n,o),f(l,s),f(l,i),f(l,p),H&&H.m(l,null),f(t,x),f(t,b),f(b,h),f(h,v),f(e,T),q&&q.m(e,null),y(c,O,w),y(c,Z,w),be[P].m(Z,null),y(c,J,w),y(c,I,w),f(I,j),f(I,se),De(C,I,null),f(I,S),De(L,I,null),f(I,K);for(let G=0;G<z.length;G+=1)z[G]&&z[G].m(I,null);f(I,D),De(U,I,null),f(I,R),De(F,I,null),y(c,ge,w),X&&X.m(c,w),y(c,fe,w),_e=!0,he||(pe=ie(t,"click",r[23]),he=!0)},p(c,w){c[11]?H&&(H.d(1),H=null):H?H.p(c,w):(H=ot(c),H.c(),H.m(l,null)),(!_e||w[0]&2048&&V!==(V=Ke(`h-4 w-4 transition-transform duration-300 ${c[11]?"rotate-180":"rotate-0"}`)+" svelte-1h98zjz"))&&a(h,"class",V),c[11]?q?(q.p(c,w),w[0]&2048&&Y(q,1)):(q=it(c),q.c(),Y(q,1),q.m(e,null)):q&&(Be(),le(q,1,1,()=>{q=null}),Ne());let G=P;P=ve(c),P===G?be[P].p(c,w):(Be(),le(be[G],1,1,()=>{be[G]=null}),Ne(),M=be[P],M?M.p(c,w):(M=be[P]=Ee[P](c),M.c()),Y(M,1),M.m(Z,null));const ee={};w[0]&131088&&(ee.disabled=c[4]===1||c[17]===0),w[2]&2&&(ee.$$scope={dirty:w,ctx:c}),C.$set(ee);const te={};if(w[0]&131088&&(te.disabled=c[4]===1||c[17]===0),w[2]&2&&(te.$$scope={dirty:w,ctx:c}),L.$set(te),w[0]&4325392){W=ze(c[17]>0?gt(c[4],c[17]):[1]);let m;for(m=0;m<W.length;m+=1){const E=nt(c,W,m);z[m]?(z[m].p(E,w),Y(z[m],1)):(z[m]=bt(E),z[m].c(),Y(z[m],1),z[m].m(I,D))}for(Be(),m=W.length;m<z.length;m+=1)Se(m);Ne()}const ke={};w[0]&131088&&(ke.disabled=c[4]===c[17]||c[17]<=1),w[2]&2&&(ke.$$scope={dirty:w,ctx:c}),U.$set(ke);const we={};w[0]&131088&&(we.disabled=c[4]===c[17]||c[17]<=1),w[2]&2&&(we.$$scope={dirty:w,ctx:c}),F.$set(we),c[15]&&c[12]?X?X.p(c,w):(X=vt(c),X.c(),X.m(fe.parentNode,fe)):X&&(X.d(1),X=null)},i(c){if(!_e){Y(q),Y(M),Y(C.$$.fragment,c),Y(L.$$.fragment,c);for(let w=0;w<W.length;w+=1)Y(z[w]);Y(U.$$.fragment,c),Y(F.$$.fragment,c),_e=!0}},o(c){le(q),le(M),le(C.$$.fragment,c),le(L.$$.fragment,c),z=z.filter(Boolean);for(let w=0;w<z.length;w+=1)le(z[w]);le(U.$$.fragment,c),le(F.$$.fragment,c),_e=!1},d(c){c&&(d(e),d(O),d(Z),d(J),d(I),d(ge),d(fe)),H&&H.d(),q&&q.d(),be[P].d(),Ve(C),Ve(L),Ue(z,c),Ve(U),Ve(F),X&&X.d(c),he=!1,pe()}}}const je=9;function Gt(r,e){if(!r||!Array.isArray(r))return[];const t=[...r];switch(e){case"comments":t.sort((l,n)=>(n.commentCount||0)-(l.commentCount||0));break;case"alphabetical":t.sort((l,n)=>l.title.localeCompare(n.title));break;case"recent":t.sort((l,n)=>n.id-l.id),t.length>0;break}return t}function Qt(r,e,t){return!r||!Array.isArray(r)?[]:r.filter(l=>{if(e!=="ALL"){const n=l.solved===!0;if(e==="SOLVED"&&!n||e==="UNSOLVED"&&n)return!1}return!(t!=="ALL"&&!(l.tags||[]).includes(t))})}function gt(r,e){return e<=5?Array.from({length:e},(t,l)=>l+1):r<=3?[1,2,3,4,5]:r>=e-2?[e-4,e-3,e-2,e-1,e]:[r-2,r-1,r,r+1,r+2]}function Yt(r,e,t){let l,n,o,s,i,u,p,x;qe(r,Ct,m=>t(9,u=m)),qe(r,At,m=>t(18,x=m));let b=!1;_t(async function(){S()});let h="recent",v="ALL",V="ALL",T="",O=!1,Z=!1,P=1,M=null,J=!1,I=null,j=!1,se={x:0,y:0};const C=Tt({});qe(r,C,m=>t(10,p=m));async function S(){var m,E,oe,Q;if(l.length)try{let A={};for(const $ of l)if($)try{const xe=await(await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${$}&format=json&languages=en&props=labels|descriptions&origin=*`)).json();if(xe.entities&&xe.entities[$]){const Ce=xe.entities[$];A[$]={id:$,label:((E=(m=Ce.labels)==null?void 0:m.en)==null?void 0:E.value)||"Unknown label",description:((Q=(oe=Ce.descriptions)==null?void 0:oe.en)==null?void 0:Q.value)||"No description"}}}catch(ae){console.error(`Failed to fetch details for tag ${$}:`,ae)}C.set(A)}catch(A){console.error("Failed to fetch tag details:",A),C.set({})}}async function L(m){if(!m||!m.id)return null;try{t(13,J=!0);const E=await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${m.id}&format=json&props=claims&origin=*`);if(!E.ok)throw new Error("Failed to fetch entity data");const Q=(await E.json()).entities[m.id];if(Q&&Q.claims&&Q.claims.P18&&Q.claims.P18.length>0){const A=Q.claims.P18[0].mainsnak.datavalue.value;return`https://commons.wikimedia.org/wiki/Special:FilePath/${encodeURIComponent(A.replace(/ /g,"_"))}?width=300`}return null}catch(E){return console.error("Error fetching tag image:",E),null}finally{t(13,J=!1)}}async function K(m,E){t(12,M=E),t(15,j=!0);const oe=m.target.getBoundingClientRect();t(16,se={x:oe.left+window.scrollX,y:oe.bottom+window.scrollY+5}),t(14,I=await L(E))}function D(){t(12,M=null),t(15,j=!1),t(14,I=null),t(13,J=!1)}function U(){D()}function R(m){m>=1&&m<=s&&(t(4,P=m),window.scrollTo({top:0,behavior:"smooth"}))}function F(){Z||t(11,O=!O)}function ge(){Z=!0}function fe(){Z=!1}xt(()=>{M&&(!n.includes(M.id)||!i.some(m=>(m.tags||[]).includes(M.id)))&&D()}),Lt(()=>{D()});async function _e(){var E,oe,Q,A;C.set({});const m=[...new Set(i.flatMap($=>$.tags||[]))];if(m.length)try{let $={};for(const ae of m)if(ae)try{const Ce=await(await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${ae}&format=json&languages=en&props=labels|descriptions&origin=*`)).json();if(Ce.entities&&Ce.entities[ae]){const Pe=Ce.entities[ae];$[ae]={id:ae,label:((oe=(E=Pe.labels)==null?void 0:E.en)==null?void 0:oe.value)||"Unknown label",description:((A=(Q=Pe.descriptions)==null?void 0:Q.en)==null?void 0:A.value)||"No description"}}}catch(xe){console.error(`Failed to fetch details for tag ${ae}:`,xe)}C.set($)}catch($){console.error("Failed to fetch tag details:",$)}}const he=()=>t(1,v="ALL"),pe=()=>t(1,v="SOLVED"),H=()=>t(1,v="UNSOLVED"),q=()=>t(0,h="comments"),Ee=()=>t(0,h="alphabetical"),be=()=>t(0,h="recent");function ve(){T=this.value,t(3,T)}const W=()=>t(3,T=""),z=()=>t(2,V="ALL"),Se=m=>t(2,V=m),X=(m,E)=>K(E,p[m]),c=()=>{t(1,v="ALL"),t(2,V="ALL")},w=()=>{t(1,v="ALL"),t(2,V="ALL")},G=()=>R(1),ee=()=>R(P-1),te=m=>R(m),ke=()=>R(P+1),we=()=>R(s);return r.$$.update=()=>{r.$$.dirty[0]&67109376&&u.length>0&&!b&&(t(0,h="recent"),t(26,b=!0)),r.$$.dirty[0]&512&&t(8,l=[...new Set(u.flatMap(m=>m.tags||[]))]),r.$$.dirty[0]&1288&&t(6,n=T?l.filter(m=>{const E=p[m];return E&&E.label&&E.label.toLowerCase().includes(T.toLowerCase())}):l),r.$$.dirty[0]&512&&u.reduce((m,E)=>(E.solved?m.solved++:m.unsolved++,m),{solved:0,unsolved:0}),r.$$.dirty[0]&518&&t(7,o=Qt(u,v,V)),r.$$.dirty[0]&129&&h&&t(7,o=Gt(o,h)),r.$$.dirty[0]&256&&l.length>0&&S(),r.$$.dirty[0]&128&&t(17,s=Math.ceil(o.length/je)),r.$$.dirty[0]&7&&t(4,P=1),r.$$.dirty[0]&144&&t(5,i=o.slice((P-1)*je,P*je)),r.$$.dirty[0]&119&&D(),r.$$.dirty[0]&32&&_e(),r.$$.dirty[0]&16&&(C.set({}),setTimeout(_e,0))},[h,v,V,T,P,i,n,o,l,u,p,O,M,J,I,j,se,s,x,C,K,U,R,F,ge,fe,b,he,pe,H,q,Ee,be,ve,W,z,Se,X,c,w,G,ee,te,ke,we]}class Jt extends kt{constructor(e){super(),wt(this,e,Yt,Xt,Re,{},null,[-1,-1,-1])}}function Kt(r){let e,t,l,n,o;return n=new Jt({}),{c(){e=_("div"),t=_("div"),l=_("div"),$e(n.$$.fragment),this.h()},l(s){e=k(s,"DIV",{class:!0});var i=g(e);t=k(i,"DIV",{class:!0});var u=g(t);l=k(u,"DIV",{class:!0});var p=g(l);Te(n.$$.fragment,p),p.forEach(d),u.forEach(d),i.forEach(d),this.h()},h(){a(l,"class","flex flex-col"),a(t,"class","w-full max-w-7xl"),a(e,"class","flex flex-col items-center h-full min-h-screen text-text bg-change dark:bg-dark shifting p-3 py-5")},m(s,i){y(s,e,i),f(e,t),f(t,l),De(n,l,null),o=!0},p:ce,i(s){o||(Y(n.$$.fragment,s),o=!0)},o(s){le(n.$$.fragment,s),o=!1},d(s){s&&d(e),Ve(n)}}}function Wt(r){return _t(()=>{$t()}),[]}class il extends kt{constructor(e){super(),wt(this,e,Wt,Kt,Re,{})}}export{il as component};
