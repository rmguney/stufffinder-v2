import{s as A,E as w,i as g,f as c,H as P,k as O,D as U,e as m,c as p,r as S,l as d,n as $,a as B,b,g as q,h as k}from"../chunks/DhMr5c2G.js";import{S as E,i as L,t as h,g as T,f as V,b as v,c as H,a as M,m as F,d as N}from"../chunks/D_SvASXj.js";/* empty css                */import{e as y}from"../chunks/DtBTuCuf.js";import{P as z}from"../chunks/DqBsMnqT.js";import{t as G,i as J,a as K}from"../chunks/DmlDi6gt.js";function C(a,t,r){const s=a.slice();return s[1]=t[r],s}function D(a){let t,r="<p>No posts found. Check back later!</p> ";return{c(){t=m("div"),t.innerHTML=r,this.h()},l(s){t=p(s,"DIV",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-1e90l36"&&(t.innerHTML=r),this.h()},h(){d(t,"class","w-full text-center py-8")},m(s,l){g(s,t,l)},p:$,d(s){s&&c(t)}}}function j(a){let t,r,s,l,f,i;return s=new z({props:{id:a[1].id,title:a[1].title,description:a[1].description||"",tags:a[1].tags||[],imageSrc:a[1].mysteryObjectImageUrl?a[1].mysteryObjectImageUrl:"",mediaFiles:a[1].mediaFiles||[],postedBy:a[1].author,createdAt:a[1].createdAt,updatedAt:a[1].updatedAt,upvotes:a[1].upvotesCount||0,downvotes:a[1].downvotesCount||0,commentCount:a[1].commentCount||0,userUpvoted:a[1].userUpvoted||!1,userDownvoted:a[1].userDownvoted||!1,solved:a[1].solved,mysteryObject:a[1].mysteryObject||null,variant:"thumb"}}),{c(){t=m("div"),r=m("a"),H(s.$$.fragment),f=B(),this.h()},l(e){t=p(e,"DIV",{class:!0});var o=b(t);r=p(o,"A",{href:!0});var n=b(r);M(s.$$.fragment,n),n.forEach(c),f=q(o),o.forEach(c),this.h()},h(){d(r,"href",l=`/thread/${a[1].id}`),d(t,"class","w-full lg:w-[calc(33.333%-1rem)]")},m(e,o){g(e,t,o),k(t,r),F(s,r,null),k(t,f),i=!0},p(e,o){const n={};o&1&&(n.id=e[1].id),o&1&&(n.title=e[1].title),o&1&&(n.description=e[1].description||""),o&1&&(n.tags=e[1].tags||[]),o&1&&(n.imageSrc=e[1].mysteryObjectImageUrl?e[1].mysteryObjectImageUrl:""),o&1&&(n.mediaFiles=e[1].mediaFiles||[]),o&1&&(n.postedBy=e[1].author),o&1&&(n.createdAt=e[1].createdAt),o&1&&(n.updatedAt=e[1].updatedAt),o&1&&(n.upvotes=e[1].upvotesCount||0),o&1&&(n.downvotes=e[1].downvotesCount||0),o&1&&(n.commentCount=e[1].commentCount||0),o&1&&(n.userUpvoted=e[1].userUpvoted||!1),o&1&&(n.userDownvoted=e[1].userDownvoted||!1),o&1&&(n.solved=e[1].solved),o&1&&(n.mysteryObject=e[1].mysteryObject||null),s.$set(n),(!i||o&1&&l!==(l=`/thread/${e[1].id}`))&&d(r,"href",l)},i(e){i||(h(s.$$.fragment,e),i=!0)},o(e){v(s.$$.fragment,e),i=!1},d(e){e&&c(t),N(s)}}}function Q(a){let t,r,s=y(a[0].slice().sort(I)),l=[];for(let e=0;e<s.length;e+=1)l[e]=j(C(a,s,e));const f=e=>v(l[e],1,1,()=>{l[e]=null});let i=null;return s.length||(i=D()),{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=w(),i&&i.c()},l(e){for(let o=0;o<l.length;o+=1)l[o].l(e);t=w(),i&&i.l(e)},m(e,o){for(let n=0;n<l.length;n+=1)l[n]&&l[n].m(e,o);g(e,t,o),i&&i.m(e,o),r=!0},p(e,[o]){if(o&1){s=y(e[0].slice().sort(I));let n;for(n=0;n<s.length;n+=1){const u=C(e,s,n);l[n]?(l[n].p(u,o),h(l[n],1)):(l[n]=j(u),l[n].c(),h(l[n],1),l[n].m(t.parentNode,t))}for(T(),n=s.length;n<l.length;n+=1)f(n);V(),!s.length&&i?i.p(e,o):s.length?i&&(i.d(1),i=null):(i=D(),i.c(),i.m(t.parentNode,t))}},i(e){if(!r){for(let o=0;o<s.length;o+=1)h(l[o]);r=!0}},o(e){l=l.filter(Boolean);for(let o=0;o<l.length;o+=1)v(l[o]);r=!1},d(e){e&&c(t),P(l,e),i&&i.d(e)}}}const I=(a,t)=>t.id-a.id;function R(a,t,r){let s;return O(a,G,l=>r(0,s=l)),U(async function(){console.log("Thread data sample:",s.length>0?s[0]:"No threads")}),[s]}class W extends E{constructor(t){super(),L(this,t,R,Q,A,{})}}function X(a){let t,r,s;return r=new W({}),{c(){t=m("div"),H(r.$$.fragment),this.h()},l(l){t=p(l,"DIV",{class:!0});var f=b(t);M(r.$$.fragment,f),f.forEach(c),this.h()},h(){d(t,"class","flex flex-col lg:flex-wrap lg:flex-row justify-center gap-4 lg:gap-6")},m(l,f){g(l,t,f),F(r,t,null),s=!0},i(l){s||(h(r.$$.fragment,l),s=!0)},o(l){v(r.$$.fragment,l),s=!1},d(l){l&&c(t),N(r)}}}function Y(a){let t,r='<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-rose-900"></div>';return{c(){t=m("div"),t.innerHTML=r,this.h()},l(s){t=p(s,"DIV",{class:!0,"data-svelte-h":!0}),S(t)!=="svelte-yqlfbh"&&(t.innerHTML=r),this.h()},h(){d(t,"class","flex justify-center items-center py-16")},m(s,l){g(s,t,l)},i:$,o:$,d(s){s&&c(t)}}}function Z(a){let t,r,s,l,f;const i=[Y,X],e=[];function o(n,u){return n[0]?0:1}return s=o(a),l=e[s]=i[s](a),{c(){t=m("div"),r=m("div"),l.c(),this.h()},l(n){t=p(n,"DIV",{class:!0});var u=b(t);r=p(u,"DIV",{class:!0});var _=b(r);l.l(_),_.forEach(c),u.forEach(c),this.h()},h(){d(r,"class","w-full lg:w-2/3"),d(t,"class","flex flex-col items-center h-full min-h-screen text-text bg-change dark:bg-dark shifting p-4 lg:py-8")},m(n,u){g(n,t,u),k(t,r),e[s].m(r,null),f=!0},p(n,[u]){let _=s;s=o(n),s!==_&&(T(),v(e[_],1,1,()=>{e[_]=null}),V(),l=e[s],l||(l=e[s]=i[s](n),l.c()),h(l,1),l.m(r,null))},i(n){f||(h(l),f=!0)},o(n){v(l),f=!1},d(n){n&&c(t),e[s].d()}}}function x(a,t,r){let s;return O(a,K,l=>r(0,s=l)),U(()=>{J()}),[s]}class re extends E{constructor(t){super(),L(this,t,x,Z,A,{})}}export{re as component};
