import{s as He,k as Re,C as qe,a as k,g as C,i as g,f as c,e as _,c as v,b as E,l as o,h as u,m as Z,D as Oe,t as N,d as j,j as B,E as Ee,J as ce}from"./scheduler.CONNQF1V.js";import{S as Ge,i as Je,c as ue,a as he,m as de,t as le,b as ne,d as me,g as Ye,e as Ke}from"./index.BnMMC023.js";import{a as Qe,e as Se,B as Xe}from"./userStore.C8Faxakg.js";import{C as Ze,a as $e}from"./card-title.CkskY9-3.js";import{C as xe}from"./card-content.CLdfz9YA.js";import{C as et,a as tt,S as Fe}from"./card-header.LrTvonhQ.js";import{w as lt}from"./index.uwkupACH.js";function Ie(a,e,t){const s=a.slice();return s[26]=e[t],s}function st(a){let e,t,s,r,n,i;return{c(){e=_("div"),t=N(a[1]),s=k(),r=_("div"),n=N(a[2]),this.h()},l(l){e=v(l,"DIV",{class:!0});var m=E(e);t=j(m,a[1]),m.forEach(c),s=C(l),r=v(l,"DIV",{class:!0});var S=E(r);n=j(S,a[2]),S.forEach(c),this.h()},h(){o(e,"class","hidden"),o(r,"class",i=`${a[18]==="thumb"?"text-ellipsis overflow-hidden whitespace-nowrap w-full max-w-full":""}`)},m(l,m){g(l,e,m),u(e,t),g(l,s,m),g(l,r,m),u(r,n)},p(l,m){m&2&&B(t,l[1]),m&4&&B(n,l[2]),m&262144&&i!==(i=`${l[18]==="thumb"?"text-ellipsis overflow-hidden whitespace-nowrap w-full max-w-full":""}`)&&o(r,"class",i)},d(l){l&&(c(e),c(s),c(r))}}}function it(a){let e,t='<span class="text-rose-900 font-bold">Unresolved</span> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"></path></svg>';return{c(){e=_("div"),e.innerHTML=t,this.h()},l(s){e=v(s,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1vx1g57"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex items-center text-rose-900 font-semibold")},m(s,r){g(s,e,r)},d(s){s&&c(e)}}}function nt(a){let e,t='<span class="text-teal-800 font-bold">Resolved</span> <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="size-5"><path stroke-linecap="round" stroke-linejoin="round" d="M5 13l4 4L19 7"></path></svg>';return{c(){e=_("div"),e.innerHTML=t,this.h()},l(s){e=v(s,"DIV",{class:!0,"data-svelte-h":!0}),Z(e)!=="svelte-1c96917"&&(e.innerHTML=t),this.h()},h(){o(e,"class","flex items-center text-teal-800 font-semibold")},m(s,r){g(s,e,r)},d(s){s&&c(e)}}}function at(a){let e,t,s,r,n,i=a[23](a[5])+"",l,m,S,p,D,d,H,W;function se(b,I){return b[0]?nt:it}let ee=se(a),F=ee(a);return H=new Fe({props:{class:`${a[18]==="thumb"?"hidden":"mt-4"}`}}),{c(){e=_("span"),t=_("a"),s=N(a[4]),n=N(" at "),l=N(i),S=k(),p=_("div"),F.c(),d=k(),ue(H.$$.fragment),this.h()},l(b){e=v(b,"SPAN",{class:!0});var I=E(e);t=v(I,"A",{href:!0,class:!0});var x=E(t);s=j(x,a[4]),x.forEach(c),n=j(I," at "),l=j(I,i),I.forEach(c),S=C(b),p=v(b,"DIV",{class:!0});var ie=E(p);F.l(ie),ie.forEach(c),d=C(b),he(H.$$.fragment,b),this.h()},h(){o(t,"href",r=`/user/${a[4]}`),o(t,"class","hover:text-rose-900 hover:underline font-bold"),o(e,"class",m=`${a[18]==="thumb",""}`),o(p,"class",D=`${a[18]==="thumb"?"mt-1":"mt-1.5"}`)},m(b,I){g(b,e,I),u(e,t),u(t,s),u(e,n),u(e,l),g(b,S,I),g(b,p,I),F.m(p,null),g(b,d,I),de(H,b,I),W=!0},p(b,I){(!W||I&16)&&B(s,b[4]),(!W||I&16&&r!==(r=`/user/${b[4]}`))&&o(t,"href",r),(!W||I&32)&&i!==(i=b[23](b[5])+"")&&B(l,i),(!W||I&262144&&m!==(m=`${b[18]==="thumb",""}`))&&o(e,"class",m),ee!==(ee=se(b))&&(F.d(1),F=ee(b),F&&(F.c(),F.m(p,null))),(!W||I&262144&&D!==(D=`${b[18]==="thumb"?"mt-1":"mt-1.5"}`))&&o(p,"class",D);const x={};I&262144&&(x.class=`${b[18]==="thumb"?"hidden":"mt-4"}`),H.$set(x)},i(b){W||(le(H.$$.fragment,b),W=!0)},o(b){ne(H.$$.fragment,b),W=!1},d(b){b&&(c(e),c(S),c(p),c(d)),F.d(),me(H,b)}}}function rt(a){let e,t,s,r,n,i;return s=new $e({props:{$$slots:{default:[st]},$$scope:{ctx:a}}}),n=new tt({props:{class:`${a[18]==="thumb"?"lg:translate-y-2 text-ellipsis overflow-hidden whitespace-nowrap":"my-2.5"}`,$$slots:{default:[at]},$$scope:{ctx:a}}}),{c(){e=_("div"),t=_("div"),ue(s.$$.fragment),r=k(),ue(n.$$.fragment),this.h()},l(l){e=v(l,"DIV",{class:!0});var m=E(e);t=v(m,"DIV",{class:!0});var S=E(t);he(s.$$.fragment,S),r=C(S),he(n.$$.fragment,S),S.forEach(c),m.forEach(c),this.h()},h(){o(t,"class","flex-1 min-w-0"),o(e,"class","flex flex-row items-center")},m(l,m){g(l,e,m),u(e,t),de(s,t,null),u(t,r),de(n,t,null),i=!0},p(l,m){const S={};m&537133062&&(S.$$scope={dirty:m,ctx:l}),s.$set(S);const p={};m&262144&&(p.class=`${l[18]==="thumb"?"lg:translate-y-2 text-ellipsis overflow-hidden whitespace-nowrap":"my-2.5"}`),m&537133105&&(p.$$scope={dirty:m,ctx:l}),n.$set(p)},i(l){i||(le(s.$$.fragment,l),le(n.$$.fragment,l),i=!0)},o(l){ne(s.$$.fragment,l),ne(n.$$.fragment,l),i=!1},d(l){l&&c(e),me(s),me(n)}}}function De(a){let e,t,s=a[26].label+"",r,n,i=a[26].description+"",l,m,S;return{c(){e=_("li"),t=_("a"),r=N(s),n=N(": "),l=N(i),S=k(),this.h()},l(p){e=v(p,"LI",{});var D=E(e);t=v(D,"A",{href:!0,target:!0,rel:!0,class:!0});var d=E(t);r=j(d,s),n=j(d,": "),l=j(d,i),d.forEach(c),S=C(D),D.forEach(c),this.h()},h(){o(t,"href",m=`https://www.wikidata.org/wiki/${a[26].id}`),o(t,"target","_blank"),o(t,"rel","noopener noreferrer"),o(t,"class","hover:underline text-black dark:text-white hover:text-rose-700 dark:hover:text-rose-900 text-md")},m(p,D){g(p,e,D),u(e,t),u(t,r),u(t,n),u(t,l),u(e,S)},p(p,D){D&1048576&&s!==(s=p[26].label+"")&&B(r,s),D&1048576&&i!==(i=p[26].description+"")&&B(l,i),D&1048576&&m!==(m=`https://www.wikidata.org/wiki/${p[26].id}`)&&o(t,"href",m)},d(p){p&&c(e)}}}function Le(a){let e,t,s="Material:",r,n;return{c(){e=_("li"),t=_("span"),t.textContent=s,r=k(),n=N(a[7]),this.h()},l(i){e=v(i,"LI",{class:!0});var l=E(e);t=v(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-7k15pk"&&(t.textContent=s),r=C(l),n=j(l,a[7]),l.forEach(c),this.h()},h(){o(t,"class","font-semibold text-md"),o(e,"class","mt-2 text-md")},m(i,l){g(i,e,l),u(e,t),u(e,r),u(e,n)},p(i,l){l&128&&B(n,i[7])},d(i){i&&c(e)}}}function Pe(a){let e,t,s="Size:",r,n;return{c(){e=_("li"),t=_("span"),t.textContent=s,r=k(),n=N(a[8]),this.h()},l(i){e=v(i,"LI",{class:!0});var l=E(e);t=v(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-y7x098"&&(t.textContent=s),r=C(l),n=j(l,a[8]),l.forEach(c),this.h()},h(){o(t,"class","font-semibold text-md"),o(e,"class","mt-2")},m(i,l){g(i,e,l),u(e,t),u(e,r),u(e,n)},p(i,l){l&256&&B(n,i[8])},d(i){i&&c(e)}}}function Ae(a){let e,t,s="Weight:",r,n;return{c(){e=_("li"),t=_("span"),t.textContent=s,r=k(),n=N(a[12]),this.h()},l(i){e=v(i,"LI",{class:!0});var l=E(e);t=v(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-69gi2x"&&(t.textContent=s),r=C(l),n=j(l,a[12]),l.forEach(c),this.h()},h(){o(t,"class","font-semibold text-md"),o(e,"class","mt-2")},m(i,l){g(i,e,l),u(e,t),u(e,r),u(e,n)},p(i,l){l&4096&&B(n,i[12])},d(i){i&&c(e)}}}function Me(a){let e,t,s="Shape:",r,n;return{c(){e=_("li"),t=_("span"),t.textContent=s,r=k(),n=N(a[9]),this.h()},l(i){e=v(i,"LI",{class:!0});var l=E(e);t=v(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-18den0q"&&(t.textContent=s),r=C(l),n=j(l,a[9]),l.forEach(c),this.h()},h(){o(t,"class","font-semibold text-md"),o(e,"class","mt-2")},m(i,l){g(i,e,l),u(e,t),u(e,r),u(e,n)},p(i,l){l&512&&B(n,i[9])},d(i){i&&c(e)}}}function Ne(a){let e,t,s="Color:",r,n;return{c(){e=_("li"),t=_("span"),t.textContent=s,r=k(),n=N(a[10]),this.h()},l(i){e=v(i,"LI",{class:!0});var l=E(e);t=v(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-y7pi6c"&&(t.textContent=s),r=C(l),n=j(l,a[10]),l.forEach(c),this.h()},h(){o(t,"class","font-semibold text-md"),o(e,"class","mt-2")},m(i,l){g(i,e,l),u(e,t),u(e,r),u(e,n)},p(i,l){l&1024&&B(n,i[10])},d(i){i&&c(e)}}}function je(a){let e,t,s="Texture:",r,n;return{c(){e=_("li"),t=_("span"),t.textContent=s,r=k(),n=N(a[11]),this.h()},l(i){e=v(i,"LI",{class:!0});var l=E(e);t=v(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1xar3s8"&&(t.textContent=s),r=C(l),n=j(l,a[11]),l.forEach(c),this.h()},h(){o(t,"class","font-semibold text-md"),o(e,"class","mt-2")},m(i,l){g(i,e,l),u(e,t),u(e,r),u(e,n)},p(i,l){l&2048&&B(n,i[11])},d(i){i&&c(e)}}}function Ve(a){let e,t,s="Smell/Taste:",r,n;return{c(){e=_("li"),t=_("span"),t.textContent=s,r=k(),n=N(a[13]),this.h()},l(i){e=v(i,"LI",{class:!0});var l=E(e);t=v(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-end0u0"&&(t.textContent=s),r=C(l),n=j(l,a[13]),l.forEach(c),this.h()},h(){o(t,"class","font-semibold text-md"),o(e,"class","mt-2")},m(i,l){g(i,e,l),u(e,t),u(e,r),u(e,n)},p(i,l){l&8192&&B(n,i[13])},d(i){i&&c(e)}}}function Te(a){let e,t,s="Marking:",r,n;return{c(){e=_("li"),t=_("span"),t.textContent=s,r=k(),n=N(a[14]),this.h()},l(i){e=v(i,"LI",{class:!0});var l=E(e);t=v(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1i6m5hg"&&(t.textContent=s),r=C(l),n=j(l,a[14]),l.forEach(c),this.h()},h(){o(t,"class","font-semibold text-md"),o(e,"class","mt-2")},m(i,l){g(i,e,l),u(e,t),u(e,r),u(e,n)},p(i,l){l&16384&&B(n,i[14])},d(i){i&&c(e)}}}function ye(a){let e,t,s="Functionality:",r,n;return{c(){e=_("li"),t=_("span"),t.textContent=s,r=k(),n=N(a[15]),this.h()},l(i){e=v(i,"LI",{class:!0});var l=E(e);t=v(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-10l3tz8"&&(t.textContent=s),r=C(l),n=j(l,a[15]),l.forEach(c),this.h()},h(){o(t,"class","font-semibold text-md"),o(e,"class","mt-2")},m(i,l){g(i,e,l),u(e,t),u(e,r),u(e,n)},p(i,l){l&32768&&B(n,i[15])},d(i){i&&c(e)}}}function ze(a){let e,t,s="Period:",r,n;return{c(){e=_("li"),t=_("span"),t.textContent=s,r=k(),n=N(a[16]),this.h()},l(i){e=v(i,"LI",{class:!0});var l=E(e);t=v(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1fqkiz0"&&(t.textContent=s),r=C(l),n=j(l,a[16]),l.forEach(c),this.h()},h(){o(t,"class","font-semibold text-md"),o(e,"class","mt-2")},m(i,l){g(i,e,l),u(e,t),u(e,r),u(e,n)},p(i,l){l&65536&&B(n,i[16])},d(i){i&&c(e)}}}function Ue(a){let e,t,s="Location:",r,n;return{c(){e=_("li"),t=_("span"),t.textContent=s,r=k(),n=N(a[17]),this.h()},l(i){e=v(i,"LI",{class:!0});var l=E(e);t=v(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1ado9ny"&&(t.textContent=s),r=C(l),n=j(l,a[17]),l.forEach(c),this.h()},h(){o(t,"class","font-semibold text-md"),o(e,"class","mt-2")},m(i,l){g(i,e,l),u(e,t),u(e,r),u(e,n)},p(i,l){l&131072&&B(n,i[17])},d(i){i&&c(e)}}}function Be(a){let e,t,s="Description:",r,n;return{c(){e=_("li"),t=_("span"),t.textContent=s,r=k(),n=N(a[6]),this.h()},l(i){e=v(i,"LI",{class:!0});var l=E(e);t=v(l,"SPAN",{class:!0,"data-svelte-h":!0}),Z(t)!=="svelte-1qn2iun"&&(t.textContent=s),r=C(l),n=j(l,a[6]),l.forEach(c),this.h()},h(){o(t,"class","font-semibold text-md"),o(e,"class","mt-2")},m(i,l){g(i,e,l),u(e,t),u(e,r),u(e,n)},p(i,l){l&64&&B(n,i[6])},d(i){i&&c(e)}}}function We(a){let e,t;return e=new Xe({props:{class:`${a[18]==="thumb"?"hidden":"w-full mt-4 hover:bg-rose-900"}`,$$slots:{default:[ft]},$$scope:{ctx:a}}}),e.$on("click",a[22]),{c(){ue(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,r){de(e,s,r),t=!0},p(s,r){const n={};r&262144&&(n.class=`${s[18]==="thumb"?"hidden":"w-full mt-4 hover:bg-rose-900"}`),r&536870913&&(n.$$scope={dirty:r,ctx:s}),e.$set(n)},i(s){t||(le(e.$$.fragment,s),t=!0)},o(s){ne(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function ft(a){let e=a[0]?"Mark as Unresolved":"Mark as Resolved",t;return{c(){t=N(e)},l(s){t=j(s,e)},m(s,r){g(s,t,r)},p(s,r){r&1&&e!==(e=s[0]?"Mark as Unresolved":"Mark as Resolved")&&B(t,e)},d(s){s&&c(t)}}}function ot(a){let e,t;function s(i,l){return l&8&&(e=null),e==null&&(e=!!(i[3].endsWith(".mp4")||i[3].endsWith(".webm")||i[3].endsWith(".ogg"))),e?ht:ut}let r=s(a,-1),n=r(a);return{c(){n.c(),t=Ee()},l(i){n.l(i),t=Ee()},m(i,l){n.m(i,l),g(i,t,l)},p(i,l){r===(r=s(i,l))&&n?n.p(i,l):(n.d(1),n=r(i),n&&(n.c(),n.m(t.parentNode,t)))},d(i){i&&c(t),n.d(i)}}}function ct(a){let e,t;function s(i,l){if(l&8&&(t=null),t==null&&(t=!!(i[3]&&(i[3].endsWith(".mp4")||i[3].endsWith(".webm")||i[3].endsWith(".ogg")))),t)return mt;if(i[3])return dt}let r=s(a,-1),n=r&&r(a);return{c(){e=_("a"),n&&n.c(),this.h()},l(i){e=v(i,"A",{href:!0,target:!0,rel:!0});var l=E(e);n&&n.l(l),l.forEach(c),this.h()},h(){o(e,"href",a[3]),o(e,"target","_blank"),o(e,"rel","noopener noreferrer")},m(i,l){g(i,e,l),n&&n.m(e,null)},p(i,l){r===(r=s(i,l))&&n?n.p(i,l):(n&&n.d(1),n=r&&r(i),n&&(n.c(),n.m(e,null))),l&8&&o(e,"href",i[3])},d(i){i&&c(e),n&&n.d()}}}function ut(a){let e,t;return{c(){e=_("img"),this.h()},l(s){e=v(s,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){o(e,"class","object-cover w-full h-44"),ce(e.src,t=a[3])||o(e,"src",t),o(e,"alt",a[2])},m(s,r){g(s,e,r)},p(s,r){r&8&&!ce(e.src,t=s[3])&&o(e,"src",t),r&4&&o(e,"alt",s[2])},d(s){s&&c(e)}}}function ht(a){let e,t;return{c(){e=_("video"),this.h()},l(s){e=v(s,"VIDEO",{class:!0,src:!0}),E(e).forEach(c),this.h()},h(){o(e,"class","object-cover w-full h-44"),ce(e.src,t=a[3])||o(e,"src",t)},m(s,r){g(s,e,r)},p(s,r){r&8&&!ce(e.src,t=s[3])&&o(e,"src",t)},d(s){s&&c(e)}}}function dt(a){let e,t;return{c(){e=_("img"),this.h()},l(s){e=v(s,"IMG",{class:!0,src:!0,alt:!0}),this.h()},h(){o(e,"class","object-cover w-full pt-4"),ce(e.src,t=a[3])||o(e,"src",t),o(e,"alt",a[2])},m(s,r){g(s,e,r)},p(s,r){r&8&&!ce(e.src,t=s[3])&&o(e,"src",t),r&4&&o(e,"alt",s[2])},d(s){s&&c(e)}}}function mt(a){let e,t;return{c(){e=_("video"),this.h()},l(s){e=v(s,"VIDEO",{class:!0,src:!0}),E(e).forEach(c),this.h()},h(){o(e,"class","object-cover w-full pt-4"),ce(e.src,t=a[3])||o(e,"src",t),e.controls=!0},m(s,r){g(s,e,r)},p(s,r){r&8&&!ce(e.src,t=s[3])&&o(e,"src",t)},d(s){s&&c(e)}}}function _t(a){let e,t,s,r="Tags:",n,i,l,m,S,p,D,d,H,W,se,ee,F,b,I,x,ie,ae,_e,fe,oe,ve,$,be,h,y,re=Se(a[20]),V=[];for(let f=0;f<re.length;f+=1)V[f]=De(Ie(a,re,f));m=new Fe({props:{class:`${a[18]==="thumb"?"hidden":"mt-4 mb-2"}`}});let P=a[7]&&Le(a),A=a[8]&&Pe(a),M=a[12]&&Ae(a),z=a[9]&&Me(a),U=a[10]&&Ne(a),R=a[11]&&je(a),q=a[13]&&Ve(a),O=a[14]&&Te(a),G=a[15]&&ye(a),J=a[16]&&ze(a),Y=a[17]&&Ue(a),K=a[6]&&Be(a),T=a[19]===a[4]&&We(a);function Ce(f,w){if(f[18]!=="thumb")return ct;if(f[3])return ot}let ge=Ce(a),Q=ge&&ge(a);return{c(){e=_("div"),t=_("ul"),s=_("span"),s.textContent=r,n=k();for(let f=0;f<V.length;f+=1)V[f].c();l=k(),ue(m.$$.fragment),S=k(),p=_("div"),D=_("div"),d=_("ul"),P&&P.c(),H=k(),A&&A.c(),W=k(),M&&M.c(),se=k(),z&&z.c(),ee=k(),U&&U.c(),F=k(),R&&R.c(),b=k(),q&&q.c(),I=k(),O&&O.c(),x=k(),G&&G.c(),ie=k(),J&&J.c(),ae=k(),Y&&Y.c(),_e=k(),K&&K.c(),ve=k(),$=_("div"),T&&T.c(),be=k(),Q&&Q.c(),this.h()},l(f){e=v(f,"DIV",{class:!0});var w=E(e);t=v(w,"UL",{});var te=E(t);s=v(te,"SPAN",{class:!0,"data-svelte-h":!0}),Z(s)!=="svelte-1b5dqzi"&&(s.textContent=r),n=C(te);for(let ke=0;ke<V.length;ke+=1)V[ke].l(te);te.forEach(c),w.forEach(c),l=C(f),he(m.$$.fragment,f),S=C(f),p=v(f,"DIV",{class:!0});var X=E(p);D=v(X,"DIV",{class:!0});var pe=E(D);d=v(pe,"UL",{});var L=E(d);P&&P.l(L),H=C(L),A&&A.l(L),W=C(L),M&&M.l(L),se=C(L),z&&z.l(L),ee=C(L),U&&U.l(L),F=C(L),R&&R.l(L),b=C(L),q&&q.l(L),I=C(L),O&&O.l(L),x=C(L),G&&G.l(L),ie=C(L),J&&J.l(L),ae=C(L),Y&&Y.l(L),_e=C(L),K&&K.l(L),L.forEach(c),pe.forEach(c),X.forEach(c),ve=C(f),$=v(f,"DIV",{class:!0});var we=E($);T&&T.l(we),be=C(we),Q&&Q.l(we),we.forEach(c),this.h()},h(){o(s,"class","text-md font-semibold text-black dark:text-white"),o(e,"class",i=`${a[18]==="thumb"?"hidden":"-mt-5"}`),o(D,"class",fe=`${a[18]==="thumb"?"hidden":""}`),o(p,"class",oe=`${a[18]!=="thumb"?"flex flex-col":""}`),o($,"class",h=`${a[18]==="thumb"?"overflow-hidden flex justify-center items-center":""}`)},m(f,w){g(f,e,w),u(e,t),u(t,s),u(t,n);for(let te=0;te<V.length;te+=1)V[te]&&V[te].m(t,null);g(f,l,w),de(m,f,w),g(f,S,w),g(f,p,w),u(p,D),u(D,d),P&&P.m(d,null),u(d,H),A&&A.m(d,null),u(d,W),M&&M.m(d,null),u(d,se),z&&z.m(d,null),u(d,ee),U&&U.m(d,null),u(d,F),R&&R.m(d,null),u(d,b),q&&q.m(d,null),u(d,I),O&&O.m(d,null),u(d,x),G&&G.m(d,null),u(d,ie),J&&J.m(d,null),u(d,ae),Y&&Y.m(d,null),u(d,_e),K&&K.m(d,null),g(f,ve,w),g(f,$,w),T&&T.m($,null),u($,be),Q&&Q.m($,null),y=!0},p(f,w){if(w&1048576){re=Se(f[20]);let X;for(X=0;X<re.length;X+=1){const pe=Ie(f,re,X);V[X]?V[X].p(pe,w):(V[X]=De(pe),V[X].c(),V[X].m(t,null))}for(;X<V.length;X+=1)V[X].d(1);V.length=re.length}(!y||w&262144&&i!==(i=`${f[18]==="thumb"?"hidden":"-mt-5"}`))&&o(e,"class",i);const te={};w&262144&&(te.class=`${f[18]==="thumb"?"hidden":"mt-4 mb-2"}`),m.$set(te),f[7]?P?P.p(f,w):(P=Le(f),P.c(),P.m(d,H)):P&&(P.d(1),P=null),f[8]?A?A.p(f,w):(A=Pe(f),A.c(),A.m(d,W)):A&&(A.d(1),A=null),f[12]?M?M.p(f,w):(M=Ae(f),M.c(),M.m(d,se)):M&&(M.d(1),M=null),f[9]?z?z.p(f,w):(z=Me(f),z.c(),z.m(d,ee)):z&&(z.d(1),z=null),f[10]?U?U.p(f,w):(U=Ne(f),U.c(),U.m(d,F)):U&&(U.d(1),U=null),f[11]?R?R.p(f,w):(R=je(f),R.c(),R.m(d,b)):R&&(R.d(1),R=null),f[13]?q?q.p(f,w):(q=Ve(f),q.c(),q.m(d,I)):q&&(q.d(1),q=null),f[14]?O?O.p(f,w):(O=Te(f),O.c(),O.m(d,x)):O&&(O.d(1),O=null),f[15]?G?G.p(f,w):(G=ye(f),G.c(),G.m(d,ie)):G&&(G.d(1),G=null),f[16]?J?J.p(f,w):(J=ze(f),J.c(),J.m(d,ae)):J&&(J.d(1),J=null),f[17]?Y?Y.p(f,w):(Y=Ue(f),Y.c(),Y.m(d,_e)):Y&&(Y.d(1),Y=null),f[6]?K?K.p(f,w):(K=Be(f),K.c(),K.m(d,null)):K&&(K.d(1),K=null),(!y||w&262144&&fe!==(fe=`${f[18]==="thumb"?"hidden":""}`))&&o(D,"class",fe),(!y||w&262144&&oe!==(oe=`${f[18]!=="thumb"?"flex flex-col":""}`))&&o(p,"class",oe),f[19]===f[4]?T?(T.p(f,w),w&524304&&le(T,1)):(T=We(f),T.c(),le(T,1),T.m($,be)):T&&(Ye(),ne(T,1,1,()=>{T=null}),Ke()),ge===(ge=Ce(f))&&Q?Q.p(f,w):(Q&&Q.d(1),Q=ge&&ge(f),Q&&(Q.c(),Q.m($,null))),(!y||w&262144&&h!==(h=`${f[18]==="thumb"?"overflow-hidden flex justify-center items-center":""}`))&&o($,"class",h)},i(f){y||(le(m.$$.fragment,f),le(T),y=!0)},o(f){ne(m.$$.fragment,f),ne(T),y=!1},d(f){f&&(c(e),c(l),c(S),c(p),c(ve),c($)),Oe(V,f),me(m,f),P&&P.d(),A&&A.d(),M&&M.d(),z&&z.d(),U&&U.d(),R&&R.d(),q&&q.d(),O&&O.d(),G&&G.d(),J&&J.d(),Y&&Y.d(),K&&K.d(),T&&T.d(),Q&&Q.d()}}}function vt(a){let e,t,s,r;return e=new et({props:{$$slots:{default:[rt]},$$scope:{ctx:a}}}),s=new xe({props:{$$slots:{default:[_t]},$$scope:{ctx:a}}}),{c(){ue(e.$$.fragment),t=k(),ue(s.$$.fragment)},l(n){he(e.$$.fragment,n),t=C(n),he(s.$$.fragment,n)},m(n,i){de(e,n,i),g(n,t,i),de(s,n,i),r=!0},p(n,i){const l={};i&537133111&&(l.$$scope={dirty:i,ctx:n}),e.$set(l);const m={};i&538968029&&(m.$$scope={dirty:i,ctx:n}),s.$set(m)},i(n){r||(le(e.$$.fragment,n),le(s.$$.fragment,n),r=!0)},o(n){ne(e.$$.fragment,n),ne(s.$$.fragment,n),r=!1},d(n){n&&c(t),me(e,n),me(s,n)}}}function bt(a){let e,t;return e=new Ze({props:{class:`shadow-lg hover:shadow-xl transition duration-300
  ${a[18]==="thumb"?"grayscale hover:grayscale-0 bg-opacity-75 hover:bg-opacity-100 w-70 h-70 lg:hover:scale-110":"bg-opacity-90 hover:bg-opacity-100"}`,$$slots:{default:[vt]},$$scope:{ctx:a}}}),{c(){ue(e.$$.fragment)},l(s){he(e.$$.fragment,s)},m(s,r){de(e,s,r),t=!0},p(s,[r]){const n={};r&262144&&(n.class=`shadow-lg hover:shadow-xl transition duration-300
  ${s[18]==="thumb"?"grayscale hover:grayscale-0 bg-opacity-75 hover:bg-opacity-100 w-70 h-70 lg:hover:scale-110":"bg-opacity-90 hover:bg-opacity-100"}`),r&538968063&&(n.$$scope={dirty:r,ctx:s}),e.$set(n)},i(s){t||(le(e.$$.fragment,s),t=!0)},o(s){ne(e.$$.fragment,s),t=!1},d(s){me(e,s)}}}function gt(a,e,t){let s,{id:r=""}=e,{title:n=""}=e,{tags:i=[]}=e,{imageSrc:l=""}=e,{postedBy:m=""}=e,{postedDate:S=""}=e,{description:p=""}=e,{material:D=""}=e,{size:d=""}=e,{shape:H=""}=e,{color:W=""}=e,{texture:se=""}=e,{weight:ee=""}=e,{smell:F=""}=e,{marking:b=""}=e,{functionality:I=""}=e,{period:x=""}=e,{location:ie=""}=e,{resolved:ae=!1}=e,{variant:_e="thumb"}=e,fe=lt([]);Re(a,fe,h=>t(20,s=h));let oe=null;const ve=async()=>{if(i.length)try{let h=await Promise.all(i.map(async y=>{var A,M,z,U;const P=(await(await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${y}&format=json&languages=en&props=labels|descriptions&origin=*`)).json()).entities[y];return{label:((M=(A=P.labels)==null?void 0:A.en)==null?void 0:M.value)||"Unknown label",description:((U=(z=P.descriptions)==null?void 0:z.en)==null?void 0:U.value)||"No description",id:y}}));fe.set(h)}catch(h){console.error("Failed to fetch tag details:",h)}},$=async()=>{if(oe===m)try{const h=await fetch(`https://threef.vercel.app/api/threads/${r}/updateResolved`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify({resolved:!ae})});if(!h.ok){console.error("Failed to toggle resolved status");return}const y=await h.json();t(0,ae=y.resolved)}catch(h){console.error("Error toggling resolved status:",h)}},be=h=>{if(!h)return"";const y=new Date(h),re={hour:"numeric",minute:"numeric",hour12:!1},V=new Intl.DateTimeFormat("en-US",re).format(y),P=y.getDate(),A=y.toLocaleString("en-US",{month:"short"}),M=y.getFullYear();return`${V}, ${P} ${A} ${M}`};return qe(()=>{ve()}),a.$$set=h=>{"id"in h&&t(1,r=h.id),"title"in h&&t(2,n=h.title),"tags"in h&&t(24,i=h.tags),"imageSrc"in h&&t(3,l=h.imageSrc),"postedBy"in h&&t(4,m=h.postedBy),"postedDate"in h&&t(5,S=h.postedDate),"description"in h&&t(6,p=h.description),"material"in h&&t(7,D=h.material),"size"in h&&t(8,d=h.size),"shape"in h&&t(9,H=h.shape),"color"in h&&t(10,W=h.color),"texture"in h&&t(11,se=h.texture),"weight"in h&&t(12,ee=h.weight),"smell"in h&&t(13,F=h.smell),"marking"in h&&t(14,b=h.marking),"functionality"in h&&t(15,I=h.functionality),"period"in h&&t(16,x=h.period),"location"in h&&t(17,ie=h.location),"resolved"in h&&t(0,ae=h.resolved),"variant"in h&&t(18,_e=h.variant)},Qe.subscribe(h=>{t(19,oe=h)}),[ae,r,n,l,m,S,p,D,d,H,W,se,ee,F,b,I,x,ie,_e,oe,s,fe,$,be,i]}class Dt extends Ge{constructor(e){super(),Je(this,e,gt,bt,He,{id:1,title:2,tags:24,imageSrc:3,postedBy:4,postedDate:5,description:6,material:7,size:8,shape:9,color:10,texture:11,weight:12,smell:13,marking:14,functionality:15,period:16,location:17,resolved:0,variant:18})}}export{Dt as P};
