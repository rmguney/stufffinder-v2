import{s as De,e as k,a as D,c as b,b as g,g as A,f as p,l as u,i as v,h as m,k as Ae,D as Ce,q as W,t as C,d as j,j as y,E as U,F,p as Y,n as q,r as se}from"../chunks/BgXtprSQ.js";import{S as je,i as Ve,c as T,a as M,m as N,t as $,b as w,d as L,g as G,f as Q}from"../chunks/1qaseQuG.js";import{C as te,a as le,e as O}from"../chunks/Dy7Spe8V.js";import{C as ee,a as Ie}from"../chunks/DN4Hl1MF.js";import{C as ae}from"../chunks/CJTMqJtz.js";import"../chunks/BC_TeMzq.js";import{t as Pe}from"../chunks/pMhoGyuf.js";import{p as Be}from"../chunks/B04UuppA.js";import{B as Ee}from"../chunks/Mkqj_jaE.js";const re=new Map;async function Te(f){if(!f||f.length===0)return[];try{return await Promise.all(f.map(async s=>{var n,c,o,h;const i=(await(await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${s}&format=json&languages=en&props=labels|descriptions&origin=*`)).json()).entities[s],l=((c=(n=i==null?void 0:i.labels)==null?void 0:n.en)==null?void 0:c.value)||"Unknown label",a=((h=(o=i==null?void 0:i.descriptions)==null?void 0:o.en)==null?void 0:h.value)||"No description";return re.set(s,l),{id:s,label:l,description:a}}))}catch(e){return console.error("Failed to fetch tag details:",e),[]}}function fe(f,e,s){const t=f.slice();return t[10]=e[s],t}function ue(f,e,s){const t=f.slice();return t[13]=e[s],t}function de(f,e,s){const t=f.slice();return t[16]=e[s],t}function pe(f){let e,s,t,r,i;return s=new le({props:{class:"text-2xl md:text-3xl font-bold",$$slots:{default:[Me]},$$scope:{ctx:f}}}),r=new Ie({props:{class:"text-sm md:text-base mt-1",$$slots:{default:[Ne]},$$scope:{ctx:f}}}),{c(){e=k("div"),T(s.$$.fragment),t=D(),T(r.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var a=g(e);M(s.$$.fragment,a),t=A(a),M(r.$$.fragment,a),a.forEach(p),this.h()},h(){u(e,"class","text-center sm:text-left")},m(l,a){v(l,e,a),N(s,e,null),m(e,t),N(r,e,null),i=!0},p(l,a){const n={};a&524289&&(n.$$scope={dirty:a,ctx:l}),s.$set(n);const c={};a&524289&&(c.$$scope={dirty:a,ctx:l}),r.$set(c)},i(l){i||($(s.$$.fragment,l),$(r.$$.fragment,l),i=!0)},o(l){w(s.$$.fragment,l),w(r.$$.fragment,l),i=!1},d(l){l&&p(e),L(s),L(r)}}}function Me(f){let e,s;return{c(){e=C(f[0]),s=C("'s Profile")},l(t){e=j(t,f[0]),s=j(t,"'s Profile")},m(t,r){v(t,e,r),v(t,s,r)},p(t,r){r&1&&y(e,t[0])},d(t){t&&(p(e),p(s))}}}function Ne(f){let e,s,t;return{c(){e=C("View "),s=C(f[0]),t=C("'s posts and comments")},l(r){e=j(r,"View "),s=j(r,f[0]),t=j(r,"'s posts and comments")},m(r,i){v(r,e,i),v(r,s,i),v(r,t,i)},p(r,i){i&1&&y(s,r[0])},d(r){r&&(p(e),p(s),p(t))}}}function Le(f){let e,s,t,r=(f[0]?f[0][0].toUpperCase():"?")+"",i,l,a,n=f[0]&&pe(f);return{c(){e=k("div"),s=k("div"),t=k("span"),i=C(r),l=D(),n&&n.c(),this.h()},l(c){e=b(c,"DIV",{class:!0});var o=g(e);s=b(o,"DIV",{class:!0});var h=g(s);t=b(h,"SPAN",{class:!0});var d=g(t);i=j(d,r),d.forEach(p),h.forEach(p),l=A(o),n&&n.l(o),o.forEach(p),this.h()},h(){u(t,"class","text-2xl font-medium"),u(s,"class","flex items-center justify-center w-20 h-20 rounded-full bg-neutral-100 dark:bg-neutral-900"),u(e,"class","flex flex-col sm:flex-row items-center gap-4")},m(c,o){v(c,e,o),m(e,s),m(s,t),m(t,i),m(e,l),n&&n.m(e,null),a=!0},p(c,o){(!a||o&1)&&r!==(r=(c[0]?c[0][0].toUpperCase():"?")+"")&&y(i,r),c[0]?n?(n.p(c,o),o&1&&$(n,1)):(n=pe(c),n.c(),$(n,1),n.m(e,null)):n&&(G(),w(n,1,1,()=>{n=null}),Q())},i(c){a||($(n),a=!0)},o(c){w(n),a=!1},d(c){c&&p(e),n&&n.d()}}}function He(f){let e,s;return e=new ae({props:{class:"flex items-center p-6",$$slots:{default:[Le]},$$scope:{ctx:f}}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){N(e,t,r),s=!0},p(t,r){const i={};r&524289&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){L(e,t)}}}function Se(f){let e;return{c(){e=C("Posts")},l(s){e=j(s,"Posts")},m(s,t){v(s,e,t)},d(s){s&&p(e)}}}function Ue(f){let e,s,t,r,i,l,a,n=f[1].length+"",c,o,h;return i=new le({props:{class:"text-xl font-bold",$$slots:{default:[Se]},$$scope:{ctx:f}}}),{c(){e=k("div"),s=U("svg"),t=U("path"),r=D(),T(i.$$.fragment),l=D(),a=k("span"),c=C(n),o=C(" posts"),this.h()},l(d){e=b(d,"DIV",{class:!0});var _=g(e);s=F(_,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var x=g(s);t=F(x,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(p),x.forEach(p),r=A(_),M(i.$$.fragment,_),_.forEach(p),l=A(d),a=b(d,"SPAN",{class:!0});var E=g(a);c=j(E,n),o=j(E," posts"),E.forEach(p),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"),u(s,"xmlns","http://www.w3.org/2000/svg"),u(s,"fill","none"),u(s,"viewBox","0 0 24 24"),u(s,"stroke-width","1.5"),u(s,"stroke","currentColor"),u(s,"class","w-6 h-6"),u(e,"class","flex items-center gap-2"),u(a,"class","px-4 py-1.5 text-sm font-medium rounded-full bg-rose-100 text-rose-800 dark:bg-rose-900/30 dark:text-rose-300 transition-colors")},m(d,_){v(d,e,_),m(e,s),m(s,t),m(e,r),N(i,e,null),v(d,l,_),v(d,a,_),m(a,c),m(a,o),h=!0},p(d,_){const x={};_&524288&&(x.$$scope={dirty:_,ctx:d}),i.$set(x),(!h||_&2)&&n!==(n=d[1].length+"")&&y(c,n)},i(d){h||($(i.$$.fragment,d),h=!0)},o(d){w(i.$$.fragment,d),h=!1},d(d){d&&(p(e),p(l),p(a)),L(i)}}}function he(f){let e,s;return e=new ee({props:{class:"text-center py-16",$$slots:{default:[Fe]},$$scope:{ctx:f}}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){N(e,t,r),s=!0},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){L(e,t)}}}function Fe(f){let e,s='<span class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]">Loading posts...</span>';return{c(){e=k("div"),e.innerHTML=s,this.h()},l(t){e=b(t,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),Y(e)!=="svelte-1pjj2fu"&&(e.innerHTML=s),this.h()},h(){u(e,"class","inline-block h-10 w-10 animate-spin rounded-full border-4 border-solid border-current border-r-transparent motion-reduce:animate-[spin_1.5s_linear_infinite] opacity-75"),u(e,"role","status")},m(t,r){v(t,e,r)},p:q,d(t){t&&p(e)}}}function me(f){let e,s;return e=new ee({props:{class:"text-center py-16",$$slots:{default:[Ze]},$$scope:{ctx:f}}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){N(e,t,r),s=!0},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){L(e,t)}}}function Ze(f){let e,s,t,r,i="No posts found";return{c(){e=U("svg"),s=U("path"),t=D(),r=k("p"),r.textContent=i,this.h()},l(l){e=F(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=g(e);s=F(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(s).forEach(p),a.forEach(p),t=A(l),r=b(l,"P",{class:!0,"data-svelte-h":!0}),Y(r)!=="svelte-1oie4z7"&&(r.textContent=i),this.h()},h(){u(s,"stroke-linecap","round"),u(s,"stroke-linejoin","round"),u(s,"d","m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","mx-auto w-16 h-16 text-neutral-400 mb-4"),u(r,"class","text-neutral-500 dark:text-neutral-400 text-lg")},m(l,a){v(l,e,a),m(e,s),v(l,t,a),v(l,r,a)},p:q,d(l){l&&(p(e),p(t),p(r))}}}function _e(f){let e,s,t=O(f[1]),r=[];for(let l=0;l<t.length;l+=1)r[l]=ve(ue(f,t,l));const i=l=>w(r[l],1,1,()=>{r[l]=null});return{c(){e=k("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=b(l,"DIV",{class:!0});var a=g(e);for(let n=0;n<r.length;n+=1)r[n].l(a);a.forEach(p),this.h()},h(){u(e,"class","divide-y divide-neutral-200 dark:divide-neutral-700")},m(l,a){v(l,e,a);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,null);s=!0},p(l,a){if(a&2){t=O(l[1]);let n;for(n=0;n<t.length;n+=1){const c=ue(l,t,n);r[n]?(r[n].p(c,a),$(r[n],1)):(r[n]=ve(c),r[n].c(),$(r[n],1),r[n].m(e,null))}for(G(),n=t.length;n<r.length;n+=1)i(n);Q()}},i(l){if(!s){for(let a=0;a<t.length;a+=1)$(r[a]);s=!0}},o(l){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)w(r[a]);s=!1},d(l){l&&p(e),se(r,l)}}}function $e(f){let e,s=O(f[13].resolvedTags),t=[];for(let r=0;r<s.length;r+=1)t[r]=ge(de(f,s,r));return{c(){e=k("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=b(r,"DIV",{class:!0});var i=g(e);for(let l=0;l<t.length;l+=1)t[l].l(i);i.forEach(p),this.h()},h(){u(e,"class","flex flex-wrap gap-2 mt-3")},m(r,i){v(r,e,i);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(r,i){if(i&2){s=O(r[13].resolvedTags);let l;for(l=0;l<s.length;l+=1){const a=de(r,s,l);t[l]?t[l].p(a,i):(t[l]=ge(a),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=s.length}},d(r){r&&p(e),se(t,r)}}}function ge(f){let e,s=f[16]+"",t,r;return{c(){e=k("span"),t=C(s),r=D(),this.h()},l(i){e=b(i,"SPAN",{class:!0});var l=g(e);t=j(l,s),r=A(l),l.forEach(p),this.h()},h(){u(e,"class","px-3 py-1 text-xs font-medium rounded-full bg-neutral-100 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-300 transition-colors")},m(i,l){v(i,e,l),m(e,t),m(e,r)},p(i,l){l&2&&s!==(s=i[16]+"")&&y(t,s)},d(i){i&&p(e)}}}function ye(f){let e,s,t,r,i;return{c(){e=k("a"),s=C(`View Post\r
                    `),t=U("svg"),r=U("path"),this.h()},l(l){e=b(l,"A",{href:!0,class:!0});var a=g(e);s=j(a,`View Post\r
                    `),t=F(a,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=g(t);r=F(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(r).forEach(p),n.forEach(p),a.forEach(p),this.h()},h(){u(r,"stroke-linecap","round"),u(r,"stroke-linejoin","round"),u(r,"d","M8.25 4.5l7.5 7.5-7.5 7.5"),u(t,"xmlns","http://www.w3.org/2000/svg"),u(t,"fill","none"),u(t,"viewBox","0 0 24 24"),u(t,"stroke-width","1.5"),u(t,"stroke","currentColor"),u(t,"class","w-4 h-4"),u(e,"href",i=`/thread/${f[13].id}`),u(e,"class","flex items-center justify-center gap-2")},m(l,a){v(l,e,a),m(e,s),m(e,t),m(t,r)},p(l,a){a&2&&i!==(i=`/thread/${l[13].id}`)&&u(e,"href",i)},d(l){l&&p(e)}}}function ve(f){let e,s,t,r,i,l=f[13].title+"",a,n,c,o,h=f[13].description+"",d,_,x,E,I=X(f[13].createdAt)+"",H,z,B,Z,R,P=f[13].tags&&f[13].tags.length>0&&$e(f);return B=new Ee({props:{variant:"outline",size:"sm",class:"w-full sm:w-auto whitespace-nowrap hover:bg-rose-900 hover:text-white transition-colors duration-200",$$slots:{default:[ye]},$$scope:{ctx:f}}}),{c(){e=k("div"),s=k("div"),t=k("div"),r=k("a"),i=k("h3"),a=C(l),c=D(),o=k("p"),d=C(h),_=D(),P&&P.c(),x=D(),E=k("div"),H=C(I),z=D(),T(B.$$.fragment),Z=D(),this.h()},l(V){e=b(V,"DIV",{class:!0});var S=g(e);s=b(S,"DIV",{class:!0});var K=g(s);t=b(K,"DIV",{class:!0});var J=g(t);r=b(J,"A",{href:!0,class:!0});var ne=g(r);i=b(ne,"H3",{class:!0});var oe=g(i);a=j(oe,l),oe.forEach(p),ne.forEach(p),c=A(J),o=b(J,"P",{class:!0});var ie=g(o);d=j(ie,h),ie.forEach(p),_=A(J),P&&P.l(J),x=A(J),E=b(J,"DIV",{class:!0});var ce=g(E);H=j(ce,I),ce.forEach(p),J.forEach(p),z=A(K),M(B.$$.fragment,K),K.forEach(p),Z=A(S),S.forEach(p),this.h()},h(){u(i,"class","text-xl font-semibold line-clamp-2"),u(r,"href",n=`/thread/${f[13].id}`),u(r,"class","hover:underline block"),u(o,"class","text-sm text-neutral-600 dark:text-neutral-400 line-clamp-2 mt-2"),u(E,"class","text-sm text-neutral-500 dark:text-neutral-400 mt-3"),u(t,"class","flex-1 min-w-0"),u(s,"class","flex flex-col sm:flex-row justify-between items-start gap-4"),u(e,"class","p-6 transition-colors hover:bg-neutral-50 dark:hover:bg-neutral-800/50")},m(V,S){v(V,e,S),m(e,s),m(s,t),m(t,r),m(r,i),m(i,a),m(t,c),m(t,o),m(o,d),m(t,_),P&&P.m(t,null),m(t,x),m(t,E),m(E,H),m(s,z),N(B,s,null),m(e,Z),R=!0},p(V,S){(!R||S&2)&&l!==(l=V[13].title+"")&&y(a,l),(!R||S&2&&n!==(n=`/thread/${V[13].id}`))&&u(r,"href",n),(!R||S&2)&&h!==(h=V[13].description+"")&&y(d,h),V[13].tags&&V[13].tags.length>0?P?P.p(V,S):(P=$e(V),P.c(),P.m(t,x)):P&&(P.d(1),P=null),(!R||S&2)&&I!==(I=X(V[13].createdAt)+"")&&y(H,I);const K={};S&524290&&(K.$$scope={dirty:S,ctx:V}),B.$set(K)},i(V){R||($(B.$$.fragment,V),R=!0)},o(V){w(B.$$.fragment,V),R=!1},d(V){V&&p(e),P&&P.d(),L(B)}}}function ze(f){let e,s,t,r,i,l;e=new ae({props:{class:"flex flex-col sm:flex-row justify-between items-center gap-2 p-6",$$slots:{default:[Ue]},$$scope:{ctx:f}}});let a=f[3]&&he(f),n=!f[3]&&f[1].length===0&&me(f),c=!f[3]&&f[1].length>0&&_e(f);return{c(){T(e.$$.fragment),s=D(),a&&a.c(),t=D(),n&&n.c(),r=D(),c&&c.c(),i=W()},l(o){M(e.$$.fragment,o),s=A(o),a&&a.l(o),t=A(o),n&&n.l(o),r=A(o),c&&c.l(o),i=W()},m(o,h){N(e,o,h),v(o,s,h),a&&a.m(o,h),v(o,t,h),n&&n.m(o,h),v(o,r,h),c&&c.m(o,h),v(o,i,h),l=!0},p(o,h){const d={};h&524290&&(d.$$scope={dirty:h,ctx:o}),e.$set(d),o[3]?a?h&8&&$(a,1):(a=he(o),a.c(),$(a,1),a.m(t.parentNode,t)):a&&(G(),w(a,1,1,()=>{a=null}),Q()),!o[3]&&o[1].length===0?n?h&10&&$(n,1):(n=me(o),n.c(),$(n,1),n.m(r.parentNode,r)):n&&(G(),w(n,1,1,()=>{n=null}),Q()),!o[3]&&o[1].length>0?c?(c.p(o,h),h&10&&$(c,1)):(c=_e(o),c.c(),$(c,1),c.m(i.parentNode,i)):c&&(G(),w(c,1,1,()=>{c=null}),Q())},i(o){l||($(e.$$.fragment,o),$(a),$(n),$(c),l=!0)},o(o){w(e.$$.fragment,o),w(a),w(n),w(c),l=!1},d(o){o&&(p(s),p(t),p(r),p(i)),L(e,o),a&&a.d(o),n&&n.d(o),c&&c.d(o)}}}function Re(f){let e;return{c(){e=C("Comments")},l(s){e=j(s,"Comments")},m(s,t){v(s,e,t)},d(s){s&&p(e)}}}function Ge(f){let e,s,t,r,i,l,a,n=f[2].length+"",c,o,h;return i=new le({props:{class:"text-xl font-bold",$$slots:{default:[Re]},$$scope:{ctx:f}}}),{c(){e=k("div"),s=U("svg"),t=U("path"),r=D(),T(i.$$.fragment),l=D(),a=k("span"),c=C(n),o=C(" comments"),this.h()},l(d){e=b(d,"DIV",{class:!0});var _=g(e);s=F(_,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var x=g(s);t=F(x,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(p),x.forEach(p),r=A(_),M(i.$$.fragment,_),_.forEach(p),l=A(d),a=b(d,"SPAN",{class:!0});var E=g(a);c=j(E,n),o=j(E," comments"),E.forEach(p),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"),u(s,"xmlns","http://www.w3.org/2000/svg"),u(s,"fill","none"),u(s,"viewBox","0 0 24 24"),u(s,"stroke-width","1.5"),u(s,"stroke","currentColor"),u(s,"class","w-6 h-6"),u(e,"class","flex items-center gap-2"),u(a,"class","px-4 py-1.5 text-sm font-medium rounded-full bg-neutral-100 text-neutral-800 dark:bg-neutral-950 dark:text-neutral-300 transition-colors")},m(d,_){v(d,e,_),m(e,s),m(s,t),m(e,r),N(i,e,null),v(d,l,_),v(d,a,_),m(a,c),m(a,o),h=!0},p(d,_){const x={};_&524288&&(x.$$scope={dirty:_,ctx:d}),i.$set(x),(!h||_&4)&&n!==(n=d[2].length+"")&&y(c,n)},i(d){h||($(i.$$.fragment,d),h=!0)},o(d){w(i.$$.fragment,d),h=!1},d(d){d&&(p(e),p(l),p(a)),L(i)}}}function we(f){let e,s;return e=new ee({props:{class:"text-center py-16",$$slots:{default:[Qe]},$$scope:{ctx:f}}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){N(e,t,r),s=!0},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){L(e,t)}}}function Qe(f){let e,s='<span class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]">Loading comments...</span>';return{c(){e=k("div"),e.innerHTML=s,this.h()},l(t){e=b(t,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),Y(e)!=="svelte-y7q5i1"&&(e.innerHTML=s),this.h()},h(){u(e,"class","inline-block h-10 w-10 animate-spin rounded-full border-4 border-solid border-current border-r-transparent motion-reduce:animate-[spin_1.5s_linear_infinite] opacity-75"),u(e,"role","status")},m(t,r){v(t,e,r)},p:q,d(t){t&&p(e)}}}function ke(f){let e,s;return e=new ee({props:{class:"text-center py-16",$$slots:{default:[Je]},$$scope:{ctx:f}}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){N(e,t,r),s=!0},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){L(e,t)}}}function Je(f){let e,s,t,r,i="No comments found";return{c(){e=U("svg"),s=U("path"),t=D(),r=k("p"),r.textContent=i,this.h()},l(l){e=F(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=g(e);s=F(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(s).forEach(p),a.forEach(p),t=A(l),r=b(l,"P",{class:!0,"data-svelte-h":!0}),Y(r)!=="svelte-20cxoi"&&(r.textContent=i),this.h()},h(){u(s,"stroke-linecap","round"),u(s,"stroke-linejoin","round"),u(s,"d","M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","mx-auto w-16 h-16 text-neutral-400 mb-4"),u(r,"class","text-neutral-500 dark:text-neutral-400 text-lg")},m(l,a){v(l,e,a),m(e,s),v(l,t,a),v(l,r,a)},p:q,d(l){l&&(p(e),p(t),p(r))}}}function be(f){let e,s,t=O(f[2]),r=[];for(let l=0;l<t.length;l+=1)r[l]=xe(fe(f,t,l));const i=l=>w(r[l],1,1,()=>{r[l]=null});return{c(){e=k("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=b(l,"DIV",{class:!0});var a=g(e);for(let n=0;n<r.length;n+=1)r[n].l(a);a.forEach(p),this.h()},h(){u(e,"class","divide-y divide-neutral-200 dark:divide-neutral-700")},m(l,a){v(l,e,a);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,null);s=!0},p(l,a){if(a&4){t=O(l[2]);let n;for(n=0;n<t.length;n+=1){const c=fe(l,t,n);r[n]?(r[n].p(c,a),$(r[n],1)):(r[n]=xe(c),r[n].c(),$(r[n],1),r[n].m(e,null))}for(G(),n=t.length;n<r.length;n+=1)i(n);Q()}},i(l){if(!s){for(let a=0;a<t.length;a+=1)$(r[a]);s=!0}},o(l){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)w(r[a]);s=!1},d(l){l&&p(e),se(r,l)}}}function Ke(f){let e,s,t,r,i;return{c(){e=k("a"),s=C(`Go to Post\r
                    `),t=U("svg"),r=U("path"),this.h()},l(l){e=b(l,"A",{href:!0,class:!0});var a=g(e);s=j(a,`Go to Post\r
                    `),t=F(a,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=g(t);r=F(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(r).forEach(p),n.forEach(p),a.forEach(p),this.h()},h(){u(r,"stroke-linecap","round"),u(r,"stroke-linejoin","round"),u(r,"d","M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"),u(t,"xmlns","http://www.w3.org/2000/svg"),u(t,"fill","none"),u(t,"viewBox","0 0 24 24"),u(t,"stroke-width","1.5"),u(t,"stroke","currentColor"),u(t,"class","w-4 h-4"),u(e,"href",i=`/thread/${f[10].postId}`),u(e,"class","flex items-center justify-center gap-2")},m(l,a){v(l,e,a),m(e,s),m(e,t),m(t,r)},p(l,a){a&4&&i!==(i=`/thread/${l[10].postId}`)&&u(e,"href",i)},d(l){l&&p(e)}}}function xe(f){let e,s,t,r,i=f[10].content+"",l,a,n,c=X(f[10].createdAt)+"",o,h,d,_,x;return d=new Ee({props:{variant:"outline",size:"sm",class:"w-full sm:w-auto whitespace-nowrap hover:bg-rose-900 hover:text-white transition-colors duration-200",$$slots:{default:[Ke]},$$scope:{ctx:f}}}),{c(){e=k("div"),s=k("div"),t=k("div"),r=k("p"),l=C(i),a=D(),n=k("div"),o=C(c),h=D(),T(d.$$.fragment),_=D(),this.h()},l(E){e=b(E,"DIV",{class:!0});var I=g(e);s=b(I,"DIV",{class:!0});var H=g(s);t=b(H,"DIV",{class:!0});var z=g(t);r=b(z,"P",{class:!0});var B=g(r);l=j(B,i),B.forEach(p),a=A(z),n=b(z,"DIV",{class:!0});var Z=g(n);o=j(Z,c),Z.forEach(p),z.forEach(p),h=A(H),M(d.$$.fragment,H),H.forEach(p),_=A(I),I.forEach(p),this.h()},h(){u(r,"class","text-sm md:text-base"),u(n,"class","text-sm text-neutral-500 dark:text-neutral-400 mt-3"),u(t,"class","flex-1 min-w-0"),u(s,"class","flex flex-col sm:flex-row justify-between items-start gap-4"),u(e,"class","p-6 transition-colors hover:bg-neutral-50 dark:hover:bg-neutral-900/100")},m(E,I){v(E,e,I),m(e,s),m(s,t),m(t,r),m(r,l),m(t,a),m(t,n),m(n,o),m(s,h),N(d,s,null),m(e,_),x=!0},p(E,I){(!x||I&4)&&i!==(i=E[10].content+"")&&y(l,i),(!x||I&4)&&c!==(c=X(E[10].createdAt)+"")&&y(o,c);const H={};I&524292&&(H.$$scope={dirty:I,ctx:E}),d.$set(H)},i(E){x||($(d.$$.fragment,E),x=!0)},o(E){w(d.$$.fragment,E),x=!1},d(E){E&&p(e),L(d)}}}function Oe(f){let e,s,t,r,i,l;e=new ae({props:{class:"flex flex-col sm:flex-row justify-between items-center gap-2 p-6",$$slots:{default:[Ge]},$$scope:{ctx:f}}});let a=f[4]&&we(f),n=!f[4]&&f[2].length===0&&ke(f),c=!f[4]&&f[2].length>0&&be(f);return{c(){T(e.$$.fragment),s=D(),a&&a.c(),t=D(),n&&n.c(),r=D(),c&&c.c(),i=W()},l(o){M(e.$$.fragment,o),s=A(o),a&&a.l(o),t=A(o),n&&n.l(o),r=A(o),c&&c.l(o),i=W()},m(o,h){N(e,o,h),v(o,s,h),a&&a.m(o,h),v(o,t,h),n&&n.m(o,h),v(o,r,h),c&&c.m(o,h),v(o,i,h),l=!0},p(o,h){const d={};h&524292&&(d.$$scope={dirty:h,ctx:o}),e.$set(d),o[4]?a?h&16&&$(a,1):(a=we(o),a.c(),$(a,1),a.m(t.parentNode,t)):a&&(G(),w(a,1,1,()=>{a=null}),Q()),!o[4]&&o[2].length===0?n?h&20&&$(n,1):(n=ke(o),n.c(),$(n,1),n.m(r.parentNode,r)):n&&(G(),w(n,1,1,()=>{n=null}),Q()),!o[4]&&o[2].length>0?c?(c.p(o,h),h&20&&$(c,1)):(c=be(o),c.c(),$(c,1),c.m(i.parentNode,i)):c&&(G(),w(c,1,1,()=>{c=null}),Q())},i(o){l||($(e.$$.fragment,o),$(a),$(n),$(c),l=!0)},o(o){w(e.$$.fragment,o),w(a),w(n),w(c),l=!1},d(o){o&&(p(s),p(t),p(r),p(i)),L(e,o),a&&a.d(o),n&&n.d(o),c&&c.d(o)}}}function We(f){let e,s,t,r,i,l,a,n;return t=new te({props:{class:"bg-opacity-90 mb-6 transition-transform hover:scale-[1.01] duration-200",$$slots:{default:[He]},$$scope:{ctx:f}}}),i=new te({props:{class:"bg-opacity-90 mb-6 transition-all duration-200 hover:shadow-lg",$$slots:{default:[ze]},$$scope:{ctx:f}}}),a=new te({props:{class:"bg-opacity-90 transition-all duration-200 hover:shadow-lg",$$slots:{default:[Oe]},$$scope:{ctx:f}}}),{c(){e=k("div"),s=k("div"),T(t.$$.fragment),r=D(),T(i.$$.fragment),l=D(),T(a.$$.fragment),this.h()},l(c){e=b(c,"DIV",{class:!0});var o=g(e);s=b(o,"DIV",{class:!0});var h=g(s);M(t.$$.fragment,h),r=A(h),M(i.$$.fragment,h),l=A(h),M(a.$$.fragment,h),h.forEach(p),o.forEach(p),this.h()},h(){u(s,"class","w-full max-w-3xl"),u(e,"class","min-h-screen flex justify-center p-4 md:p-6 lg:py-10 bg-change dark:bg-dark shifting")},m(c,o){v(c,e,o),m(e,s),N(t,s,null),m(s,r),N(i,s,null),m(s,l),N(a,s,null),n=!0},p(c,[o]){const h={};o&524289&&(h.$$scope={dirty:o,ctx:c}),t.$set(h);const d={};o&524298&&(d.$$scope={dirty:o,ctx:c}),i.$set(d);const _={};o&524308&&(_.$$scope={dirty:o,ctx:c}),a.$set(_)},i(c){n||($(t.$$.fragment,c),$(i.$$.fragment,c),$(a.$$.fragment,c),n=!0)},o(c){w(t.$$.fragment,c),w(i.$$.fragment,c),w(a.$$.fragment,c),n=!1},d(c){c&&p(e),L(t),L(i),L(a)}}}function X(f){if(!f)return"Unknown date";try{return new Date(f).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(e){return console.error("Error formatting date:",e),"Unknown date"}}function Xe(f,e,s){let t;Ae(f,Be,d=>s(5,t=d));let r,i,l=[],a=[],n=!0,c=!0;function o(d){var _;return{...d,title:d.title||"Untitled Post",description:d.description||d.content||"",createdAt:d.createdAt||d.created||d.date||null,tags:Array.isArray(d.tags)?d.tags:d.categories?d.categories:[],resolvedTags:((_=d.tags)==null?void 0:_.map(x=>re.get(x)||"Loading..."))||[]}}async function h(){const d=l.flatMap(_=>_.tags).filter(_=>_);d.length>0&&(await Te(d),s(1,l=l.map(_=>({..._,resolvedTags:_.tags.map(x=>re.get(x)||x)}))))}return Ce(async()=>{try{s(3,n=!0),s(4,c=!0);const d=await fetch(`https://backend-310608491068.europe-west1.run.app/api/auth/username/${i}`);if(!d.ok)throw new Error("User not found");r=(await d.json()).userId;const x=await fetch(`https://backend-310608491068.europe-west1.run.app/api/auth/${r}/posts`);if(!x.ok)throw new Error("Failed to fetch posts");const E=await x.json();console.log("User's posts data:",E);const I=E.map(o);s(1,l=I.sort((B,Z)=>{const R=B.createdAt?new Date(B.createdAt).getTime():0;return(Z.createdAt?new Date(Z.createdAt).getTime():0)-R})),Pe.set(l),await h();const H=await fetch(`https://backend-310608491068.europe-west1.run.app/api/auth/${r}/comments`);if(!H.ok)throw new Error("Failed to fetch comments");const z=await H.json();s(2,a=z.sort((B,Z)=>new Date(Z.createdAt||0).getTime()-new Date(B.createdAt||0).getTime()))}catch(d){console.error("Error fetching data:",d)}finally{s(3,n=!1),s(4,c=!1)}}),f.$$.update=()=>{f.$$.dirty&32&&s(0,i=t.params.username)},[i,l,a,n,c,t]}class ot extends je{constructor(e){super(),Ve(this,e,Xe,We,De,{})}}export{ot as component};
