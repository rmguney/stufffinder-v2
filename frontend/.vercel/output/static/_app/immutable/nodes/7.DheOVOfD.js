import{s as Ae,e as k,a as D,c as b,b as g,g as A,f as p,l as u,i as v,h as m,k as Ce,D as je,q as W,t as C,d as j,j as Z,E as S,F,p as Y,n as q,r as le}from"../chunks/BgXtprSQ.js";import{S as Ve,i as Ie,c as T,a as M,m as N,t as $,b as w,d as L,g as G,f as Q}from"../chunks/1qaseQuG.js";import{C as te,P as re,a as ae,e as O}from"../chunks/Cw2352T2.js";import{C as ee,a as Pe}from"../chunks/BA0DiF7A.js";import{C as ne}from"../chunks/BqBYWKmR.js";import"../chunks/BdYHp-EM.js";import{t as Be}from"../chunks/DqEw4LiL.js";import{p as Te}from"../chunks/D_fuAV6K.js";import{B as De}from"../chunks/BfJTMMYn.js";const se=new Map;async function Me(c){if(!c||c.length===0)return[];try{return await Promise.all(c.map(async s=>{var n,f,o,h;const i=(await(await fetch(`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${s}&format=json&languages=en&props=labels|descriptions&origin=*`)).json()).entities[s],l=((f=(n=i==null?void 0:i.labels)==null?void 0:n.en)==null?void 0:f.value)||"Unknown label",a=((h=(o=i==null?void 0:i.descriptions)==null?void 0:o.en)==null?void 0:h.value)||"No description";return se.set(s,l),{id:s,label:l,description:a}}))}catch(e){return console.error("Failed to fetch tag details:",e),[]}}function ue(c,e,s){const t=c.slice();return t[10]=e[s],t}function de(c,e,s){const t=c.slice();return t[13]=e[s],t}function pe(c,e,s){const t=c.slice();return t[16]=e[s],t}function he(c){let e,s,t,r,i;return s=new ae({props:{class:"text-2xl md:text-3xl font-bold",$$slots:{default:[Ne]},$$scope:{ctx:c}}}),r=new Pe({props:{class:"text-sm md:text-base mt-1",$$slots:{default:[Le]},$$scope:{ctx:c}}}),{c(){e=k("div"),T(s.$$.fragment),t=D(),T(r.$$.fragment),this.h()},l(l){e=b(l,"DIV",{class:!0});var a=g(e);M(s.$$.fragment,a),t=A(a),M(r.$$.fragment,a),a.forEach(p),this.h()},h(){u(e,"class","text-center sm:text-left")},m(l,a){v(l,e,a),N(s,e,null),m(e,t),N(r,e,null),i=!0},p(l,a){const n={};a&524289&&(n.$$scope={dirty:a,ctx:l}),s.$set(n);const f={};a&524289&&(f.$$scope={dirty:a,ctx:l}),r.$set(f)},i(l){i||($(s.$$.fragment,l),$(r.$$.fragment,l),i=!0)},o(l){w(s.$$.fragment,l),w(r.$$.fragment,l),i=!1},d(l){l&&p(e),L(s),L(r)}}}function Ne(c){let e,s;return{c(){e=C(c[0]),s=C("'s Profile")},l(t){e=j(t,c[0]),s=j(t,"'s Profile")},m(t,r){v(t,e,r),v(t,s,r)},p(t,r){r&1&&Z(e,t[0])},d(t){t&&(p(e),p(s))}}}function Le(c){let e,s,t;return{c(){e=C("View "),s=C(c[0]),t=C("'s posts and comments")},l(r){e=j(r,"View "),s=j(r,c[0]),t=j(r,"'s posts and comments")},m(r,i){v(r,e,i),v(r,s,i),v(r,t,i)},p(r,i){i&1&&Z(s,r[0])},d(r){r&&(p(e),p(s),p(t))}}}function Ue(c){let e,s,t,r=(c[0]?c[0][0].toUpperCase():"?")+"",i,l,a,n=c[0]&&he(c);return{c(){e=k("div"),s=k("div"),t=k("span"),i=C(r),l=D(),n&&n.c(),this.h()},l(f){e=b(f,"DIV",{class:!0});var o=g(e);s=b(o,"DIV",{class:!0});var h=g(s);t=b(h,"SPAN",{class:!0});var d=g(t);i=j(d,r),d.forEach(p),h.forEach(p),l=A(o),n&&n.l(o),o.forEach(p),this.h()},h(){u(t,"class","text-2xl font-medium"),u(s,"class","flex items-center justify-center w-20 h-20 rounded-full bg-neutral-100 dark:bg-neutral-900"),u(e,"class","flex flex-col sm:flex-row items-center gap-4")},m(f,o){v(f,e,o),m(e,s),m(s,t),m(t,i),m(e,l),n&&n.m(e,null),a=!0},p(f,o){(!a||o&1)&&r!==(r=(f[0]?f[0][0].toUpperCase():"?")+"")&&Z(i,r),f[0]?n?(n.p(f,o),o&1&&$(n,1)):(n=he(f),n.c(),$(n,1),n.m(e,null)):n&&(G(),w(n,1,1,()=>{n=null}),Q())},i(f){a||($(n),a=!0)},o(f){w(n),a=!1},d(f){f&&p(e),n&&n.d()}}}function He(c){let e,s;return e=new ne({props:{class:"flex items-center p-6",$$slots:{default:[Ue]},$$scope:{ctx:c}}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){N(e,t,r),s=!0},p(t,r){const i={};r&524289&&(i.$$scope={dirty:r,ctx:t}),e.$set(i)},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){L(e,t)}}}function Se(c){let e;return{c(){e=C("Posts")},l(s){e=j(s,"Posts")},m(s,t){v(s,e,t)},d(s){s&&p(e)}}}function Fe(c){let e,s,t,r,i,l,a,n=c[1].length+"",f,o,h;return i=new ae({props:{class:"text-xl font-bold",$$slots:{default:[Se]},$$scope:{ctx:c}}}),{c(){e=k("div"),s=S("svg"),t=S("path"),r=D(),T(i.$$.fragment),l=D(),a=k("span"),f=C(n),o=C(" posts"),this.h()},l(d){e=b(d,"DIV",{class:!0});var _=g(e);s=F(_,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var x=g(s);t=F(x,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(p),x.forEach(p),r=A(_),M(i.$$.fragment,_),_.forEach(p),l=A(d),a=b(d,"SPAN",{class:!0});var E=g(a);f=j(E,n),o=j(E," posts"),E.forEach(p),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"),u(s,"xmlns","http://www.w3.org/2000/svg"),u(s,"fill","none"),u(s,"viewBox","0 0 24 24"),u(s,"stroke-width","1.5"),u(s,"stroke","currentColor"),u(s,"class","w-6 h-6"),u(e,"class","flex items-center gap-2"),u(a,"class","px-4 py-1.5 text-sm font-medium rounded-full bg-rose-100 text-rose-800 dark:bg-rose-900/30 dark:text-rose-300 transition-colors")},m(d,_){v(d,e,_),m(e,s),m(s,t),m(e,r),N(i,e,null),v(d,l,_),v(d,a,_),m(a,f),m(a,o),h=!0},p(d,_){const x={};_&524288&&(x.$$scope={dirty:_,ctx:d}),i.$set(x),(!h||_&2)&&n!==(n=d[1].length+"")&&Z(f,n)},i(d){h||($(i.$$.fragment,d),h=!0)},o(d){w(i.$$.fragment,d),h=!1},d(d){d&&(p(e),p(l),p(a)),L(i)}}}function me(c){let e,s;return e=new ee({props:{class:"text-center py-16",$$slots:{default:[Re]},$$scope:{ctx:c}}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){N(e,t,r),s=!0},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){L(e,t)}}}function Re(c){let e,s='<span class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]">Loading posts...</span>';return{c(){e=k("div"),e.innerHTML=s,this.h()},l(t){e=b(t,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),Y(e)!=="svelte-1pjj2fu"&&(e.innerHTML=s),this.h()},h(){u(e,"class","inline-block h-10 w-10 animate-spin rounded-full border-4 border-solid border-current border-r-transparent motion-reduce:animate-[spin_1.5s_linear_infinite] opacity-75"),u(e,"role","status")},m(t,r){v(t,e,r)},p:q,d(t){t&&p(e)}}}function _e(c){let e,s;return e=new ee({props:{class:"text-center py-16",$$slots:{default:[Ze]},$$scope:{ctx:c}}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){N(e,t,r),s=!0},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){L(e,t)}}}function Ze(c){let e,s,t,r,i="No posts found";return{c(){e=S("svg"),s=S("path"),t=D(),r=k("p"),r.textContent=i,this.h()},l(l){e=F(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=g(e);s=F(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(s).forEach(p),a.forEach(p),t=A(l),r=b(l,"P",{class:!0,"data-svelte-h":!0}),Y(r)!=="svelte-1oie4z7"&&(r.textContent=i),this.h()},h(){u(s,"stroke-linecap","round"),u(s,"stroke-linejoin","round"),u(s,"d","m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","mx-auto w-16 h-16 text-neutral-400 mb-4"),u(r,"class","text-neutral-500 dark:text-neutral-400 text-lg")},m(l,a){v(l,e,a),m(e,s),v(l,t,a),v(l,r,a)},p:q,d(l){l&&(p(e),p(t),p(r))}}}function $e(c){let e,s,t=O(c[1]),r=[];for(let l=0;l<t.length;l+=1)r[l]=we(de(c,t,l));const i=l=>w(r[l],1,1,()=>{r[l]=null});return{c(){e=k("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=b(l,"DIV",{class:!0});var a=g(e);for(let n=0;n<r.length;n+=1)r[n].l(a);a.forEach(p),this.h()},h(){u(e,"class","divide-y divide-neutral-200 dark:divide-neutral-700")},m(l,a){v(l,e,a);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,null);s=!0},p(l,a){if(a&2){t=O(l[1]);let n;for(n=0;n<t.length;n+=1){const f=de(l,t,n);r[n]?(r[n].p(f,a),$(r[n],1)):(r[n]=we(f),r[n].c(),$(r[n],1),r[n].m(e,null))}for(G(),n=t.length;n<r.length;n+=1)i(n);Q()}},i(l){if(!s){for(let a=0;a<t.length;a+=1)$(r[a]);s=!0}},o(l){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)w(r[a]);s=!1},d(l){l&&p(e),le(r,l)}}}function ge(c){let e,s=O(c[13].resolvedTags),t=[];for(let r=0;r<s.length;r+=1)t[r]=ve(pe(c,s,r));return{c(){e=k("div");for(let r=0;r<t.length;r+=1)t[r].c();this.h()},l(r){e=b(r,"DIV",{class:!0});var i=g(e);for(let l=0;l<t.length;l+=1)t[l].l(i);i.forEach(p),this.h()},h(){u(e,"class","flex flex-wrap gap-2 mt-3")},m(r,i){v(r,e,i);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(r,i){if(i&2){s=O(r[13].resolvedTags);let l;for(l=0;l<s.length;l+=1){const a=pe(r,s,l);t[l]?t[l].p(a,i):(t[l]=ve(a),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=s.length}},d(r){r&&p(e),le(t,r)}}}function ve(c){let e,s=c[16]+"",t,r;return{c(){e=k("span"),t=C(s),r=D(),this.h()},l(i){e=b(i,"SPAN",{class:!0});var l=g(e);t=j(l,s),r=A(l),l.forEach(p),this.h()},h(){u(e,"class","px-3 py-1 text-xs font-medium rounded-full bg-neutral-100 text-neutral-800 dark:bg-neutral-800 dark:text-neutral-300 transition-colors")},m(i,l){v(i,e,l),m(e,t),m(e,r)},p(i,l){l&2&&s!==(s=i[16]+"")&&Z(t,s)},d(i){i&&p(e)}}}function ye(c){let e,s,t,r,i;return{c(){e=k("a"),s=C(`View Post\r
                    `),t=S("svg"),r=S("path"),this.h()},l(l){e=b(l,"A",{href:!0,class:!0});var a=g(e);s=j(a,`View Post\r
                    `),t=F(a,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=g(t);r=F(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(r).forEach(p),n.forEach(p),a.forEach(p),this.h()},h(){u(r,"stroke-linecap","round"),u(r,"stroke-linejoin","round"),u(r,"d","M8.25 4.5l7.5 7.5-7.5 7.5"),u(t,"xmlns","http://www.w3.org/2000/svg"),u(t,"fill","none"),u(t,"viewBox","0 0 24 24"),u(t,"stroke-width","1.5"),u(t,"stroke","currentColor"),u(t,"class","w-4 h-4"),u(e,"href",i=`/thread/${c[13].id}`),u(e,"class","flex items-center justify-center gap-2")},m(l,a){v(l,e,a),m(e,s),m(e,t),m(t,r)},p(l,a){a&2&&i!==(i=`/thread/${l[13].id}`)&&u(e,"href",i)},d(l){l&&p(e)}}}function we(c){let e,s,t,r,i,l=c[13].title+"",a,n,f,o,h=c[13].description+"",d,_,x,E,I=X(c[13].createdAt)+"",U,y,B,R,z,P=c[13].tags&&c[13].tags.length>0&&ge(c);return B=new De({props:{variant:"outline",size:"sm",class:"w-full sm:w-auto whitespace-nowrap hover:bg-rose-900 hover:text-white transition-colors duration-200",$$slots:{default:[ye]},$$scope:{ctx:c}}}),{c(){e=k("div"),s=k("div"),t=k("div"),r=k("a"),i=k("h3"),a=C(l),f=D(),o=k("p"),d=C(h),_=D(),P&&P.c(),x=D(),E=k("div"),U=C(I),y=D(),T(B.$$.fragment),R=D(),this.h()},l(V){e=b(V,"DIV",{class:!0});var H=g(e);s=b(H,"DIV",{class:!0});var K=g(s);t=b(K,"DIV",{class:!0});var J=g(t);r=b(J,"A",{href:!0,class:!0});var oe=g(r);i=b(oe,"H3",{class:!0});var ie=g(i);a=j(ie,l),ie.forEach(p),oe.forEach(p),f=A(J),o=b(J,"P",{class:!0});var fe=g(o);d=j(fe,h),fe.forEach(p),_=A(J),P&&P.l(J),x=A(J),E=b(J,"DIV",{class:!0});var ce=g(E);U=j(ce,I),ce.forEach(p),J.forEach(p),y=A(K),M(B.$$.fragment,K),K.forEach(p),R=A(H),H.forEach(p),this.h()},h(){u(i,"class","text-xl font-semibold line-clamp-2"),u(r,"href",n=`/thread/${c[13].id}`),u(r,"class","hover:underline block"),u(o,"class","text-sm text-neutral-600 dark:text-neutral-400 line-clamp-2 mt-2"),u(E,"class","text-sm text-neutral-500 dark:text-neutral-400 mt-3"),u(t,"class","flex-1 min-w-0"),u(s,"class","flex flex-col sm:flex-row justify-between items-start gap-4"),u(e,"class","p-6 transition-colors hover:bg-neutral-50 dark:hover:bg-neutral-800/50")},m(V,H){v(V,e,H),m(e,s),m(s,t),m(t,r),m(r,i),m(i,a),m(t,f),m(t,o),m(o,d),m(t,_),P&&P.m(t,null),m(t,x),m(t,E),m(E,U),m(s,y),N(B,s,null),m(e,R),z=!0},p(V,H){(!z||H&2)&&l!==(l=V[13].title+"")&&Z(a,l),(!z||H&2&&n!==(n=`/thread/${V[13].id}`))&&u(r,"href",n),(!z||H&2)&&h!==(h=V[13].description+"")&&Z(d,h),V[13].tags&&V[13].tags.length>0?P?P.p(V,H):(P=ge(V),P.c(),P.m(t,x)):P&&(P.d(1),P=null),(!z||H&2)&&I!==(I=X(V[13].createdAt)+"")&&Z(U,I);const K={};H&524290&&(K.$$scope={dirty:H,ctx:V}),B.$set(K)},i(V){z||($(B.$$.fragment,V),z=!0)},o(V){w(B.$$.fragment,V),z=!1},d(V){V&&p(e),P&&P.d(),L(B)}}}function ze(c){let e,s,t,r,i,l;e=new ne({props:{class:"flex flex-col sm:flex-row justify-between items-center gap-2 p-6",$$slots:{default:[Fe]},$$scope:{ctx:c}}});let a=c[3]&&me(c),n=!c[3]&&c[1].length===0&&_e(c),f=!c[3]&&c[1].length>0&&$e(c);return{c(){T(e.$$.fragment),s=D(),a&&a.c(),t=D(),n&&n.c(),r=D(),f&&f.c(),i=W()},l(o){M(e.$$.fragment,o),s=A(o),a&&a.l(o),t=A(o),n&&n.l(o),r=A(o),f&&f.l(o),i=W()},m(o,h){N(e,o,h),v(o,s,h),a&&a.m(o,h),v(o,t,h),n&&n.m(o,h),v(o,r,h),f&&f.m(o,h),v(o,i,h),l=!0},p(o,h){const d={};h&524290&&(d.$$scope={dirty:h,ctx:o}),e.$set(d),o[3]?a?h&8&&$(a,1):(a=me(o),a.c(),$(a,1),a.m(t.parentNode,t)):a&&(G(),w(a,1,1,()=>{a=null}),Q()),!o[3]&&o[1].length===0?n?h&10&&$(n,1):(n=_e(o),n.c(),$(n,1),n.m(r.parentNode,r)):n&&(G(),w(n,1,1,()=>{n=null}),Q()),!o[3]&&o[1].length>0?f?(f.p(o,h),h&10&&$(f,1)):(f=$e(o),f.c(),$(f,1),f.m(i.parentNode,i)):f&&(G(),w(f,1,1,()=>{f=null}),Q())},i(o){l||($(e.$$.fragment,o),$(a),$(n),$(f),l=!0)},o(o){w(e.$$.fragment,o),w(a),w(n),w(f),l=!1},d(o){o&&(p(s),p(t),p(r),p(i)),L(e,o),a&&a.d(o),n&&n.d(o),f&&f.d(o)}}}function Ge(c){let e;return{c(){e=C("Comments")},l(s){e=j(s,"Comments")},m(s,t){v(s,e,t)},d(s){s&&p(e)}}}function Qe(c){let e,s,t,r,i,l,a,n=c[2].length+"",f,o,h;return i=new ae({props:{class:"text-xl font-bold",$$slots:{default:[Ge]},$$scope:{ctx:c}}}),{c(){e=k("div"),s=S("svg"),t=S("path"),r=D(),T(i.$$.fragment),l=D(),a=k("span"),f=C(n),o=C(" comments"),this.h()},l(d){e=b(d,"DIV",{class:!0});var _=g(e);s=F(_,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var x=g(s);t=F(x,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(t).forEach(p),x.forEach(p),r=A(_),M(i.$$.fragment,_),_.forEach(p),l=A(d),a=b(d,"SPAN",{class:!0});var E=g(a);f=j(E,n),o=j(E," comments"),E.forEach(p),this.h()},h(){u(t,"stroke-linecap","round"),u(t,"stroke-linejoin","round"),u(t,"d","M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 0 1 .865-.501 48.172 48.172 0 0 0 3.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0 0 12 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018Z"),u(s,"xmlns","http://www.w3.org/2000/svg"),u(s,"fill","none"),u(s,"viewBox","0 0 24 24"),u(s,"stroke-width","1.5"),u(s,"stroke","currentColor"),u(s,"class","w-6 h-6"),u(e,"class","flex items-center gap-2"),u(a,"class","px-4 py-1.5 text-sm font-medium rounded-full bg-neutral-100 text-neutral-800 dark:bg-neutral-950 dark:text-neutral-300 transition-colors")},m(d,_){v(d,e,_),m(e,s),m(s,t),m(e,r),N(i,e,null),v(d,l,_),v(d,a,_),m(a,f),m(a,o),h=!0},p(d,_){const x={};_&524288&&(x.$$scope={dirty:_,ctx:d}),i.$set(x),(!h||_&4)&&n!==(n=d[2].length+"")&&Z(f,n)},i(d){h||($(i.$$.fragment,d),h=!0)},o(d){w(i.$$.fragment,d),h=!1},d(d){d&&(p(e),p(l),p(a)),L(i)}}}function ke(c){let e,s;return e=new ee({props:{class:"text-center py-16",$$slots:{default:[Je]},$$scope:{ctx:c}}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){N(e,t,r),s=!0},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){L(e,t)}}}function Je(c){let e,s='<span class="!absolute !-m-px !h-px !w-px !overflow-hidden !whitespace-nowrap !border-0 !p-0 ![clip:rect(0,0,0,0)]">Loading comments...</span>';return{c(){e=k("div"),e.innerHTML=s,this.h()},l(t){e=b(t,"DIV",{class:!0,role:!0,"data-svelte-h":!0}),Y(e)!=="svelte-y7q5i1"&&(e.innerHTML=s),this.h()},h(){u(e,"class","inline-block h-10 w-10 animate-spin rounded-full border-4 border-solid border-current border-r-transparent motion-reduce:animate-[spin_1.5s_linear_infinite] opacity-75"),u(e,"role","status")},m(t,r){v(t,e,r)},p:q,d(t){t&&p(e)}}}function be(c){let e,s;return e=new ee({props:{class:"text-center py-16",$$slots:{default:[Ke]},$$scope:{ctx:c}}}),{c(){T(e.$$.fragment)},l(t){M(e.$$.fragment,t)},m(t,r){N(e,t,r),s=!0},i(t){s||($(e.$$.fragment,t),s=!0)},o(t){w(e.$$.fragment,t),s=!1},d(t){L(e,t)}}}function Ke(c){let e,s,t,r,i="No comments found";return{c(){e=S("svg"),s=S("path"),t=D(),r=k("p"),r.textContent=i,this.h()},l(l){e=F(l,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var a=g(e);s=F(a,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(s).forEach(p),a.forEach(p),t=A(l),r=b(l,"P",{class:!0,"data-svelte-h":!0}),Y(r)!=="svelte-20cxoi"&&(r.textContent=i),this.h()},h(){u(s,"stroke-linecap","round"),u(s,"stroke-linejoin","round"),u(s,"d","M12 20.25c4.97 0 9-3.694 9-8.25s-4.03-8.25-9-8.25S3 7.444 3 12c0 2.104.859 4.023 2.273 5.48.432.447.74 1.04.586 1.641a4.483 4.483 0 0 1-.923 1.785A5.969 5.969 0 0 0 6 21c1.282 0 2.47-.402 3.445-1.087.81.22 1.668.337 2.555.337Z"),u(e,"xmlns","http://www.w3.org/2000/svg"),u(e,"fill","none"),u(e,"viewBox","0 0 24 24"),u(e,"stroke-width","1.5"),u(e,"stroke","currentColor"),u(e,"class","mx-auto w-16 h-16 text-neutral-400 mb-4"),u(r,"class","text-neutral-500 dark:text-neutral-400 text-lg")},m(l,a){v(l,e,a),m(e,s),v(l,t,a),v(l,r,a)},p:q,d(l){l&&(p(e),p(t),p(r))}}}function xe(c){let e,s,t=O(c[2]),r=[];for(let l=0;l<t.length;l+=1)r[l]=Ee(ue(c,t,l));const i=l=>w(r[l],1,1,()=>{r[l]=null});return{c(){e=k("div");for(let l=0;l<r.length;l+=1)r[l].c();this.h()},l(l){e=b(l,"DIV",{class:!0});var a=g(e);for(let n=0;n<r.length;n+=1)r[n].l(a);a.forEach(p),this.h()},h(){u(e,"class","divide-y divide-neutral-200 dark:divide-neutral-700")},m(l,a){v(l,e,a);for(let n=0;n<r.length;n+=1)r[n]&&r[n].m(e,null);s=!0},p(l,a){if(a&4){t=O(l[2]);let n;for(n=0;n<t.length;n+=1){const f=ue(l,t,n);r[n]?(r[n].p(f,a),$(r[n],1)):(r[n]=Ee(f),r[n].c(),$(r[n],1),r[n].m(e,null))}for(G(),n=t.length;n<r.length;n+=1)i(n);Q()}},i(l){if(!s){for(let a=0;a<t.length;a+=1)$(r[a]);s=!0}},o(l){r=r.filter(Boolean);for(let a=0;a<r.length;a+=1)w(r[a]);s=!1},d(l){l&&p(e),le(r,l)}}}function Oe(c){let e,s,t,r,i;return{c(){e=k("a"),s=C(`Go to Post\r
                    `),t=S("svg"),r=S("path"),this.h()},l(l){e=b(l,"A",{href:!0,class:!0});var a=g(e);s=j(a,`Go to Post\r
                    `),t=F(a,"svg",{xmlns:!0,fill:!0,viewBox:!0,"stroke-width":!0,stroke:!0,class:!0});var n=g(t);r=F(n,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,d:!0}),g(r).forEach(p),n.forEach(p),a.forEach(p),this.h()},h(){u(r,"stroke-linecap","round"),u(r,"stroke-linejoin","round"),u(r,"d","M13.5 6H5.25A2.25 2.25 0 0 0 3 8.25v10.5A2.25 2.25 0 0 0 5.25 21h10.5A2.25 2.25 0 0 0 18 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"),u(t,"xmlns","http://www.w3.org/2000/svg"),u(t,"fill","none"),u(t,"viewBox","0 0 24 24"),u(t,"stroke-width","1.5"),u(t,"stroke","currentColor"),u(t,"class","w-4 h-4"),u(e,"href",i=`/thread/${c[10].postId}`),u(e,"class","flex items-center justify-center gap-2")},m(l,a){v(l,e,a),m(e,s),m(e,t),m(t,r)},p(l,a){a&4&&i!==(i=`/thread/${l[10].postId}`)&&u(e,"href",i)},d(l){l&&p(e)}}}function Ee(c){let e,s,t,r,i=c[10].content+"",l,a,n,f=X(c[10].createdAt)+"",o,h,d,_,x;return d=new De({props:{variant:"outline",size:"sm",class:"w-full sm:w-auto whitespace-nowrap hover:bg-rose-900 hover:text-white transition-colors duration-200",$$slots:{default:[Oe]},$$scope:{ctx:c}}}),{c(){e=k("div"),s=k("div"),t=k("div"),r=k("p"),l=C(i),a=D(),n=k("div"),o=C(f),h=D(),T(d.$$.fragment),_=D(),this.h()},l(E){e=b(E,"DIV",{class:!0});var I=g(e);s=b(I,"DIV",{class:!0});var U=g(s);t=b(U,"DIV",{class:!0});var y=g(t);r=b(y,"P",{class:!0});var B=g(r);l=j(B,i),B.forEach(p),a=A(y),n=b(y,"DIV",{class:!0});var R=g(n);o=j(R,f),R.forEach(p),y.forEach(p),h=A(U),M(d.$$.fragment,U),U.forEach(p),_=A(I),I.forEach(p),this.h()},h(){u(r,"class","text-sm md:text-base"),u(n,"class","text-sm text-neutral-500 dark:text-neutral-400 mt-3"),u(t,"class","flex-1 min-w-0"),u(s,"class","flex flex-col sm:flex-row justify-between items-start gap-4"),u(e,"class","p-6 transition-colors hover:bg-neutral-50 dark:hover:bg-neutral-900/100")},m(E,I){v(E,e,I),m(e,s),m(s,t),m(t,r),m(r,l),m(t,a),m(t,n),m(n,o),m(s,h),N(d,s,null),m(e,_),x=!0},p(E,I){(!x||I&4)&&i!==(i=E[10].content+"")&&Z(l,i),(!x||I&4)&&f!==(f=X(E[10].createdAt)+"")&&Z(o,f);const U={};I&524292&&(U.$$scope={dirty:I,ctx:E}),d.$set(U)},i(E){x||($(d.$$.fragment,E),x=!0)},o(E){w(d.$$.fragment,E),x=!1},d(E){E&&p(e),L(d)}}}function We(c){let e,s,t,r,i,l;e=new ne({props:{class:"flex flex-col sm:flex-row justify-between items-center gap-2 p-6",$$slots:{default:[Qe]},$$scope:{ctx:c}}});let a=c[4]&&ke(c),n=!c[4]&&c[2].length===0&&be(c),f=!c[4]&&c[2].length>0&&xe(c);return{c(){T(e.$$.fragment),s=D(),a&&a.c(),t=D(),n&&n.c(),r=D(),f&&f.c(),i=W()},l(o){M(e.$$.fragment,o),s=A(o),a&&a.l(o),t=A(o),n&&n.l(o),r=A(o),f&&f.l(o),i=W()},m(o,h){N(e,o,h),v(o,s,h),a&&a.m(o,h),v(o,t,h),n&&n.m(o,h),v(o,r,h),f&&f.m(o,h),v(o,i,h),l=!0},p(o,h){const d={};h&524292&&(d.$$scope={dirty:h,ctx:o}),e.$set(d),o[4]?a?h&16&&$(a,1):(a=ke(o),a.c(),$(a,1),a.m(t.parentNode,t)):a&&(G(),w(a,1,1,()=>{a=null}),Q()),!o[4]&&o[2].length===0?n?h&20&&$(n,1):(n=be(o),n.c(),$(n,1),n.m(r.parentNode,r)):n&&(G(),w(n,1,1,()=>{n=null}),Q()),!o[4]&&o[2].length>0?f?(f.p(o,h),h&20&&$(f,1)):(f=xe(o),f.c(),$(f,1),f.m(i.parentNode,i)):f&&(G(),w(f,1,1,()=>{f=null}),Q())},i(o){l||($(e.$$.fragment,o),$(a),$(n),$(f),l=!0)},o(o){w(e.$$.fragment,o),w(a),w(n),w(f),l=!1},d(o){o&&(p(s),p(t),p(r),p(i)),L(e,o),a&&a.d(o),n&&n.d(o),f&&f.d(o)}}}function Xe(c){let e,s,t,r,i,l,a,n;return t=new te({props:{class:"bg-opacity-90 mb-6 transition-transform hover:scale-[1.01] duration-200",$$slots:{default:[He]},$$scope:{ctx:c}}}),i=new te({props:{class:"bg-opacity-90 mb-6 transition-all duration-200 hover:shadow-lg",$$slots:{default:[ze]},$$scope:{ctx:c}}}),a=new te({props:{class:"bg-opacity-90 transition-all duration-200 hover:shadow-lg",$$slots:{default:[We]},$$scope:{ctx:c}}}),{c(){e=k("div"),s=k("div"),T(t.$$.fragment),r=D(),T(i.$$.fragment),l=D(),T(a.$$.fragment),this.h()},l(f){e=b(f,"DIV",{class:!0});var o=g(e);s=b(o,"DIV",{class:!0});var h=g(s);M(t.$$.fragment,h),r=A(h),M(i.$$.fragment,h),l=A(h),M(a.$$.fragment,h),h.forEach(p),o.forEach(p),this.h()},h(){u(s,"class","w-full max-w-3xl"),u(e,"class","min-h-screen flex justify-center p-4 md:p-6 lg:py-10 bg-change dark:bg-dark shifting")},m(f,o){v(f,e,o),m(e,s),N(t,s,null),m(s,r),N(i,s,null),m(s,l),N(a,s,null),n=!0},p(f,[o]){const h={};o&524289&&(h.$$scope={dirty:o,ctx:f}),t.$set(h);const d={};o&524298&&(d.$$scope={dirty:o,ctx:f}),i.$set(d);const _={};o&524308&&(_.$$scope={dirty:o,ctx:f}),a.$set(_)},i(f){n||($(t.$$.fragment,f),$(i.$$.fragment,f),$(a.$$.fragment,f),n=!0)},o(f){w(t.$$.fragment,f),w(i.$$.fragment,f),w(a.$$.fragment,f),n=!1},d(f){f&&p(e),L(t),L(i),L(a)}}}function X(c){if(!c)return"Unknown date";try{return new Date(c).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}catch(e){return console.error("Error formatting date:",e),"Unknown date"}}function Ye(c,e,s){let t;Ce(c,Te,d=>s(5,t=d));let r,i,l=[],a=[],n=!0,f=!0;function o(d){var _;return{...d,title:d.title||"Untitled Post",description:d.description||d.content||"",createdAt:d.createdAt||d.created||d.date||null,tags:Array.isArray(d.tags)?d.tags:d.categories?d.categories:[],resolvedTags:((_=d.tags)==null?void 0:_.map(x=>se.get(x)||"Loading..."))||[]}}async function h(){const d=l.flatMap(_=>_.tags).filter(_=>_);d.length>0&&(await Me(d),s(1,l=l.map(_=>({..._,resolvedTags:_.tags.map(x=>se.get(x)||x)}))))}return je(async()=>{try{s(3,n=!0),s(4,f=!0);const d=await fetch(`${re}/api/auth/username/${i}`);if(!d.ok)throw new Error("User not found");r=(await d.json()).userId;const x=await fetch(`${re}/api/auth/${r}/posts`);if(!x.ok)throw new Error("Failed to fetch posts");const E=await x.json();console.log("User's posts data:",E);const I=E.map(o);s(1,l=I.sort((B,R)=>{const z=B.createdAt?new Date(B.createdAt).getTime():0;return(R.createdAt?new Date(R.createdAt).getTime():0)-z})),Be.set(l),await h();const U=await fetch(`${re}/api/auth/${r}/comments`);if(!U.ok)throw new Error("Failed to fetch comments");const y=await U.json();s(2,a=y.sort((B,R)=>new Date(R.createdAt||0).getTime()-new Date(B.createdAt||0).getTime()))}catch(d){console.error("Error fetching data:",d)}finally{s(3,n=!1),s(4,f=!1)}}),c.$$.update=()=>{c.$$.dirty&32&&s(0,i=t.params.username)},[i,l,a,n,f,t]}class it extends Ve{constructor(e){super(),Ie(this,e,Ye,Xe,Ae,{})}}export{it as component};
