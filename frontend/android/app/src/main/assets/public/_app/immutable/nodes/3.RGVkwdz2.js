import{s as Je,e as h,a as D,c as m,b as y,g as N,f as _,l as v,i as S,h as i,o as Ye,m as ge,p as W,q as ee,r as Te,u as ve,v as X,w as de,t as B,d as V,x as we,j as Z,y as Fe,n as ze}from"../chunks/C6oXrJZt.js";import{S as Ge,i as Ke,c as se,a as ne,m as re,t as ae,b as oe,d as ie}from"../chunks/Zi_cIJN_.js";import{C as ye,e as ke}from"../chunks/CP0-fytT.js";import{C as qe}from"../chunks/DxZvhrWi.js";import{C as Qe}from"../chunks/o6IJ7tp9.js";import{C as He}from"../chunks/CsWsoBlu.js";import{C as Xe}from"../chunks/gU--zBIq.js";import{g as Oe}from"../chunks/OjtNtuvZ.js";function De(r,e,t){const l=r.slice();return l[40]=e[t],l}function Ne(r,e,t){const l=r.slice();return l[43]=e[t][0],l[44]=e[t][1],l}function Ze(r){let e;return{c(){e=B("Admin Dashboard")},l(t){e=V(t,"Admin Dashboard")},m(t,l){S(t,e,l)},d(t){t&&_(e)}}}function et(r){let e;return{c(){e=B("Moderate reported content and manage flagged users.")},l(t){e=V(t,"Moderate reported content and manage flagged users.")},m(t,l){S(t,e,l)},d(t){t&&_(e)}}}function tt(r){let e,t,l,o;return e=new Xe({props:{class:"text-2xl md:text-3xl font-bold text-neutral-900 dark:text-white",$$slots:{default:[Ze]},$$scope:{ctx:r}}}),l=new Qe({props:{class:"text-neutral-600 dark:text-neutral-400 mt-1",$$slots:{default:[et]},$$scope:{ctx:r}}}),{c(){se(e.$$.fragment),t=D(),se(l.$$.fragment)},l(s){ne(e.$$.fragment,s),t=N(s),ne(l.$$.fragment,s)},m(s,n){re(e,s,n),S(s,t,n),re(l,s,n),o=!0},p(s,n){const c={};n[1]&65536&&(c.$$scope={dirty:n,ctx:s}),e.$set(c);const d={};n[1]&65536&&(d.$$scope={dirty:n,ctx:s}),l.$set(d)},i(s){o||(ae(e.$$.fragment,s),ae(l.$$.fragment,s),o=!0)},o(s){oe(e.$$.fragment,s),oe(l.$$.fragment,s),o=!1},d(s){s&&_(t),ie(e,s),ie(l,s)}}}function Pe(r){let e,t,l=r[43]+"",o,s,n,c=r[44]+"",d;return{c(){e=h("div"),t=h("span"),o=B(l),s=B(":"),n=D(),d=B(c),this.h()},l(f){e=m(f,"DIV",{class:!0});var u=y(e);t=m(u,"SPAN",{class:!0});var a=y(t);o=V(a,l),s=V(a,":"),a.forEach(_),n=N(u),d=V(u,c),u.forEach(_),this.h()},h(){v(t,"class","font-semibold"),v(e,"class","text-sm text-neutral-700 dark:text-neutral-300")},m(f,u){S(f,e,u),i(e,t),i(t,o),i(t,s),i(e,n),i(e,d)},p(f,u){u[0]&128&&l!==(l=f[43]+"")&&Z(o,l),u[0]&128&&c!==(c=f[44]+"")&&Z(d,c)},d(f){f&&_(e)}}}function lt(r){let e,t,l,o="Total Reports:",s,n=r[7].total+"",c,d,f,u,a,b,E,T,x=ke(Object.entries(r[7].byType)),O=[];for(let C=0;C<x.length;C+=1)O[C]=Pe(Ne(r,x,C));return{c(){e=h("div"),t=h("div"),l=h("span"),l.textContent=o,s=D(),c=B(n),d=D();for(let C=0;C<O.length;C+=1)O[C].c();f=D(),u=h("label"),a=h("input"),b=B(`\r
                        Show only OPEN reports in stats`),this.h()},l(C){e=m(C,"DIV",{class:!0});var k=y(e);t=m(k,"DIV",{class:!0});var p=y(t);l=m(p,"SPAN",{class:!0,"data-svelte-h":!0}),W(l)!=="svelte-15j71l5"&&(l.textContent=o),s=N(p),c=V(p,n),p.forEach(_),d=N(k);for(let w=0;w<O.length;w+=1)O[w].l(k);f=N(k),u=m(k,"LABEL",{class:!0});var R=y(u);a=m(R,"INPUT",{type:!0}),b=V(R,`\r
                        Show only OPEN reports in stats`),R.forEach(_),k.forEach(_),this.h()},h(){v(l,"class","font-semibold"),v(t,"class","text-sm text-neutral-700 dark:text-neutral-300"),v(a,"type","checkbox"),v(u,"class","text-sm text-neutral-700 dark:text-neutral-300 flex items-center gap-2"),v(e,"class","flex flex-wrap gap-6")},m(C,k){S(C,e,k),i(e,t),i(t,l),i(t,s),i(t,c),i(e,d);for(let p=0;p<O.length;p+=1)O[p]&&O[p].m(e,null);i(e,f),i(e,u),i(u,a),a.checked=r[15],i(u,b),E||(T=[X(a,"change",r[20]),X(a,"change",r[21])],E=!0)},p(C,k){if(k[0]&128&&n!==(n=C[7].total+"")&&Z(c,n),k[0]&128){x=ke(Object.entries(C[7].byType));let p;for(p=0;p<x.length;p+=1){const R=Ne(C,x,p);O[p]?O[p].p(R,k):(O[p]=Pe(R),O[p].c(),O[p].m(e,f))}for(;p<O.length;p+=1)O[p].d(1);O.length=x.length}k[0]&32768&&(a.checked=C[15])},d(C){C&&_(e),Fe(O,C),E=!1,de(T)}}}function st(r){let e,t,l,o;return e=new He({props:{class:"p-6 text-center",$$slots:{default:[tt]},$$scope:{ctx:r}}}),l=new qe({props:{class:"px-6 pb-4",$$slots:{default:[lt]},$$scope:{ctx:r}}}),{c(){se(e.$$.fragment),t=D(),se(l.$$.fragment)},l(s){ne(e.$$.fragment,s),t=N(s),ne(l.$$.fragment,s)},m(s,n){re(e,s,n),S(s,t,n),re(l,s,n),o=!0},p(s,n){const c={};n[1]&65536&&(c.$$scope={dirty:n,ctx:s}),e.$set(c);const d={};n[0]&32912|n[1]&65536&&(d.$$scope={dirty:n,ctx:s}),l.$set(d)},i(s){o||(ae(e.$$.fragment,s),ae(l.$$.fragment,s),o=!0)},o(s){oe(e.$$.fragment,s),oe(l.$$.fragment,s),o=!1},d(s){s&&_(t),ie(e,s),ie(l,s)}}}function nt(r){let e;return{c(){e=B("Reported Items")},l(t){e=V(t,"Reported Items")},m(t,l){S(t,e,l)},d(t){t&&_(e)}}}function rt(r){let e,t;return e=new Xe({props:{class:"text-lg font-semibold",$$slots:{default:[nt]},$$scope:{ctx:r}}}),{c(){se(e.$$.fragment)},l(l){ne(e.$$.fragment,l)},m(l,o){re(e,l,o),t=!0},p(l,o){const s={};o[1]&65536&&(s.$$scope={dirty:o,ctx:l}),e.$set(s)},i(l){t||(ae(e.$$.fragment,l),t=!0)},o(l){oe(e.$$.fragment,l),t=!1},d(l){ie(e,l)}}}function at(r){let e,t,l,o='<tr class="text-left text-neutral-600 dark:text-neutral-400 border-b border-neutral-200 dark:border-neutral-800"><th class="pb-2 px-3">Reporter</th> <th class="pb-2 px-3">Type</th> <th class="pb-2 px-3">Reason</th> <th class="pb-2 px-3">Notes</th> <th class="pb-2 px-3">Status</th> <th class="pb-2 px-3">Timestamp</th> <th class="pb-2 px-3">Resolved By</th> <th class="pb-2 px-3">Resolved At</th> <th class="pb-2 px-3">Actions</th></tr>',s,n,c=ke(r[16]),d=[];for(let f=0;f<c.length;f+=1)d[f]=Ue(De(r,c,f));return{c(){e=h("div"),t=h("table"),l=h("thead"),l.innerHTML=o,s=D(),n=h("tbody");for(let f=0;f<d.length;f+=1)d[f].c();this.h()},l(f){e=m(f,"DIV",{class:!0});var u=y(e);t=m(u,"TABLE",{class:!0});var a=y(t);l=m(a,"THEAD",{"data-svelte-h":!0}),W(l)!=="svelte-ou8i0y"&&(l.innerHTML=o),s=N(a),n=m(a,"TBODY",{});var b=y(n);for(let E=0;E<d.length;E+=1)d[E].l(b);b.forEach(_),a.forEach(_),u.forEach(_),this.h()},h(){v(t,"class","w-full text-sm table-auto border-collapse"),v(e,"class","min-w-[700px] sm:min-w-full")},m(f,u){S(f,e,u),i(e,t),i(t,l),i(t,s),i(t,n);for(let a=0;a<d.length;a+=1)d[a]&&d[a].m(n,null)},p(f,u){if(u[0]&591616){c=ke(f[16]);let a;for(a=0;a<c.length;a+=1){const b=De(f,c,a);d[a]?d[a].p(b,u):(d[a]=Ue(b),d[a].c(),d[a].m(n,null))}for(;a<d.length;a+=1)d[a].d(1);d.length=c.length}},d(f){f&&_(e),Fe(d,f)}}}function ot(r){let e,t="No reports to show.";return{c(){e=h("p"),e.textContent=t,this.h()},l(l){e=m(l,"P",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-1despy4"&&(e.textContent=t),this.h()},h(){v(e,"class","text-sm text-neutral-500")},m(l,o){S(l,e,o)},p:ze,d(l){l&&_(e)}}}function it(r){let e,t="Loading reports...";return{c(){e=h("p"),e.textContent=t,this.h()},l(l){e=m(l,"P",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-1grqtw3"&&(e.textContent=t),this.h()},h(){v(e,"class","text-sm text-neutral-500")},m(l,o){S(l,e,o)},p:ze,d(l){l&&_(e)}}}function ft(r){let e,t,l,o,s,n=r[40].removeContent&&Ie(),c=r[40].banUser&&Re(r),d=r[40].sendWarning&&Se(r),f=!r[40].removeContent&&!r[40].banUser&&!r[40].sendWarning&&Ae();return{c(){e=h("div"),t=B(`Action taken:\r
                                                        `),n&&n.c(),l=D(),c&&c.c(),o=D(),d&&d.c(),s=D(),f&&f.c(),this.h()},l(u){e=m(u,"DIV",{class:!0});var a=y(e);t=V(a,`Action taken:\r
                                                        `),n&&n.l(a),l=N(a),c&&c.l(a),o=N(a),d&&d.l(a),s=N(a),f&&f.l(a),a.forEach(_),this.h()},h(){v(e,"class","text-s text-neutral-600 dark:text-neutral-400")},m(u,a){S(u,e,a),i(e,t),n&&n.m(e,null),i(e,l),c&&c.m(e,null),i(e,o),d&&d.m(e,null),i(e,s),f&&f.m(e,null)},p(u,a){u[40].removeContent?n||(n=Ie(),n.c(),n.m(e,l)):n&&(n.d(1),n=null),u[40].banUser?c?c.p(u,a):(c=Re(u),c.c(),c.m(e,o)):c&&(c.d(1),c=null),u[40].sendWarning?d?d.p(u,a):(d=Se(u),d.c(),d.m(e,s)):d&&(d.d(1),d=null),!u[40].removeContent&&!u[40].banUser&&!u[40].sendWarning?f||(f=Ae(),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},d(u){u&&_(e),n&&n.d(),c&&c.d(),d&&d.d(),f&&f.d()}}}function ut(r){let e,t="Resolve",l,o,s="Dismiss",n,c;function d(){return r[25](r[40])}function f(){return r[26](r[40])}return{c(){e=h("button"),e.textContent=t,l=D(),o=h("button"),o.textContent=s,this.h()},l(u){e=m(u,"BUTTON",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-1pu1ecj"&&(e.textContent=t),l=N(u),o=m(u,"BUTTON",{class:!0,"data-svelte-h":!0}),W(o)!=="svelte-1dsxcgr"&&(o.textContent=s),this.h()},h(){v(e,"class","text-xs px-2 py-1 rounded w-16 bg-emerald-600 text-white hover:bg-emerald-700"),v(o,"class","text-xs px-2 py-1 rounded w-16 bg-yellow-500 text-white hover:bg-yellow-600")},m(u,a){S(u,e,a),S(u,l,a),S(u,o,a),n||(c=[X(e,"click",d),X(o,"click",f)],n=!0)},p(u,a){r=u},d(u){u&&(_(e),_(l),_(o)),n=!1,de(c)}}}function Ie(r){let e,t="Remove";return{c(){e=h("span"),e.textContent=t},l(l){e=m(l,"SPAN",{"data-svelte-h":!0}),W(e)!=="svelte-ghfdx4"&&(e.textContent=t)},m(l,o){S(l,e,o)},d(l){l&&_(e)}}}function Re(r){let e,t=r[40].removeContent?", Ban":"Ban",l;return{c(){e=h("span"),l=B(t)},l(o){e=m(o,"SPAN",{});var s=y(e);l=V(s,t),s.forEach(_)},m(o,s){S(o,e,s),i(e,l)},p(o,s){s[0]&65536&&t!==(t=o[40].removeContent?", Ban":"Ban")&&Z(l,t)},d(o){o&&_(e)}}}function Se(r){let e,t=r[40].removeContent||r[40].banUser?", Warning":"Warning",l;return{c(){e=h("span"),l=B(t)},l(o){e=m(o,"SPAN",{});var s=y(e);l=V(s,t),s.forEach(_)},m(o,s){S(o,e,s),i(e,l)},p(o,s){s[0]&65536&&t!==(t=o[40].removeContent||o[40].banUser?", Warning":"Warning")&&Z(l,t)},d(o){o&&_(e)}}}function Ae(r){let e,t="None";return{c(){e=h("span"),e.textContent=t},l(l){e=m(l,"SPAN",{"data-svelte-h":!0}),W(e)!=="svelte-zfq248"&&(e.textContent=t)},m(l,o){S(l,e,o)},d(l){l&&_(e)}}}function Le(r){let e,t="View",l,o;function s(){return r[27](r[40])}return{c(){e=h("button"),e.textContent=t,this.h()},l(n){e=m(n,"BUTTON",{class:!0,"data-svelte-h":!0}),W(e)!=="svelte-1yy8px4"&&(e.textContent=t),this.h()},h(){v(e,"class","text-xs px-2 py-1 rounded w-16 bg-blue-600 text-white hover:bg-blue-700")},m(n,c){S(n,e,c),l||(o=X(e,"click",s),l=!0)},p(n,c){r=n},d(n){n&&_(e),l=!1,o()}}}function Ue(r){let e,t,l=r[40].reporterUsername+"",o,s,n,c=r[40].targetType+"",d,f,u,a=r[40].reason+"",b,E,T,x=(r[40].notes||"-")+"",O,C,k,p=r[40].status+"",R,w,A,K=new Date(r[40].createdAt).toLocaleString()+"",z,te,P,U=(r[40].resolvedByUsername||"-")+"",L,H,F,G=(r[40].resolvedAt?new Date(r[40].resolvedAt).toLocaleString():"-")+"",j,$,I,q,Q,pe;function me(M,g){if(M[40].status==="OPEN")return ut;if(M[40].status==="RESOLVED")return ft}let fe=me(r),J=fe&&fe(r),Y=r[40].status!=="RESOLVED"&&Le(r);return{c(){e=h("tr"),t=h("td"),o=B(l),s=D(),n=h("td"),d=B(c),f=D(),u=h("td"),b=B(a),E=D(),T=h("td"),O=B(x),C=D(),k=h("td"),R=B(p),w=D(),A=h("td"),z=B(K),te=D(),P=h("td"),L=B(U),H=D(),F=h("td"),j=B(G),$=D(),I=h("td"),q=h("div"),J&&J.c(),Q=D(),Y&&Y.c(),pe=D(),this.h()},l(M){e=m(M,"TR",{class:!0});var g=y(e);t=m(g,"TD",{class:!0});var le=y(t);o=V(le,l),le.forEach(_),s=N(g),n=m(g,"TD",{class:!0});var ue=y(n);d=V(ue,c),ue.forEach(_),f=N(g),u=m(g,"TD",{class:!0});var _e=y(u);b=V(_e,a),_e.forEach(_),E=N(g),T=m(g,"TD",{class:!0});var ce=y(T);O=V(ce,x),ce.forEach(_),C=N(g),k=m(g,"TD",{class:!0});var he=y(k);R=V(he,p),he.forEach(_),w=N(g),A=m(g,"TD",{class:!0});var Ce=y(A);z=V(Ce,K),Ce.forEach(_),te=N(g),P=m(g,"TD",{class:!0});var Ee=y(P);L=V(Ee,U),Ee.forEach(_),H=N(g),F=m(g,"TD",{class:!0});var xe=y(F);j=V(xe,G),xe.forEach(_),$=N(g),I=m(g,"TD",{class:!0});var $e=y(I);q=m($e,"DIV",{class:!0});var be=y(q);J&&J.l(be),Q=N(be),Y&&Y.l(be),be.forEach(_),$e.forEach(_),pe=N(g),g.forEach(_),this.h()},h(){v(t,"class","py-2 px-3"),v(n,"class","py-2 px-3"),v(u,"class","py-2 px-3"),v(T,"class","py-2 text-neutral-600 dark:text-neutral-400 italic max-w-xs line-clamp-2 px-3"),v(k,"class","py-2 px-3"),v(A,"class","py-2 px-3"),v(P,"class","py-2 px-3"),v(F,"class","py-2 px-3"),v(q,"class","flex flex-wrap gap-1"),v(I,"class","py-2 px-3"),v(e,"class","border-t border-neutral-100 dark:border-neutral-800")},m(M,g){S(M,e,g),i(e,t),i(t,o),i(e,s),i(e,n),i(n,d),i(e,f),i(e,u),i(u,b),i(e,E),i(e,T),i(T,O),i(e,C),i(e,k),i(k,R),i(e,w),i(e,A),i(A,z),i(e,te),i(e,P),i(P,L),i(e,H),i(e,F),i(F,j),i(e,$),i(e,I),i(I,q),J&&J.m(q,null),i(q,Q),Y&&Y.m(q,null),i(e,pe)},p(M,g){g[0]&65536&&l!==(l=M[40].reporterUsername+"")&&Z(o,l),g[0]&65536&&c!==(c=M[40].targetType+"")&&Z(d,c),g[0]&65536&&a!==(a=M[40].reason+"")&&Z(b,a),g[0]&65536&&x!==(x=(M[40].notes||"-")+"")&&Z(O,x),g[0]&65536&&p!==(p=M[40].status+"")&&Z(R,p),g[0]&65536&&K!==(K=new Date(M[40].createdAt).toLocaleString()+"")&&Z(z,K),g[0]&65536&&U!==(U=(M[40].resolvedByUsername||"-")+"")&&Z(L,U),g[0]&65536&&G!==(G=(M[40].resolvedAt?new Date(M[40].resolvedAt).toLocaleString():"-")+"")&&Z(j,G),fe===(fe=me(M))&&J?J.p(M,g):(J&&J.d(1),J=fe&&fe(M),J&&(J.c(),J.m(q,Q))),M[40].status!=="RESOLVED"?Y?Y.p(M,g):(Y=Le(M),Y.c(),Y.m(q,null)):Y&&(Y.d(1),Y=null)},d(M){M&&_(e),J&&J.d(),Y&&Y.d()}}}function ct(r){let e;function t(s,n){return s[6]?it:s[0].length===0?ot:at}let l=t(r),o=l(r);return{c(){o.c(),e=ge()},l(s){o.l(s),e=ge()},m(s,n){o.m(s,n),S(s,e,n)},p(s,n){l===(l=t(s))&&o?o.p(s,n):(o.d(1),o=l(s),o&&(o.c(),o.m(e.parentNode,e)))},d(s){s&&_(e),o.d(s)}}}function Be(r){let e,t,l,o,s,n,c,d=r[4]+1+"",f,u,a,b,E,T,x,O,C;return{c(){e=h("div"),t=h("button"),l=B("Prev"),s=D(),n=h("span"),c=B("Page "),f=B(d),u=B(" of "),a=B(r[5]),b=D(),E=h("button"),T=B("Next"),this.h()},l(k){e=m(k,"DIV",{class:!0});var p=y(e);t=m(p,"BUTTON",{class:!0});var R=y(t);l=V(R,"Prev"),R.forEach(_),s=N(p),n=m(p,"SPAN",{class:!0});var w=y(n);c=V(w,"Page "),f=V(w,d),u=V(w," of "),a=V(w,r[5]),w.forEach(_),b=N(p),E=m(p,"BUTTON",{class:!0});var A=y(E);T=V(A,"Next"),A.forEach(_),p.forEach(_),this.h()},h(){v(t,"class","px-3 py-1 text-sm rounded border dark:border-neutral-700 border-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800"),t.disabled=o=r[4]===0,v(n,"class","text-sm text-neutral-700 dark:text-neutral-300"),v(E,"class","px-3 py-1 text-sm rounded border dark:border-neutral-700 border-neutral-300 hover:bg-neutral-100 dark:hover:bg-neutral-800"),E.disabled=x=r[4]+1>=r[5],v(e,"class","flex justify-center items-center py-4 gap-2")},m(k,p){S(k,e,p),i(e,t),i(t,l),i(e,s),i(e,n),i(n,c),i(n,f),i(n,u),i(n,a),i(e,b),i(e,E),i(E,T),O||(C=[X(t,"click",r[28]),X(E,"click",r[29])],O=!0)},p(k,p){p[0]&16&&o!==(o=k[4]===0)&&(t.disabled=o),p[0]&16&&d!==(d=k[4]+1+"")&&Z(f,d),p[0]&32&&Z(a,k[5]),p[0]&48&&x!==(x=k[4]+1>=k[5])&&(E.disabled=x)},d(k){k&&_(e),O=!1,de(C)}}}function dt(r){let e,t,l,o,s,n="All Statuses",c,d="Open",f,u="Resolved",a,b="Dismissed",E,T,x,O="All Types",C,k="Post",p,R="Comment",w,A="Profile",K,z,te,P,U,L,H,F,G;e=new He({props:{class:"px-6 pt-6",$$slots:{default:[rt]},$$scope:{ctx:r}}}),P=new qe({props:{class:"p-2 overflow-x-auto",$$slots:{default:[ct]},$$scope:{ctx:r}}});let j=r[5]>1&&Be(r);return{c(){se(e.$$.fragment),t=D(),l=h("div"),o=h("select"),s=h("option"),s.textContent=n,c=h("option"),c.textContent=d,f=h("option"),f.textContent=u,a=h("option"),a.textContent=b,E=D(),T=h("select"),x=h("option"),x.textContent=O,C=h("option"),C.textContent=k,p=h("option"),p.textContent=R,w=h("option"),w.textContent=A,K=D(),z=h("input"),te=D(),se(P.$$.fragment),U=D(),j&&j.c(),L=ge(),this.h()},l($){ne(e.$$.fragment,$),t=N($),l=m($,"DIV",{class:!0});var I=y(l);o=m(I,"SELECT",{});var q=y(o);s=m(q,"OPTION",{"data-svelte-h":!0}),W(s)!=="svelte-1n598p3"&&(s.textContent=n),c=m(q,"OPTION",{"data-svelte-h":!0}),W(c)!=="svelte-zjf0ry"&&(c.textContent=d),f=m(q,"OPTION",{"data-svelte-h":!0}),W(f)!=="svelte-1tm03vi"&&(f.textContent=u),a=m(q,"OPTION",{"data-svelte-h":!0}),W(a)!=="svelte-1lro7d8"&&(a.textContent=b),q.forEach(_),E=N(I),T=m(I,"SELECT",{});var Q=y(T);x=m(Q,"OPTION",{"data-svelte-h":!0}),W(x)!=="svelte-1wzafm2"&&(x.textContent=O),C=m(Q,"OPTION",{"data-svelte-h":!0}),W(C)!=="svelte-b8r78q"&&(C.textContent=k),p=m(Q,"OPTION",{"data-svelte-h":!0}),W(p)!=="svelte-ws8o2g"&&(p.textContent=R),w=m(Q,"OPTION",{"data-svelte-h":!0}),W(w)!=="svelte-lyp94"&&(w.textContent=A),Q.forEach(_),K=N(I),z=m(I,"INPUT",{type:!0,placeholder:!0,class:!0}),I.forEach(_),te=N($),ne(P.$$.fragment,$),U=N($),j&&j.l($),L=ge(),this.h()},h(){s.__value="",ee(s,s.__value),c.__value="OPEN",ee(c,c.__value),f.__value="RESOLVED",ee(f,f.__value),a.__value="DISMISSED",ee(a,a.__value),r[1]===void 0&&Te(()=>r[22].call(o)),x.__value="",ee(x,x.__value),C.__value="POST",ee(C,C.__value),p.__value="COMMENT",ee(p,p.__value),w.__value="PROFILE",ee(w,w.__value),r[2]===void 0&&Te(()=>r[23].call(T)),v(z,"type","text"),v(z,"placeholder","Filter by reason..."),v(z,"class","border px-2 py-1 text-sm rounded"),v(l,"class","flex gap-4 items-center px-6 pb-2 text-sm")},m($,I){re(e,$,I),S($,t,I),S($,l,I),i(l,o),i(o,s),i(o,c),i(o,f),i(o,a),ve(o,r[1],!0),i(l,E),i(l,T),i(T,x),i(T,C),i(T,p),i(T,w),ve(T,r[2],!0),i(l,K),i(l,z),ee(z,r[3]),S($,te,I),re(P,$,I),S($,U,I),j&&j.m($,I),S($,L,I),H=!0,F||(G=[X(o,"change",r[22]),X(T,"change",r[23]),X(z,"input",r[24])],F=!0)},p($,I){const q={};I[1]&65536&&(q.$$scope={dirty:I,ctx:$}),e.$set(q),I[0]&2&&ve(o,$[1]),I[0]&4&&ve(T,$[2]),I[0]&8&&z.value!==$[3]&&ee(z,$[3]);const Q={};I[0]&67393|I[1]&65536&&(Q.$$scope={dirty:I,ctx:$}),P.$set(Q),$[5]>1?j?j.p($,I):(j=Be($),j.c(),j.m(L.parentNode,L)):j&&(j.d(1),j=null)},i($){H||(ae(e.$$.fragment,$),ae(P.$$.fragment,$),H=!0)},o($){oe(e.$$.fragment,$),oe(P.$$.fragment,$),H=!1},d($){$&&(_(t),_(l),_(te),_(U),_(L)),ie(e,$),ie(P,$),j&&j.d($),F=!1,de(G)}}}function Ve(r){let e,t,l,o="Resolve Report",s,n,c="Resolution Note",d,f,u,a,b,E,T,x,O,C,k,p,R="Cancel",w,A,K="Resolve",z,te,P=r[10]&&r[10].targetType!=="PROFILE"&&je(r),U=r[10]&&r[10].targetType==="PROFILE"&&Me(r);return{c(){e=h("div"),t=h("div"),l=h("h2"),l.textContent=o,s=D(),n=h("label"),n.textContent=c,d=D(),f=h("textarea"),u=D(),a=h("div"),P&&P.c(),b=D(),U&&U.c(),E=D(),T=h("label"),x=h("input"),O=B(`\r
                        Send warning`),C=D(),k=h("div"),p=h("button"),p.textContent=R,w=D(),A=h("button"),A.textContent=K,this.h()},l(L){e=m(L,"DIV",{class:!0});var H=y(e);t=m(H,"DIV",{class:!0});var F=y(t);l=m(F,"H2",{class:!0,"data-svelte-h":!0}),W(l)!=="svelte-31f1j7"&&(l.textContent=o),s=N(F),n=m(F,"LABEL",{class:!0,"data-svelte-h":!0}),W(n)!=="svelte-1hjl9x4"&&(n.textContent=c),d=N(F),f=m(F,"TEXTAREA",{rows:!0,class:!0}),y(f).forEach(_),u=N(F),a=m(F,"DIV",{class:!0});var G=y(a);P&&P.l(G),b=N(G),U&&U.l(G),E=N(G),T=m(G,"LABEL",{});var j=y(T);x=m(j,"INPUT",{type:!0}),O=V(j,`\r
                        Send warning`),j.forEach(_),G.forEach(_),C=N(F),k=m(F,"DIV",{class:!0});var $=y(k);p=m($,"BUTTON",{class:!0,"data-svelte-h":!0}),W(p)!=="svelte-16u8hzq"&&(p.textContent=R),w=N($),A=m($,"BUTTON",{class:!0,"data-svelte-h":!0}),W(A)!=="svelte-fb5fwo"&&(A.textContent=K),$.forEach(_),F.forEach(_),H.forEach(_),this.h()},h(){v(l,"class","text-lg font-semibold mb-4"),v(n,"class","block text-sm font-medium mb-1"),v(f,"rows","3"),v(f,"class","w-full p-2 mb-4 text-sm rounded border border-neutral-300 dark:border-neutral-700 dark:bg-neutral-800"),v(x,"type","checkbox"),v(a,"class","space-y-2 mb-4 text-sm"),v(p,"class","px-3 py-1 rounded text-sm border border-neutral-300 dark:border-neutral-700"),v(A,"class","px-3 py-1 rounded text-sm bg-emerald-600 text-white hover:bg-emerald-700"),v(k,"class","flex justify-end gap-2"),v(t,"class","bg-white dark:bg-neutral-950 rounded-lg shadow-xl w-full max-w-lg p-6 border border-neutral-200 dark:border-neutral-800"),v(e,"class","fixed inset-0 z-50 bg-black/60 flex items-center justify-center p-4")},m(L,H){S(L,e,H),i(e,t),i(t,l),i(t,s),i(t,n),i(t,d),i(t,f),ee(f,r[11]),i(t,u),i(t,a),P&&P.m(a,null),i(a,b),U&&U.m(a,null),i(a,E),i(a,T),i(T,x),x.checked=r[14],i(T,O),i(t,C),i(t,k),i(k,p),i(k,w),i(k,A),z||(te=[X(f,"input",r[30]),X(x,"change",r[33]),X(p,"click",r[34]),X(A,"click",r[35])],z=!0)},p(L,H){H[0]&2048&&ee(f,L[11]),L[10]&&L[10].targetType!=="PROFILE"?P?P.p(L,H):(P=je(L),P.c(),P.m(a,b)):P&&(P.d(1),P=null),L[10]&&L[10].targetType==="PROFILE"?U?U.p(L,H):(U=Me(L),U.c(),U.m(a,E)):U&&(U.d(1),U=null),H[0]&16384&&(x.checked=L[14])},d(L){L&&_(e),P&&P.d(),U&&U.d(),z=!1,de(te)}}}function je(r){let e,t,l,o,s;return{c(){e=h("label"),t=h("input"),l=B(`\r
                            Remove content`),this.h()},l(n){e=m(n,"LABEL",{});var c=y(e);t=m(c,"INPUT",{type:!0}),l=V(c,`\r
                            Remove content`),c.forEach(_),this.h()},h(){v(t,"type","checkbox")},m(n,c){S(n,e,c),i(e,t),t.checked=r[12],i(e,l),o||(s=X(t,"change",r[31]),o=!0)},p(n,c){c[0]&4096&&(t.checked=n[12])},d(n){n&&_(e),o=!1,s()}}}function Me(r){let e,t,l,o,s;return{c(){e=h("label"),t=h("input"),l=B(`\r
                            Ban user`),this.h()},l(n){e=m(n,"LABEL",{});var c=y(e);t=m(c,"INPUT",{type:!0}),l=V(c,`\r
                            Ban user`),c.forEach(_),this.h()},h(){v(t,"type","checkbox")},m(n,c){S(n,e,c),i(e,t),t.checked=r[13],i(e,l),o||(s=X(t,"change",r[32]),o=!0)},p(n,c){c[0]&8192&&(t.checked=n[13])},d(n){n&&_(e),o=!1,s()}}}function We(r){let e,t,l,o="Dismiss Report",s,n,c="Resolution Note",d,f,u,a,b,E="Cancel",T,x,O="Dismiss",C,k;return{c(){e=h("div"),t=h("div"),l=h("h2"),l.textContent=o,s=D(),n=h("label"),n.textContent=c,d=D(),f=h("textarea"),u=D(),a=h("div"),b=h("button"),b.textContent=E,T=D(),x=h("button"),x.textContent=O,this.h()},l(p){e=m(p,"DIV",{class:!0});var R=y(e);t=m(R,"DIV",{class:!0});var w=y(t);l=m(w,"H2",{class:!0,"data-svelte-h":!0}),W(l)!=="svelte-1ovddp3"&&(l.textContent=o),s=N(w),n=m(w,"LABEL",{class:!0,"data-svelte-h":!0}),W(n)!=="svelte-1hjl9x4"&&(n.textContent=c),d=N(w),f=m(w,"TEXTAREA",{rows:!0,class:!0}),y(f).forEach(_),u=N(w),a=m(w,"DIV",{class:!0});var A=y(a);b=m(A,"BUTTON",{class:!0,"data-svelte-h":!0}),W(b)!=="svelte-6yey7e"&&(b.textContent=E),T=N(A),x=m(A,"BUTTON",{class:!0,"data-svelte-h":!0}),W(x)!=="svelte-1u11d8v"&&(x.textContent=O),A.forEach(_),w.forEach(_),R.forEach(_),this.h()},h(){v(l,"class","text-lg font-semibold mb-4"),v(n,"class","block text-sm font-medium mb-1"),v(f,"rows","3"),v(f,"class","w-full p-2 mb-4 text-sm rounded border border-neutral-300 dark:border-neutral-700 dark:bg-neutral-800"),v(b,"class","px-3 py-1 rounded text-sm border border-neutral-300 dark:border-neutral-700"),v(x,"class","px-3 py-1 rounded text-sm bg-yellow-500 text-white hover:bg-yellow-600"),v(a,"class","flex justify-end gap-2"),v(t,"class","bg-white dark:bg-neutral-950 rounded-lg shadow-xl w-full max-w-lg p-6 border border-neutral-200 dark:border-neutral-800"),v(e,"class","fixed inset-0 z-50 bg-black/60 flex items-center justify-center p-4")},m(p,R){S(p,e,R),i(e,t),i(t,l),i(t,s),i(t,n),i(t,d),i(t,f),ee(f,r[11]),i(t,u),i(t,a),i(a,b),i(a,T),i(a,x),C||(k=[X(f,"input",r[36]),X(b,"click",r[37]),X(x,"click",r[38])],C=!0)},p(p,R){R[0]&2048&&ee(f,p[11])},d(p){p&&_(e),C=!1,de(k)}}}function pt(r){let e,t,l,o,s,n,c,d;l=new ye({props:{class:"overflow-hidden bg-white dark:bg-neutral-950 shadow-md rounded-md border border-neutral-200 dark:border-neutral-800",$$slots:{default:[st]},$$scope:{ctx:r}}}),s=new ye({props:{class:"bg-white dark:bg-neutral-950 rounded-md border border-neutral-200 dark:border-neutral-800 shadow",$$slots:{default:[dt]},$$scope:{ctx:r}}});let f=r[8]&&Ve(r),u=r[9]&&We(r);return{c(){e=h("div"),t=h("div"),se(l.$$.fragment),o=D(),se(s.$$.fragment),n=D(),f&&f.c(),c=D(),u&&u.c(),this.h()},l(a){e=m(a,"DIV",{class:!0});var b=y(e);t=m(b,"DIV",{class:!0});var E=y(t);ne(l.$$.fragment,E),o=N(E),ne(s.$$.fragment,E),E.forEach(_),n=N(b),f&&f.l(b),c=N(b),u&&u.l(b),b.forEach(_),this.h()},h(){v(t,"class","w-full max-w-5xl space-y-6"),v(e,"class","min-h-screen flex justify-center bg-change dark:bg-dark shifting p-3 py-5")},m(a,b){S(a,e,b),i(e,t),re(l,t,null),i(t,o),re(s,t,null),i(e,n),f&&f.m(e,null),i(e,c),u&&u.m(e,null),d=!0},p(a,b){const E={};b[0]&32912|b[1]&65536&&(E.$$scope={dirty:b,ctx:a}),l.$set(E);const T={};b[0]&67455|b[1]&65536&&(T.$$scope={dirty:b,ctx:a}),s.$set(T),a[8]?f?f.p(a,b):(f=Ve(a),f.c(),f.m(e,c)):f&&(f.d(1),f=null),a[9]?u?u.p(a,b):(u=We(a),u.c(),u.m(e,null)):u&&(u.d(1),u=null)},i(a){d||(ae(l.$$.fragment,a),ae(s.$$.fragment,a),d=!0)},o(a){oe(l.$$.fragment,a),oe(s.$$.fragment,a),d=!1},d(a){a&&_(e),ie(l),ie(s),f&&f.d(),u&&u.d()}}}function _t(r,e,t){let l,o=!1,s=[],n=0,c=1,d=!0,f={total:0,byType:{}},u=!1,a=!1,b=null,E="",T=!1,x=!1,O=!1,C="OPEN",k="",p="",R=!0;async function w(g=0){t(6,d=!0);try{const ue=await(await fetch(`https://backend-310608491068.europe-west1.run.app/api/reports?page=${g}&size=10`)).json();t(0,s=ue.content),t(5,c=ue.page.totalPages),t(4,n=ue.page.number);const _e=R?s.filter(ce=>ce.status==="OPEN"):s;t(7,f.total=_e.length,f),t(7,f.byType=_e.reduce((ce,he)=>(ce[he.targetType]=(ce[he.targetType]||0)+1,ce),{}),f)}catch(le){console.error("Failed to fetch reports",le)}finally{t(6,d=!1)}}async function A(g){if(b)try{await fetch(`https://backend-310608491068.europe-west1.run.app/api/reports/${b.id}/resolve`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:g,resolutionNote:E,removeContent:T,banUser:x,sendWarning:O})}),t(8,u=!1),t(9,a=!1),await w(n)}catch(le){console.error("Error resolving report",le)}}function K(g){const le=g.targetId,ue=g.targetType==="POST"?`/thread/${le}`:g.targetType==="COMMENT"?`/thread/${g.postId}`:`/user/${g.reportedUsername}`;Oe(ue)}Ye(()=>{o=Object.fromEntries(document.cookie.split("; ").map(le=>le.split("="))).userRole==="ADMIN",o?w():Oe("/")});function z(){R=this.checked,t(15,R)}const te=()=>w(n);function P(){C=we(this),t(1,C)}function U(){k=we(this),t(2,k)}function L(){p=this.value,t(3,p)}const H=g=>{t(10,b=g),t(8,u=!0)},F=g=>{t(10,b=g),t(9,a=!0)},G=g=>K(g),j=()=>w(n-1),$=()=>w(n+1);function I(){E=this.value,t(11,E)}function q(){T=this.checked,t(12,T)}function Q(){x=this.checked,t(13,x)}function pe(){O=this.checked,t(14,O)}const me=()=>{t(8,u=!1),t(11,E=""),t(12,T=!1),t(13,x=!1),t(14,O=!1)},fe=()=>A("RESOLVED");function J(){E=this.value,t(11,E)}const Y=()=>{t(9,a=!1),t(11,E="")},M=()=>{A("DISMISSED"),t(9,a=!1)};return r.$$.update=()=>{r.$$.dirty[0]&15&&t(16,l=s.filter(g=>(!C||g.status===C)&&(!k||g.targetType===k)&&(!p||g.reason.toLowerCase().includes(p.toLowerCase()))))},[s,C,k,p,n,c,d,f,u,a,b,E,T,x,O,R,l,w,A,K,z,te,P,U,L,H,F,G,j,$,I,q,Q,pe,me,fe,J,Y,M]}class xt extends Ge{constructor(e){super(),Ke(this,e,_t,pt,Je,{},null,[-1,-1])}}export{xt as component};
