import{s as ee,e as g,a as F,B as G,t as z,c as _,b as C,g as j,C as J,f as b,d as N,p as R,l as n,i as S,h as o,v as A,j as q,n as W,w as te,R as le,E as re,y as ae,F as se,S as Q}from"./C6oXrJZt.js";import{e as X}from"./CP0-fytT.js";import{S as ne,i as ie}from"./Zi_cIJN_.js";import"./C7UUfNEJ.js";function Y(a,e,t){const l=a.slice();return l[15]=e[t],l[17]=t,l}function Z(a){let e,t,l,r=a[0].length+"",d,m,h,p,v=X(a[0]),c=[];for(let u=0;u<v.length;u+=1)c[u]=$(Y(a,v,u));return{c(){e=g("div"),t=g("h4"),l=z("Media Files ("),d=z(r),m=z(")"),h=F(),p=g("div");for(let u=0;u<c.length;u+=1)c[u].c();this.h()},l(u){e=_(u,"DIV",{class:!0});var k=C(e);t=_(k,"H4",{class:!0});var i=C(t);l=N(i,"Media Files ("),d=N(i,r),m=N(i,")"),i.forEach(b),h=j(k),p=_(k,"DIV",{class:!0});var x=C(p);for(let L=0;L<c.length;L+=1)c[L].l(x);x.forEach(b),k.forEach(b),this.h()},h(){n(t,"class","text-sm font-medium mb-2 text-neutral-700 dark:text-neutral-300"),n(p,"class","grid grid-cols-2 sm:grid-cols-4 md:grid-cols-5 gap-4"),n(e,"class","mt-4")},m(u,k){S(u,e,k),o(e,t),o(t,l),o(t,d),o(t,m),o(e,h),o(e,p);for(let i=0;i<c.length;i+=1)c[i]&&c[i].m(p,null)},p(u,k){if(k&1&&r!==(r=u[0].length+"")&&q(d,r),k&257){v=X(u[0]);let i;for(i=0;i<v.length;i+=1){const x=Y(u,v,i);c[i]?c[i].p(x,k):(c[i]=$(x),c[i].c(),c[i].m(p,null))}for(;i<c.length;i+=1)c[i].d(1);c.length=v.length}},d(u){u&&b(e),ae(c,u)}}}function oe(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-neutral-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path></svg> <span class="text-xs text-neutral-500 mt-1">File</span>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-ercmho"&&(e.innerHTML=t),this.h()},h(){n(e,"class","flex flex-col items-center")},m(l,r){S(l,e,r)},p:W,d(l){l&&b(e)}}}function de(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-neutral-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19V6l12-3v13M9 19c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zm12-3c0 1.105-1.343 2-3 2s-3-.895-3-2 1.343-2 3-2 3 .895 3 2zM9 10l12-3"></path></svg> <span class="text-xs text-neutral-500 mt-1">Audio</span>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-1g81j3a"&&(e.innerHTML=t),this.h()},h(){n(e,"class","flex flex-col items-center")},m(l,r){S(l,e,r)},p:W,d(l){l&&b(e)}}}function ue(a){let e,t='<svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-neutral-400" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z"></path></svg> <span class="text-xs text-neutral-500 mt-1">Video</span>';return{c(){e=g("div"),e.innerHTML=t,this.h()},l(l){e=_(l,"DIV",{class:!0,"data-svelte-h":!0}),R(e)!=="svelte-9md4p4"&&(e.innerHTML=t),this.h()},h(){n(e,"class","flex flex-col items-center")},m(l,r){S(l,e,r)},p:W,d(l){l&&b(e)}}}function ce(a){let e,t,l;return{c(){e=g("img"),this.h()},l(r){e=_(r,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){Q(e.src,t=a[15].url)||n(e,"src",t),n(e,"alt",l=a[15].fileName),n(e,"class","max-h-full max-w-full object-contain")},m(r,d){S(r,e,d)},p(r,d){d&1&&!Q(e.src,t=r[15].url)&&n(e,"src",t),d&1&&l!==(l=r[15].fileName)&&n(e,"alt",l)},d(r){r&&b(e)}}}function $(a){let e,t,l,r,d='<svg xmlns="http://www.w3.org/2000/svg" class="h-3 w-3" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z" clip-rule="evenodd"></path></svg>',m,h,p,v=a[15].fileName+"",c,u,k,i,x=Math.round(a[15].fileSize/1024)+"",L,E,H,s,I;function B(y,f){return y[15].type==="image"?ce:y[15].type==="video"?ue:y[15].type==="audio"?de:oe}let w=B(a),M=w(a);function O(){return a[11](a[17])}return{c(){e=g("div"),t=g("div"),M.c(),l=F(),r=g("button"),r.innerHTML=d,m=F(),h=g("div"),p=g("div"),c=z(v),k=F(),i=g("div"),L=z(x),E=z(" KB"),H=F(),this.h()},l(y){e=_(y,"DIV",{class:!0});var f=C(e);t=_(f,"DIV",{class:!0});var D=C(t);M.l(D),l=j(D),r=_(D,"BUTTON",{type:!0,class:!0,title:!0,"data-svelte-h":!0}),R(r)!=="svelte-3b37c1"&&(r.innerHTML=d),D.forEach(b),m=j(f),h=_(f,"DIV",{class:!0});var V=C(h);p=_(V,"DIV",{class:!0,title:!0});var U=C(p);c=N(U,v),U.forEach(b),k=j(V),i=_(V,"DIV",{class:!0});var T=C(i);L=N(T,x),E=N(T," KB"),T.forEach(b),V.forEach(b),H=j(f),f.forEach(b),this.h()},h(){n(r,"type","button"),n(r,"class","absolute top-1 right-1 bg-white dark:bg-neutral-800 rounded-full h-5 w-5 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity border border-neutral-200 dark:border-neutral-700 text-neutral-700 dark:text-neutral-300 hover:text-red-500 dark:hover:text-red-400"),n(r,"title","Remove file"),n(t,"class","relative h-24 flex items-center justify-center bg-neutral-50 dark:bg-neutral-900 p-2"),n(p,"class","truncate text-xs text-neutral-600 dark:text-neutral-400"),n(p,"title",u=a[15].fileName),n(i,"class","text-xs text-neutral-500 dark:text-neutral-500"),n(h,"class","p-2"),n(e,"class","relative group flex flex-col border border-neutral-200 dark:border-neutral-700 rounded-md overflow-hidden bg-white dark:bg-neutral-900")},m(y,f){S(y,e,f),o(e,t),M.m(t,null),o(t,l),o(t,r),o(e,m),o(e,h),o(h,p),o(p,c),o(h,k),o(h,i),o(i,L),o(i,E),o(e,H),s||(I=A(r,"click",O),s=!0)},p(y,f){a=y,w===(w=B(a))&&M?M.p(a,f):(M.d(1),M=w(a),M&&(M.c(),M.m(t,l))),f&1&&v!==(v=a[15].fileName+"")&&q(c,v),f&1&&u!==(u=a[15].fileName)&&n(p,"title",u),f&1&&x!==(x=Math.round(a[15].fileSize/1024)+"")&&q(L,x)},d(y){y&&b(e),M.d(),s=!1,I()}}}function fe(a){let e,t,l,r,d,m,h,p,v,c=a[1]?"Drop files to upload":"Drag and drop files here",u,k,i,x="Tap to upload media",L,E,H='or <span class="text-teal-600 dark:text-teal-400 hover:underline font-medium">browse files</span>',s,I,B="Supports images, videos, and audio files",w,M,O,y,f=a[0].length>0&&Z(a);return{c(){e=g("div"),t=g("div"),l=g("input"),r=F(),d=g("label"),m=G("svg"),h=G("path"),p=F(),v=g("div"),u=z(c),k=F(),i=g("div"),i.textContent=x,L=F(),E=g("div"),E.innerHTML=H,s=F(),I=g("div"),I.textContent=B,M=F(),f&&f.c(),this.h()},l(D){e=_(D,"DIV",{class:!0});var V=C(e);t=_(V,"DIV",{class:!0});var U=C(t);l=_(U,"INPUT",{type:!0,id:!0,accept:!0,class:!0}),r=j(U),d=_(U,"LABEL",{for:!0,class:!0});var T=C(d);m=J(T,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0,stroke:!0});var K=C(m);h=J(K,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),C(h).forEach(b),K.forEach(b),p=j(T),v=_(T,"DIV",{class:!0});var P=C(v);u=N(P,c),P.forEach(b),k=j(T),i=_(T,"DIV",{class:!0,"data-svelte-h":!0}),R(i)!=="svelte-1gzrqr8"&&(i.textContent=x),L=j(T),E=_(T,"DIV",{class:!0,"data-svelte-h":!0}),R(E)!=="svelte-1dp9vew"&&(E.innerHTML=H),s=j(T),I=_(T,"DIV",{class:!0,"data-svelte-h":!0}),R(I)!=="svelte-idcgl"&&(I.textContent=B),T.forEach(b),U.forEach(b),M=j(V),f&&f.l(V),V.forEach(b),this.h()},h(){n(l,"type","file"),n(l,"id","mediaUpload"),l.multiple=!0,n(l,"accept","image/*,video/*,audio/*"),n(l,"class","hidden"),n(h,"stroke-linecap","round"),n(h,"stroke-linejoin","round"),n(h,"stroke-width","2"),n(h,"d","M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"),n(m,"xmlns","http://www.w3.org/2000/svg"),n(m,"class","h-10 w-10 text-neutral-400 dark:text-neutral-500 mb-2"),n(m,"fill","none"),n(m,"viewBox","0 0 24 24"),n(m,"stroke","currentColor"),n(v,"class","hidden lg:block text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1"),n(i,"class","block lg:hidden text-sm font-medium text-neutral-700 dark:text-neutral-300 mb-1"),n(E,"class","hidden lg:block text-xs text-neutral-500 dark:text-neutral-400"),n(I,"class","text-xs text-neutral-500 dark:text-neutral-400 mt-2"),n(d,"for","mediaUpload"),n(d,"class","cursor-pointer flex flex-col items-center"),n(t,"class",w="border-2 border-dashed rounded-md p-6 text-center transition-all "+(a[1]?"border-teal-500 bg-teal-50 dark:bg-teal-900/30":"border-neutral-300 dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-900/30")),n(e,"class","flex flex-col w-full")},m(D,V){S(D,e,V),o(e,t),o(t,l),a[10](l),o(t,r),o(t,d),o(d,m),o(m,h),o(d,p),o(d,v),o(v,u),o(d,k),o(d,i),o(d,L),o(d,E),o(d,s),o(d,I),o(e,M),f&&f.m(e,null),O||(y=[A(l,"change",a[7]),A(t,"dragenter",a[4]),A(t,"dragleave",a[5]),A(t,"dragover",a[3]),A(t,"drop",a[6])],O=!0)},p(D,[V]){V&2&&c!==(c=D[1]?"Drop files to upload":"Drag and drop files here")&&q(u,c),V&2&&w!==(w="border-2 border-dashed rounded-md p-6 text-center transition-all "+(D[1]?"border-teal-500 bg-teal-50 dark:bg-teal-900/30":"border-neutral-300 dark:border-neutral-700 hover:bg-neutral-50 dark:hover:bg-neutral-900/30"))&&n(t,"class",w),D[0].length>0?f?f.p(D,V):(f=Z(D),f.c(),f.m(e,null)):f&&(f.d(1),f=null)},i:W,o:W,d(D){D&&b(e),a[10](null),f&&f.d(),O=!1,te(y)}}}function he(a){return a.type.startsWith("image/")?"image":a.type.startsWith("video/")?"video":a.type.startsWith("audio/")?"audio":"document"}function ve(a,e,t){const l=le();let{mediaFiles:r=[]}=e,{errors:d={}}=e,m=!1,h,p=new WeakSet;function v(s){p.has(s)||(s.preventDefault(),s.stopPropagation(),p.add(s))}function c(s){v(s),t(1,m=!0)}function u(s){v(s),t(1,m=!1)}function k(s){v(s),t(1,m=!1),s.dataTransfer.files&&s.dataTransfer.files.length>0&&x(s.dataTransfer.files)}function i(s){s.target.files&&s.target.files.length>0&&x(s.target.files)}function x(s){t(9,d.media="",d);const B=Array.from(s).map(w=>{const M=he(w);return{file:w,fileName:w.name,fileSize:w.size,type:M,url:URL.createObjectURL(w)}});t(0,r=[...r,...B]),l("update",{mediaFiles:r})}function L(s){const I=r.filter((B,w)=>w!==s);URL.revokeObjectURL(r[s].url),t(0,r=I),l("update",{mediaFiles:r})}re(()=>{r.forEach(s=>{s.url&&URL.revokeObjectURL(s.url)})});function E(s){se[s?"unshift":"push"](()=>{h=s,t(2,h)})}const H=s=>L(s);return a.$$set=s=>{"mediaFiles"in s&&t(0,r=s.mediaFiles),"errors"in s&&t(9,d=s.errors)},[r,m,h,v,c,u,k,i,L,d,E,H]}class be extends ne{constructor(e){super(),ie(this,e,ve,fe,ee,{mediaFiles:0,errors:9})}}export{be as M};
