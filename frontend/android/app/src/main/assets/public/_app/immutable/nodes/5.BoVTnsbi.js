import{s as Zt,e as w,c as k,b,f as u,l as i,i as F,h as d,v as Kt,D as Wt,k as Qt,E as Gt,a as D,g as I,F as ke,B as oe,t as V,p as Fe,C as ue,d as L,G as ye,j as Z,y as St,m as xt,n as er}from"../chunks/C6oXrJZt.js";import{S as tr,i as rr,c as Q,a as G,m as ee,t as te,b as re,d as le,f as $e}from"../chunks/Zi_cIJN_.js";import{C as lr,e as Qe}from"../chunks/CP0-fytT.js";import{C as sr}from"../chunks/DxZvhrWi.js";import{C as ar}from"../chunks/o6IJ7tp9.js";import{C as nr}from"../chunks/CsWsoBlu.js";import{C as ir}from"../chunks/gU--zBIq.js";import{B as Et}from"../chunks/C7UUfNEJ.js";import{O as or,Q as ur,M as dr}from"../chunks/BQtyXYhr.js";import{t as Pt}from"../chunks/CG5NajwC.js";import{g as ht}from"../chunks/DVB1K4X6.js";import{a as cr}from"../chunks/CpPhVZOh.js";import{T as jt}from"../chunks/CqnpH9aS.js";import{M as fr}from"../chunks/y53lLsyc.js";function Ft(r,e,t){const s=r.slice();return s[32]=e[t],s}function Ct(r,e,t){const s=r.slice();return s[35]=e[t],s}function mr(r){let e;return{c(){e=V("Let's help you post new stuff")},l(t){e=L(t,"Let's help you post new stuff")},m(t,s){F(t,e,s)},d(t){t&&u(e)}}}function pr(r){let e;return{c(){e=V("Fill in the details about your object, you can leave any blank if you are not sure, but try to be as precise as possible")},l(t){e=L(t,"Fill in the details about your object, you can leave any blank if you are not sure, but try to be as precise as possible")},m(t,s){F(t,e,s)},d(t){t&&u(e)}}}function hr(r){let e,t,s,a;return e=new ir({props:{class:"text-xl font-semibold text-neutral-900 dark:text-white",$$slots:{default:[mr]},$$scope:{ctx:r}}}),s=new ar({props:{class:"text-sm mt-1 text-neutral-600 dark:text-neutral-400",$$slots:{default:[pr]},$$scope:{ctx:r}}}),{c(){Q(e.$$.fragment),t=D(),Q(s.$$.fragment)},l(l){G(e.$$.fragment,l),t=I(l),G(s.$$.fragment,l)},m(l,o){ee(e,l,o),F(l,t,o),ee(s,l,o),a=!0},p(l,o){const f={};o[1]&128&&(f.$$scope={dirty:o,ctx:l}),e.$set(f);const c={};o[1]&128&&(c.$$scope={dirty:o,ctx:l}),s.$set(c)},i(l){a||(te(e.$$.fragment,l),te(s.$$.fragment,l),a=!0)},o(l){re(e.$$.fragment,l),re(s.$$.fragment,l),a=!1},d(l){l&&u(t),le(e,l),le(s,l)}}}function Ot(r){let e,t,s,a='<svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-red-500" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z" clip-rule="evenodd"></path></svg>',l,o,f,c="We encountered a problem",P,_,x=(r[10].general||r[10].api)+"",p,h,E,m,T,v,S="If the problem persists, try refreshing the page or checking your internet connection.",A=r[10].mediaFiles.length>0&&Tt(r),z=r[10].subParts.length>0&&It(r),j=r[10].imageUpload&&Lt(r);return{c(){e=w("div"),t=w("div"),s=w("div"),s.innerHTML=a,l=D(),o=w("div"),f=w("h3"),f.textContent=c,P=D(),_=w("div"),p=V(x),h=D(),A&&A.c(),E=D(),z&&z.c(),m=D(),j&&j.c(),T=D(),v=w("div"),v.textContent=S,this.h()},l(M){e=k(M,"DIV",{class:!0});var Y=b(e);t=k(Y,"DIV",{class:!0});var de=b(t);s=k(de,"DIV",{class:!0,"data-svelte-h":!0}),Fe(s)!=="svelte-djm2zv"&&(s.innerHTML=a),l=I(de),o=k(de,"DIV",{class:!0});var U=b(o);f=k(U,"H3",{class:!0,"data-svelte-h":!0}),Fe(f)!=="svelte-11phv65"&&(f.textContent=c),P=I(U),_=k(U,"DIV",{class:!0});var ce=b(_);p=L(ce,x),ce.forEach(u),h=I(U),A&&A.l(U),E=I(U),z&&z.l(U),m=I(U),j&&j.l(U),T=I(U),v=k(U,"DIV",{class:!0,"data-svelte-h":!0}),Fe(v)!=="svelte-l203zd"&&(v.textContent=S),U.forEach(u),de.forEach(u),Y.forEach(u),this.h()},h(){i(s,"class","flex-shrink-0 mt-0.5"),i(f,"class","text-sm font-medium text-red-800 dark:text-red-300"),i(_,"class","mt-1 text-sm text-red-700 dark:text-red-400"),i(v,"class","mt-2 text-xs text-red-600 dark:text-red-400"),i(o,"class","ml-3"),i(t,"class","flex items-start"),i(e,"class","mb-6 p-4 border border-red-200 bg-red-50 dark:bg-red-900/20 dark:border-red-800 rounded-lg")},m(M,Y){F(M,e,Y),d(e,t),d(t,s),d(t,l),d(t,o),d(o,f),d(o,P),d(o,_),d(_,p),d(o,h),A&&A.m(o,null),d(o,E),z&&z.m(o,null),d(o,m),j&&j.m(o,null),d(o,T),d(o,v)},p(M,Y){Y[0]&1024&&x!==(x=(M[10].general||M[10].api)+"")&&Z(p,x),M[10].mediaFiles.length>0?A?A.p(M,Y):(A=Tt(M),A.c(),A.m(o,E)):A&&(A.d(1),A=null),M[10].subParts.length>0?z?z.p(M,Y):(z=It(M),z.c(),z.m(o,m)):z&&(z.d(1),z=null),M[10].imageUpload?j?j.p(M,Y):(j=Lt(M),j.c(),j.m(o,T)):j&&(j.d(1),j=null)},d(M){M&&u(e),A&&A.d(),z&&z.d(),j&&j.d()}}}function Tt(r){let e,t,s,a=r[10].mediaFiles.length+"",l,o,f=r[10].mediaFiles.length===1?"":"s",c,P,_,x=Qe(r[10].mediaFiles),p=[];for(let h=0;h<x.length;h+=1)p[h]=Dt(Ct(r,x,h));return{c(){e=w("div"),t=w("details"),s=w("summary"),l=V(a),o=V(" media file issue"),c=V(f),P=D(),_=w("ul");for(let h=0;h<p.length;h+=1)p[h].c();this.h()},l(h){e=k(h,"DIV",{class:!0});var E=b(e);t=k(E,"DETAILS",{class:!0});var m=b(t);s=k(m,"SUMMARY",{class:!0});var T=b(s);l=L(T,a),o=L(T," media file issue"),c=L(T,f),T.forEach(u),P=I(m),_=k(m,"UL",{class:!0});var v=b(_);for(let S=0;S<p.length;S+=1)p[S].l(v);v.forEach(u),m.forEach(u),E.forEach(u),this.h()},h(){i(s,"class","cursor-pointer font-medium"),i(_,"class","mt-2 pl-5 list-disc space-y-1 text-xs"),i(t,"class","text-sm"),i(e,"class","mt-2")},m(h,E){F(h,e,E),d(e,t),d(t,s),d(s,l),d(s,o),d(s,c),d(t,P),d(t,_);for(let m=0;m<p.length;m+=1)p[m]&&p[m].m(_,null)},p(h,E){if(E[0]&1024&&a!==(a=h[10].mediaFiles.length+"")&&Z(l,a),E[0]&1024&&f!==(f=h[10].mediaFiles.length===1?"":"s")&&Z(c,f),E[0]&1024){x=Qe(h[10].mediaFiles);let m;for(m=0;m<x.length;m+=1){const T=Ct(h,x,m);p[m]?p[m].p(T,E):(p[m]=Dt(T),p[m].c(),p[m].m(_,null))}for(;m<p.length;m+=1)p[m].d(1);p.length=x.length}},d(h){h&&u(e),St(p,h)}}}function Dt(r){let e,t=r[35].filename+"",s,a,l=r[35].error+"",o;return{c(){e=w("li"),s=V(t),a=V(": "),o=V(l)},l(f){e=k(f,"LI",{});var c=b(e);s=L(c,t),a=L(c,": "),o=L(c,l),c.forEach(u)},m(f,c){F(f,e,c),d(e,s),d(e,a),d(e,o)},p(f,c){c[0]&1024&&t!==(t=f[35].filename+"")&&Z(s,t),c[0]&1024&&l!==(l=f[35].error+"")&&Z(o,l)},d(f){f&&u(e)}}}function It(r){let e,t,s,a=r[10].subParts.length+"",l,o,f=r[10].subParts.length===1?"":"s",c,P,_,x=Qe(r[10].subParts),p=[];for(let h=0;h<x.length;h+=1)p[h]=Vt(Ft(r,x,h));return{c(){e=w("div"),t=w("details"),s=w("summary"),l=V(a),o=V(" object part issue"),c=V(f),P=D(),_=w("ul");for(let h=0;h<p.length;h+=1)p[h].c();this.h()},l(h){e=k(h,"DIV",{class:!0});var E=b(e);t=k(E,"DETAILS",{class:!0});var m=b(t);s=k(m,"SUMMARY",{class:!0});var T=b(s);l=L(T,a),o=L(T," object part issue"),c=L(T,f),T.forEach(u),P=I(m),_=k(m,"UL",{class:!0});var v=b(_);for(let S=0;S<p.length;S+=1)p[S].l(v);v.forEach(u),m.forEach(u),E.forEach(u),this.h()},h(){i(s,"class","cursor-pointer font-medium"),i(_,"class","mt-2 pl-5 list-disc space-y-1 text-xs"),i(t,"class","text-sm"),i(e,"class","mt-2")},m(h,E){F(h,e,E),d(e,t),d(t,s),d(s,l),d(s,o),d(s,c),d(t,P),d(t,_);for(let m=0;m<p.length;m+=1)p[m]&&p[m].m(_,null)},p(h,E){if(E[0]&1024&&a!==(a=h[10].subParts.length+"")&&Z(l,a),E[0]&1024&&f!==(f=h[10].subParts.length===1?"":"s")&&Z(c,f),E[0]&1024){x=Qe(h[10].subParts);let m;for(m=0;m<x.length;m+=1){const T=Ft(h,x,m);p[m]?p[m].p(T,E):(p[m]=Vt(T),p[m].c(),p[m].m(_,null))}for(;m<p.length;m+=1)p[m].d(1);p.length=x.length}},d(h){h&&u(e),St(p,h)}}}function Vt(r){let e,t=r[32].name+"",s,a,l=r[32].error+"",o;return{c(){e=w("li"),s=V(t),a=V(": "),o=V(l)},l(f){e=k(f,"LI",{});var c=b(e);s=L(c,t),a=L(c,": "),o=L(c,l),c.forEach(u)},m(f,c){F(f,e,c),d(e,s),d(e,a),d(e,o)},p(f,c){c[0]&1024&&t!==(t=f[32].name+"")&&Z(s,t),c[0]&1024&&l!==(l=f[32].error+"")&&Z(o,l)},d(f){f&&u(e)}}}function Lt(r){let e,t=r[10].imageUpload+"",s;return{c(){e=w("div"),s=V(t),this.h()},l(a){e=k(a,"DIV",{class:!0});var l=b(e);s=L(l,t),l.forEach(u),this.h()},h(){i(e,"class","mt-1 text-sm text-red-700 dark:text-red-400")},m(a,l){F(a,e,l),d(e,s)},p(a,l){l[0]&1024&&t!==(t=a[10].imageUpload+"")&&Z(s,t)},d(a){a&&u(e)}}}function At(r){let e,t=r[8].title+"",s;return{c(){e=w("p"),s=V(t),this.h()},l(a){e=k(a,"P",{class:!0});var l=b(e);s=L(l,t),l.forEach(u),this.h()},h(){i(e,"class","text-red-500 text-sm mt-1")},m(a,l){F(a,e,l),d(e,s)},p(a,l){l[0]&256&&t!==(t=a[8].title+"")&&Z(s,t)},d(a){a&&u(e)}}}function zt(r){let e,t=r[8].description+"",s;return{c(){e=w("p"),s=V(t),this.h()},l(a){e=k(a,"P",{class:!0});var l=b(e);s=L(l,t),l.forEach(u),this.h()},h(){i(e,"class","text-red-500 text-sm mt-1")},m(a,l){F(a,e,l),d(e,s)},p(a,l){l[0]&256&&t!==(t=a[8].description+"")&&Z(s,t)},d(a){a&&u(e)}}}function Mt(r){let e,t=r[8].media+"",s;return{c(){e=w("p"),s=V(t),this.h()},l(a){e=k(a,"P",{class:!0});var l=b(e);s=L(l,t),l.forEach(u),this.h()},h(){i(e,"class","text-red-500 text-sm mt-2")},m(a,l){F(a,e,l),d(e,s)},p(a,l){l[0]&256&&t!==(t=a[8].media+"")&&Z(s,t)},d(a){a&&u(e)}}}function gr(r){let e,t,s;return{c(){e=oe("svg"),t=oe("path"),s=V(`\r
                                Post Your Stuff`),this.h()},l(a){e=ue(a,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var l=b(e);t=ue(l,"path",{d:!0}),b(t).forEach(u),l.forEach(u),s=L(a,`\r
                                Post Your Stuff`),this.h()},h(){i(t,"d","M20 6L9 17l-5-5"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4 mr-1.5"),i(e,"viewBox","0 0 24 24"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2.5"),i(e,"stroke-linecap","round"),i(e,"stroke-linejoin","round")},m(a,l){F(a,e,l),d(e,t),F(a,s,l)},d(a){a&&(u(e),u(s))}}}function br(r){let e,t;return{c(){e=w("div"),t=V(`\r
                                Creating Post...`),this.h()},l(s){e=k(s,"DIV",{class:!0}),b(e).forEach(u),t=L(s,`\r
                                Creating Post...`),this.h()},h(){i(e,"class","animate-spin mr-2 h-4 w-4 border-2 border-white border-t-transparent rounded-full")},m(s,a){F(s,e,a),F(s,t,a)},d(s){s&&(u(e),u(t))}}}function _r(r){let e;function t(l,o){return l[9]?br:gr}let s=t(r),a=s(r);return{c(){a.c(),e=xt()},l(l){a.l(l),e=xt()},m(l,o){a.m(l,o),F(l,e,o)},p(l,o){s!==(s=t(l))&&(a.d(1),a=s(l),a&&(a.c(),a.m(e.parentNode,e)))},d(l){l&&u(e),a.d(l)}}}function vr(r){let e,t,s,a;return{c(){e=oe("svg"),t=oe("line"),s=oe("polyline"),a=V(`\r
                            Cancel`),this.h()},l(l){e=ue(l,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var o=b(e);t=ue(o,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),b(t).forEach(u),s=ue(o,"polyline",{points:!0}),b(s).forEach(u),o.forEach(u),a=L(l,`\r
                            Cancel`),this.h()},h(){i(t,"x1","19"),i(t,"y1","12"),i(t,"x2","5"),i(t,"y2","12"),i(s,"points","12 19 5 12 12 5"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","h-4 w-4 mr-1.5"),i(e,"viewBox","0 0 24 24"),i(e,"fill","none"),i(e,"stroke","currentColor"),i(e,"stroke-width","2"),i(e,"stroke-linecap","round"),i(e,"stroke-linejoin","round")},m(l,o){F(l,e,o),d(e,t),d(e,s),F(l,a,o)},p:er,d(l){l&&(u(e),u(a))}}}function wr(r){let e,t,s,a=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M12 20h9"></path><path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"></path></svg>
                            Title*`,l,o,f,c,P,_,x,p=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
                            Description*`,h,E,m,T,v,S,A,z,j,M,Y,de,U,ce=r[7].length+"",Ve,Be,He,$,J,C,Le,qe,X,fe,B,se,K,xe,g,O=r[2].length+"",W,ae,Ge,Ae,me,et,tt,Ne,ne,Ce,gt=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="7" height="7"></rect><rect x="14" y="3" width="7" height="7"></rect><rect x="14" y="14" width="7" height="7"></rect><rect x="3" y="14" width="7" height="7"></rect></svg>
                            Object Parts (Optional)`,rt,Oe,bt="You can add parts to your mystery object if it consists of multiple components.",lt,ze,pe,st,Re,he,Te,_t=`<svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1.5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect><circle cx="8.5" cy="8.5" r="1.5"></circle><polyline points="21 15 16 10 5 21"></polyline></svg>
                            Media Files*`,at,ge,ie,nt,it,ot,Je,be,_e,ut,ve,Me,H=(r[10].general||r[10].api)&&Ot(r);function Ut(n){r[17](n)}let vt={id:"title",class:"w-full p-3 border rounded-md text-sm bg-white dark:bg-neutral-950 border-neutral-200 dark:border-neutral-700 focus:ring-2 focus:ring-teal-500/30 focus:border-teal-500",placeholder:"This is what people will see on their homepage so try to make it interesting"};r[1]!==void 0&&(vt.value=r[1]),o=new jt({props:vt}),ke.push(()=>$e(o,"value",Ut));let q=r[8].title&&At(r);function Yt(n){r[18](n)}let wt={id:"description",class:"w-full p-3 border rounded-md text-sm bg-white dark:bg-neutral-950 border-neutral-200 dark:border-neutral-700 focus:ring-2 focus:ring-teal-500/30 focus:border-teal-500 min-h-[120px]",placeholder:"You can add any additional context about your object or how you came into possession of it."};r[4]!==void 0&&(wt.value=r[4]),E=new jt({props:wt}),ke.push(()=>$e(E,"value",Yt));let N=r[8].description&&zt(r);function Bt(n){r[19](n)}function Ht(n){r[20](n)}let dt={};r[6]!==void 0&&(dt.attributeValues=r[6]),r[7]!==void 0&&(dt.activeAttributes=r[7]),J=new or({props:dt}),ke.push(()=>$e(J,"attributeValues",Bt)),ke.push(()=>$e(J,"activeAttributes",Ht)),J.$on("update",r[12]),J.$on("valuechange",r[13]);function qt(n){r[21](n)}function Nt(n){r[22](n)}let ct={};r[2]!==void 0&&(ct.tags=r[2]),r[3]!==void 0&&(ct.labels=r[3]),me=new ur({props:ct}),ke.push(()=>$e(me,"tags",qt)),ke.push(()=>$e(me,"labels",Nt));function Rt(n){r[23](n)}let kt={mysteryObjectId:null};r[5]!==void 0&&(kt.subParts=r[5]),pe=new dr({props:kt}),ke.push(()=>$e(pe,"subParts",Rt)),pe.$on("update",r[15]);function Jt(n){r[24](n)}function Xt(n){r[25](n)}let ft={};r[0]!==void 0&&(ft.mediaFiles=r[0]),r[8]!==void 0&&(ft.errors=r[8]),ie=new fr({props:ft}),ke.push(()=>$e(ie,"mediaFiles",Jt)),ke.push(()=>$e(ie,"errors",Xt)),ie.$on("update",r[11]);let R=r[8].media&&Mt(r);return _e=new Et({props:{variant:"default",class:"text-sm py-1 px-4 bg-teal-600 hover:bg-teal-700 text-white rounded-full",disabled:r[9],$$slots:{default:[_r]},$$scope:{ctx:r}}}),_e.$on("click",r[14]),ve=new Et({props:{variant:"outline",class:"text-sm py-1 px-3 border-neutral-300 dark:border-neutral-700 hover:bg-neutral-100 dark:hover:bg-neutral-800 rounded-full",disabled:r[9],$$slots:{default:[vr]},$$scope:{ctx:r}}}),ve.$on("click",r[26]),{c(){H&&H.c(),e=D(),t=w("div"),s=w("label"),s.innerHTML=a,l=D(),Q(o.$$.fragment),c=D(),q&&q.c(),P=D(),_=w("div"),x=w("label"),x.innerHTML=p,h=D(),Q(E.$$.fragment),T=D(),N&&N.c(),v=D(),S=w("div"),A=w("div"),z=w("div"),j=oe("svg"),M=oe("path"),Y=oe("line"),de=V(`\r
                                Object Attributes\r
                                `),U=w("span"),Ve=V(ce),Be=V(" added"),He=D(),$=w("div"),Q(J.$$.fragment),qe=D(),X=w("div"),fe=w("div"),B=oe("svg"),se=oe("path"),K=oe("line"),xe=V(`\r
                                Tags\r
                                `),g=w("span"),W=V(O),ae=V(" added"),Ge=D(),Ae=w("div"),Q(me.$$.fragment),Ne=D(),ne=w("div"),Ce=w("h3"),Ce.innerHTML=gt,rt=D(),Oe=w("p"),Oe.textContent=bt,lt=D(),ze=w("div"),Q(pe.$$.fragment),Re=D(),he=w("div"),Te=w("h3"),Te.innerHTML=_t,at=D(),ge=w("div"),Q(ie.$$.fragment),ot=D(),R&&R.c(),Je=D(),be=w("div"),Q(_e.$$.fragment),ut=D(),Q(ve.$$.fragment),this.h()},l(n){H&&H.l(n),e=I(n),t=k(n,"DIV",{class:!0});var y=b(t);s=k(y,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Fe(s)!=="svelte-1slex1s"&&(s.innerHTML=a),l=I(y),G(o.$$.fragment,y),c=I(y),q&&q.l(y),y.forEach(u),P=I(n),_=k(n,"DIV",{class:!0});var we=b(_);x=k(we,"LABEL",{for:!0,class:!0,"data-svelte-h":!0}),Fe(x)!=="svelte-1h2xg6h"&&(x.innerHTML=p),h=I(we),G(E.$$.fragment,we),T=I(we),N&&N.l(we),we.forEach(u),v=I(n),S=k(n,"DIV",{class:!0});var De=b(S);A=k(De,"DIV",{class:!0});var Ee=b(A);z=k(Ee,"DIV",{class:!0});var Pe=b(z);j=ue(Pe,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var Se=b(j);M=ue(Se,"path",{d:!0}),b(M).forEach(u),Y=ue(Se,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),b(Y).forEach(u),Se.forEach(u),de=L(Pe,`\r
                                Object Attributes\r
                                `),U=k(Pe,"SPAN",{class:!0});var Ie=b(U);Ve=L(Ie,ce),Be=L(Ie," added"),Ie.forEach(u),Pe.forEach(u),He=I(Ee),$=k(Ee,"DIV",{class:!0});var Ue=b($);G(J.$$.fragment,Ue),Ue.forEach(u),Ee.forEach(u),qe=I(De),X=k(De,"DIV",{class:!0});var je=b(X);fe=k(je,"DIV",{class:!0});var Xe=b(fe);B=ue(Xe,"svg",{xmlns:!0,class:!0,viewBox:!0,fill:!0,stroke:!0,"stroke-width":!0,"stroke-linecap":!0,"stroke-linejoin":!0});var mt=b(B);se=ue(mt,"path",{d:!0}),b(se).forEach(u),K=ue(mt,"line",{x1:!0,y1:!0,x2:!0,y2:!0}),b(K).forEach(u),mt.forEach(u),xe=L(Xe,`\r
                                Tags\r
                                `),g=k(Xe,"SPAN",{class:!0});var pt=b(g);W=L(pt,O),ae=L(pt," added"),pt.forEach(u),Xe.forEach(u),Ge=I(je),Ae=k(je,"DIV",{class:!0});var yt=b(Ae);G(me.$$.fragment,yt),yt.forEach(u),je.forEach(u),De.forEach(u),Ne=I(n),ne=k(n,"DIV",{class:!0});var Ye=b(ne);Ce=k(Ye,"H3",{class:!0,"data-svelte-h":!0}),Fe(Ce)!=="svelte-h3zurb"&&(Ce.innerHTML=gt),rt=I(Ye),Oe=k(Ye,"P",{class:!0,"data-svelte-h":!0}),Fe(Oe)!=="svelte-ga1ny"&&(Oe.textContent=bt),lt=I(Ye),ze=k(Ye,"DIV",{class:!0});var $t=b(ze);G(pe.$$.fragment,$t),$t.forEach(u),Ye.forEach(u),Re=I(n),he=k(n,"DIV",{class:!0});var Ze=b(he);Te=k(Ze,"H3",{class:!0,"data-svelte-h":!0}),Fe(Te)!=="svelte-ss8gp1"&&(Te.innerHTML=_t),at=I(Ze),ge=k(Ze,"DIV",{class:!0});var Ke=b(ge);G(ie.$$.fragment,Ke),ot=I(Ke),R&&R.l(Ke),Ke.forEach(u),Ze.forEach(u),Je=I(n),be=k(n,"DIV",{class:!0});var We=b(be);G(_e.$$.fragment,We),ut=I(We),G(ve.$$.fragment,We),We.forEach(u),this.h()},h(){i(s,"for","title"),i(s,"class","block text-sm font-medium mb-1.5 text-neutral-700 dark:text-neutral-300 flex items-center"),i(t,"class","mb-4"),i(x,"for","description"),i(x,"class","block text-sm font-medium mb-1.5 text-neutral-700 dark:text-neutral-300 flex items-center"),i(_,"class","mb-5"),i(M,"d","M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"),i(Y,"x1","7"),i(Y,"y1","7"),i(Y,"x2","7.01"),i(Y,"y2","7"),i(j,"xmlns","http://www.w3.org/2000/svg"),i(j,"class","h-4 w-4 mr-1.5"),i(j,"viewBox","0 0 24 24"),i(j,"fill","none"),i(j,"stroke","currentColor"),i(j,"stroke-width","2"),i(j,"stroke-linecap","round"),i(j,"stroke-linejoin","round"),i(U,"class","ml-2 px-2 py-0.5 bg-neutral-100 dark:bg-neutral-800 text-xs rounded-full text-neutral-700 dark:text-neutral-300"),i(z,"class","mb-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 flex items-center"),i($,"class","bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-700 rounded-md shadow-sm p-3"),i(A,"class","w-full lg:w-1/2 mb-6 lg:mb-0"),i(se,"d","M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"),i(K,"x1","7"),i(K,"y1","7"),i(K,"x2","7.01"),i(K,"y2","7"),i(B,"xmlns","http://www.w3.org/2000/svg"),i(B,"class","h-4 w-4 mr-1.5"),i(B,"viewBox","0 0 24 24"),i(B,"fill","none"),i(B,"stroke","currentColor"),i(B,"stroke-width","2"),i(B,"stroke-linecap","round"),i(B,"stroke-linejoin","round"),i(g,"class","ml-2 px-2 py-0.5 bg-neutral-100 dark:bg-neutral-800 text-xs rounded-full text-neutral-700 dark:text-neutral-300"),i(fe,"class","mb-2 text-sm font-medium text-neutral-700 dark:text-neutral-300 flex items-center"),i(Ae,"class","bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-700 rounded-md shadow-sm p-3"),i(X,"class","w-full lg:w-1/2"),i(S,"class","flex flex-col lg:flex-row lg:gap-6 mb-6"),i(Ce,"class","block text-sm font-medium mb-2 text-neutral-700 dark:text-neutral-300 flex items-center"),i(Oe,"class","text-sm text-neutral-500 dark:text-neutral-400 mb-3"),i(ze,"class","bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-700 rounded-md shadow-sm p-3"),i(ne,"class","mb-6"),i(Te,"class","block text-sm font-medium mb-2 text-neutral-700 dark:text-neutral-300 flex items-center"),i(ge,"class","bg-white dark:bg-neutral-950 border border-neutral-200 dark:border-neutral-700 rounded-md shadow-sm p-3"),i(he,"class","mb-6"),i(be,"class","flex justify-start gap-3 border-t border-neutral-100 dark:border-neutral-800 pt-4 mt-6")},m(n,y){H&&H.m(n,y),F(n,e,y),F(n,t,y),d(t,s),d(t,l),ee(o,t,null),d(t,c),q&&q.m(t,null),F(n,P,y),F(n,_,y),d(_,x),d(_,h),ee(E,_,null),d(_,T),N&&N.m(_,null),F(n,v,y),F(n,S,y),d(S,A),d(A,z),d(z,j),d(j,M),d(j,Y),d(z,de),d(z,U),d(U,Ve),d(U,Be),d(A,He),d(A,$),ee(J,$,null),d(S,qe),d(S,X),d(X,fe),d(fe,B),d(B,se),d(B,K),d(fe,xe),d(fe,g),d(g,W),d(g,ae),d(X,Ge),d(X,Ae),ee(me,Ae,null),F(n,Ne,y),F(n,ne,y),d(ne,Ce),d(ne,rt),d(ne,Oe),d(ne,lt),d(ne,ze),ee(pe,ze,null),F(n,Re,y),F(n,he,y),d(he,Te),d(he,at),d(he,ge),ee(ie,ge,null),d(ge,ot),R&&R.m(ge,null),F(n,Je,y),F(n,be,y),ee(_e,be,null),d(be,ut),ee(ve,be,null),Me=!0},p(n,y){n[10].general||n[10].api?H?H.p(n,y):(H=Ot(n),H.c(),H.m(e.parentNode,e)):H&&(H.d(1),H=null);const we={};!f&&y[0]&2&&(f=!0,we.value=n[1],ye(()=>f=!1)),o.$set(we),n[8].title?q?q.p(n,y):(q=At(n),q.c(),q.m(t,null)):q&&(q.d(1),q=null);const De={};!m&&y[0]&16&&(m=!0,De.value=n[4],ye(()=>m=!1)),E.$set(De),n[8].description?N?N.p(n,y):(N=zt(n),N.c(),N.m(_,null)):N&&(N.d(1),N=null),(!Me||y[0]&128)&&ce!==(ce=n[7].length+"")&&Z(Ve,ce);const Ee={};!C&&y[0]&64&&(C=!0,Ee.attributeValues=n[6],ye(()=>C=!1)),!Le&&y[0]&128&&(Le=!0,Ee.activeAttributes=n[7],ye(()=>Le=!1)),J.$set(Ee),(!Me||y[0]&4)&&O!==(O=n[2].length+"")&&Z(W,O);const Pe={};!et&&y[0]&4&&(et=!0,Pe.tags=n[2],ye(()=>et=!1)),!tt&&y[0]&8&&(tt=!0,Pe.labels=n[3],ye(()=>tt=!1)),me.$set(Pe);const Se={};!st&&y[0]&32&&(st=!0,Se.subParts=n[5],ye(()=>st=!1)),pe.$set(Se);const Ie={};!nt&&y[0]&1&&(nt=!0,Ie.mediaFiles=n[0],ye(()=>nt=!1)),!it&&y[0]&256&&(it=!0,Ie.errors=n[8],ye(()=>it=!1)),ie.$set(Ie),n[8].media?R?R.p(n,y):(R=Mt(n),R.c(),R.m(ge,null)):R&&(R.d(1),R=null);const Ue={};y[0]&512&&(Ue.disabled=n[9]),y[0]&512|y[1]&128&&(Ue.$$scope={dirty:y,ctx:n}),_e.$set(Ue);const je={};y[0]&512&&(je.disabled=n[9]),y[1]&128&&(je.$$scope={dirty:y,ctx:n}),ve.$set(je)},i(n){Me||(te(o.$$.fragment,n),te(E.$$.fragment,n),te(J.$$.fragment,n),te(me.$$.fragment,n),te(pe.$$.fragment,n),te(ie.$$.fragment,n),te(_e.$$.fragment,n),te(ve.$$.fragment,n),Me=!0)},o(n){re(o.$$.fragment,n),re(E.$$.fragment,n),re(J.$$.fragment,n),re(me.$$.fragment,n),re(pe.$$.fragment,n),re(ie.$$.fragment,n),re(_e.$$.fragment,n),re(ve.$$.fragment,n),Me=!1},d(n){n&&(u(e),u(t),u(P),u(_),u(v),u(S),u(Ne),u(ne),u(Re),u(he),u(Je),u(be)),H&&H.d(n),le(o),q&&q.d(),le(E),N&&N.d(),le(J),le(me),le(pe),le(ie),R&&R.d(),le(_e),le(ve)}}}function kr(r){let e,t,s,a;return e=new nr({props:{class:"p-4 border-b border-neutral-100 dark:border-neutral-800",$$slots:{default:[hr]},$$scope:{ctx:r}}}),s=new sr({props:{class:"p-4 sm:p-6",$$slots:{default:[wr]},$$scope:{ctx:r}}}),{c(){Q(e.$$.fragment),t=D(),Q(s.$$.fragment)},l(l){G(e.$$.fragment,l),t=I(l),G(s.$$.fragment,l)},m(l,o){ee(e,l,o),F(l,t,o),ee(s,l,o),a=!0},p(l,o){const f={};o[1]&128&&(f.$$scope={dirty:o,ctx:l}),e.$set(f);const c={};o[0]&2047|o[1]&128&&(c.$$scope={dirty:o,ctx:l}),s.$set(c)},i(l){a||(te(e.$$.fragment,l),te(s.$$.fragment,l),a=!0)},o(l){re(e.$$.fragment,l),re(s.$$.fragment,l),a=!1},d(l){l&&u(t),le(e,l),le(s,l)}}}function yr(r){let e,t,s,a,l,o,f;return a=new lr({props:{class:"bg-white dark:bg-neutral-950 shadow-md rounded-md border border-neutral-200 dark:border-neutral-800 overflow-hidden",$$slots:{default:[kr]},$$scope:{ctx:r}}}),{c(){e=w("div"),t=w("div"),s=w("form"),Q(a.$$.fragment),this.h()},l(c){e=k(c,"DIV",{class:!0});var P=b(e);t=k(P,"DIV",{class:!0});var _=b(t);s=k(_,"FORM",{class:!0});var x=b(s);G(a.$$.fragment,x),x.forEach(u),_.forEach(u),P.forEach(u),this.h()},h(){i(s,"class","w-full"),i(t,"class","w-full max-w-7xl mx-auto"),i(e,"class","flex flex-col items-center bg-change dark:bg-dark shifting p-3 py-5")},m(c,P){F(c,e,P),d(e,t),d(t,s),ee(a,s,null),l=!0,o||(f=Kt(s,"submit",Wt(r[14])),o=!0)},p(c,P){const _={};P[0]&2047|P[1]&128&&(_.$$scope={dirty:P,ctx:c}),a.$set(_)},i(c){l||(te(a.$$.fragment,c),l=!0)},o(c){re(a.$$.fragment,c),l=!1},d(c){c&&u(e),le(a),o=!1,f()}}}async function $r(r){var t,s,a;const e=`https://www.wikidata.org/w/api.php?action=wbgetentities&ids=${r}&format=json&languages=en&origin=*`;try{const f=(a=(s=(t=(await(await fetch(e)).json()).entities[r])==null?void 0:t.labels)==null?void 0:s.en)==null?void 0:a.value;if(!f)throw new Error(`Label not found for qcode: ${r}`);return f}catch(l){return console.error("Error fetching label:",l),null}}async function xr(r){const e=[];for(const t of r){const s=await $r(t.id);s&&e.push({id:t.id,label:s})}return e}function Er(r){return{description:r.description||"",material:r.material||null,color:r.color||null,shape:r.shape||null,location:r.location||null,smell:r.smell||null,taste:r.taste||null,texture:r.texture||null,functionality:r.functionality||null,markings:r.markings||null,handmade:r.handmade||!1,oneOfAKind:r.oneOfAKind||!1,weight:r.weight?parseFloat(r.weight):null,timePeriod:r.timePeriod||null,writtenText:r.writtenText||null,descriptionOfParts:r.descriptionOfParts||null,hardness:r.hardness||null,value:r.value?parseFloat(r.value):null,originOfAcquisition:r.originOfAcquisition||null,pattern:r.pattern||null,brand:r.brand||null,print:r.print||null,imageLicenses:r.imageLicenses||null,sizeX:r.sizeX?parseFloat(r.sizeX):null,sizeY:r.sizeY?parseFloat(r.sizeY):null,sizeZ:r.sizeZ?parseFloat(r.sizeZ):null,item_condition:r.item_condition||null}}function Pr(r,e,t){let s;Qt(r,cr,$=>t(16,s=$));let a=[],l="",o=[],f=[],c="",P=[],_={material:"",shape:"",color:"",texture:"",weight:"",smell:"",taste:"",marking:"",functionality:"",period:"",location:"",writtenText:"",descriptionOfParts:"",hardness:"",value:"",originOfAcquisition:"",pattern:"",brand:"",print:"",imageLicenses:"",sizeX:"",sizeY:"",sizeZ:"",itemCondition:"",handmade:!1,oneOfAKind:!1},x=[],p={title:"",media:"",description:""};function h($){t(0,a=$.detail.mediaFiles)}function E($){t(7,x=$.detail.activeAttributes)}function m($){t(6,_=$.detail.attributeValues)}let T=!1,v={general:"",api:"",imageUpload:"",mediaFiles:[],subParts:[]},S=async()=>{t(8,p={title:"",media:"",description:""}),t(10,v={general:"",api:"",imageUpload:"",mediaFiles:[],subParts:[]});let $=!1;if(l.trim()||(t(8,p.title="Title is required",p),$=!0),a.length===0&&(t(8,p.media="At least one media file is required",p),$=!0),c.trim()||(t(8,p.description="Description is required",p),$=!0),$){window.scrollTo({top:0,behavior:"smooth"});return}try{t(9,T=!0);const J=await xr(o),C=JSON.parse(JSON.stringify(_)),Le={description:c,material:C.material||null,color:C.colorHex||null,shape:C.shape||null,location:C.location||null,smell:C.smell||null,taste:C.taste||C.smell||null,texture:C.texture||null,functionality:C.functionality||null,markings:C.marking||null,handmade:C.handmade||!1,oneOfAKind:C.oneOfAKind||!1,weight:parseFloat(C.weight)||null,timePeriod:C.period||null,writtenText:C.writtenText||null,descriptionOfParts:C.descriptionOfParts||null,hardness:C.hardness||null,value:parseFloat(C.value)||null,originOfAcquisition:C.originOfAcquisition||null,pattern:C.pattern||null,brand:C.brand||null,print:C.print||null,imageLicenses:C.imageLicenses||null,sizeX:parseFloat(C.sizeX)||null,sizeY:parseFloat(C.sizeY)||null,sizeZ:parseFloat(C.sizeZ)||null,item_condition:C.itemCondition||null},qe=_.color,X=new FormData;if(X.append("title",l),X.append("content",c),o&&o.length>0){const g=o.map(O=>O.id);X.append("tags",JSON.stringify(g))}else X.append("tags",JSON.stringify([]));if(X.append("mysteryObject",JSON.stringify(Le)),a.length>0){const g=a[0].file;X.append("image",g)}const fe={title:l,content:c,tags:o.map(g=>g.id),mysteryObject:Le},B=await fetch("https://backend-310608491068.europe-west1.run.app/api/posts/create-json",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(fe),credentials:"include"});if(!B.ok){let g="";try{const O=await B.json();O.message?g=O.message:O.error&&(g=O.error),g.includes("401")||g.includes("Unauthorized")?t(10,v.api="Your session may have expired. Please log in again.",v):g.includes("413")||g.toLowerCase().includes("large")?t(10,v.api="Your image is too large. Please try with a smaller file size.",v):g.includes("403")||g.includes("Forbidden")?t(10,v.api="You don't have permission to create this post.",v):t(10,v.api="We couldn't create your post. Please check your information and try again.",v)}catch(O){console.error("Error parsing response:",O),t(10,v.api="Something went wrong. Please try again or check your connection.",v)}throw new Error(v.api)}const se=await B.json();if(a.length>0){const g=new FormData;g.append("file",a[0].file);try{const O=await fetch(`https://backend-310608491068.europe-west1.run.app/api/posts/${se.postId}/mysteryObjects/${se.mysteryObjectId}/set-image`,{method:"POST",body:g,credentials:"include"});O.ok||(t(10,v.imageUpload="We couldn't upload the main image, but your post was created. You can try adding the image later.",v),console.error("Error uploading main image:",await O.text()))}catch(O){t(10,v.imageUpload="Image upload failed, but your post was created. You can add images later from the edit screen.",v),console.error("Error uploading main image:",O)}}let K=0;if(a.length>0)for(let g=0;g<a.length;g++){const O=a[g],W=new FormData;W.append("file",O.file),W.append("type",O.type||"image");try{const ae=await fetch(`https://backend-310608491068.europe-west1.run.app/api/mysteryObjects/${se.mysteryObjectId}/upload-media`,{method:"POST",body:W,credentials:"include"});ae.ok||(v.mediaFiles.push({index:g,filename:O.file.name,error:"Failed to upload. The file may be too large or in an unsupported format."}),K++,console.error(`Failed to upload media file ${g+1}:`,ae.status,ae.statusText))}catch(ae){v.mediaFiles.push({index:g,filename:O.file.name,error:"Couldn't upload. Please check your connection and try again."}),K++,console.error(`Error uploading media file ${g+1}:`,ae)}}let xe=0;if(P.length>0)for(let g=0;g<P.length;g++)try{const O=Er(P[g]),W=await fetch(`https://backend-310608491068.europe-west1.run.app/api/mysteryObjects/${se.mysteryObjectId}/subParts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(O),credentials:"include"});if(!W.ok){xe++,v.subParts.push({index:g,name:P[g].description||`Part ${g+1}`,error:"Could not add this part. Please check if your description is complete."}),console.error(`Failed to add sub-part ${g+1}:`,W.status,W.statusText);const ae=await W.text();console.error("Error response:",ae)}}catch(O){xe++,v.subParts.push({index:g,name:P[g].description||`Part ${g+1}`,error:"Failed to add this part. Try again with fewer details."}),console.error(`Error adding sub-part ${g+1}:`,O)}if(K>0||xe>0){let g=K+xe;t(10,v.general=`Your post was created successfully! However, ${g} attachment${g===1?"":"s"} couldn't be added. You can edit your post later to add them.`,v),setTimeout(()=>{Pt.update(O=>[...O,se]),ht("/")},4e3)}else Pt.update(g=>[...g,se]),ht("/")}catch(J){console.error("Error creating post:",J),!v.general&&!v.api&&t(10,v.general="We couldn't create your post. Please check your information and try again later.",v),window.scrollTo({top:0,behavior:"smooth"})}finally{t(9,T=!1)}};Gt(()=>{for(const $ of a)$.url&&URL.revokeObjectURL($.url)});function A($){t(5,P=$.detail.subParts)}function z($){l=$,t(1,l)}function j($){c=$,t(4,c)}function M($){_=$,t(6,_)}function Y($){x=$,t(7,x)}function de($){o=$,t(2,o)}function U($){f=$,t(3,f)}function ce($){P=$,t(5,P)}function Ve($){a=$,t(0,a)}function Be($){p=$,t(8,p)}const He=()=>ht("/");return r.$$.update=()=>{r.$$.dirty[0]&65536},[a,l,o,f,c,P,_,x,p,T,v,h,E,m,S,A,s,z,j,M,Y,de,U,ce,Ve,Be,He]}class Yr extends tr{constructor(e){super(),rr(this,e,Pr,yr,Zt,{},null,[-1,-1])}}export{Yr as component};
