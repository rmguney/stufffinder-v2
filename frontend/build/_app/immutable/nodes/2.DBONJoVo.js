import{s as E,E as v,i as $,f as c,D as j,k as T,C as q,e as u,a as A,c as d,b as m,g as H,l as f,h as _,n as M}from"../chunks/scheduler.CONNQF1V.js";import{S as y,i as B,t as p,g as N,e as z,b as g,c as P,a as C,m as I,d as V}from"../chunks/index.BnMMC023.js";import{e as w}from"../chunks/userStore.C8Faxakg.js";import{P as F}from"../chunks/post.ljCMMT_e.js";import{t as b}from"../chunks/threadStore.z8eUMdcT.js";function k(l,a,o){const n=l.slice();return n[1]=a[o],n}function D(l){let a,o,n,t,i;return o=new F({props:{id:l[1].id,title:l[1].title,description:l[1].description,tags:l[1].tags,imageSrc:l[1].imageSrc,postedBy:l[1].postedBy,postedDate:l[1].postedDate,variant:"thumb",resolved:l[1].resolved}}),{c(){a=u("a"),P(o.$$.fragment),n=A(),this.h()},l(e){a=d(e,"A",{href:!0,class:!0});var r=m(a);C(o.$$.fragment,r),n=H(r),r.forEach(c),this.h()},h(){f(a,"href",t=`/thread/${l[1].id}`),f(a,"class","w-full lg:w-[calc(33.333%-1rem)]")},m(e,r){$(e,a,r),I(o,a,null),_(a,n),i=!0},p(e,r){const s={};r&1&&(s.id=e[1].id),r&1&&(s.title=e[1].title),r&1&&(s.description=e[1].description),r&1&&(s.tags=e[1].tags),r&1&&(s.imageSrc=e[1].imageSrc),r&1&&(s.postedBy=e[1].postedBy),r&1&&(s.postedDate=e[1].postedDate),r&1&&(s.resolved=e[1].resolved),o.$set(s),(!i||r&1&&t!==(t=`/thread/${e[1].id}`))&&f(a,"href",t)},i(e){i||(p(o.$$.fragment,e),i=!0)},o(e){g(o.$$.fragment,e),i=!1},d(e){e&&c(a),V(o)}}}function G(l){let a,o,n=w(l[0].slice().sort(S)),t=[];for(let e=0;e<n.length;e+=1)t[e]=D(k(l,n,e));const i=e=>g(t[e],1,1,()=>{t[e]=null});return{c(){for(let e=0;e<t.length;e+=1)t[e].c();a=v()},l(e){for(let r=0;r<t.length;r+=1)t[r].l(e);a=v()},m(e,r){for(let s=0;s<t.length;s+=1)t[s]&&t[s].m(e,r);$(e,a,r),o=!0},p(e,[r]){if(r&1){n=w(e[0].slice().sort(S));let s;for(s=0;s<n.length;s+=1){const h=k(e,n,s);t[s]?(t[s].p(h,r),p(t[s],1)):(t[s]=D(h),t[s].c(),p(t[s],1),t[s].m(a.parentNode,a))}for(N(),s=n.length;s<t.length;s+=1)i(s);z()}},i(e){if(!o){for(let r=0;r<n.length;r+=1)p(t[r]);o=!0}},o(e){t=t.filter(Boolean);for(let r=0;r<t.length;r+=1)g(t[r]);o=!1},d(e){e&&c(a),j(t,e)}}}const S=(l,a)=>a.id-l.id;function J(l,a,o){let n;return T(l,b,t=>o(0,n=t)),q(async function(){try{const t=await fetch("https://threef.vercel.app/api/thread");if(!t.ok)throw new Error(`HTTP error! status: ${t.status}`);const i=await t.json();b.set(i)}catch(t){console.error("Error fetching data:",t)}}),[n]}class K extends y{constructor(a){super(),B(this,a,J,G,E,{})}}function L(l){let a,o,n,t,i;return t=new K({}),{c(){a=u("div"),o=u("div"),n=u("div"),P(t.$$.fragment),this.h()},l(e){a=d(e,"DIV",{class:!0});var r=m(a);o=d(r,"DIV",{class:!0});var s=m(o);n=d(s,"DIV",{class:!0});var h=m(n);C(t.$$.fragment,h),h.forEach(c),s.forEach(c),r.forEach(c),this.h()},h(){f(n,"class","flex flex-col lg:flex-wrap lg:flex-row justify-center gap-4 lg:gap-6"),f(o,"class","w-full lg:w-2/3"),f(a,"class","flex flex-col items-center h-full min-h-screen text-text bg-change dark:bg-dark shifting p-4 lg:py-8")},m(e,r){$(e,a,r),_(a,o),_(o,n),I(t,n,null),i=!0},p:M,i(e){i||(p(t.$$.fragment,e),i=!0)},o(e){g(t.$$.fragment,e),i=!1},d(e){e&&c(a),V(t)}}}class X extends y{constructor(a){super(),B(this,a,null,L,E,{})}}export{X as component};
